"use strict";(self.webpackChunkresponsive_navbar_website=self.webpackChunkresponsive_navbar_website||[]).push([[391],{3391:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var r=t(5043),l=t(5475),a=t(1740),i=t(7629),n=t(1046),o=t(579);const c=()=>{const[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)([]),[d,x]=(0,r.useState)(!0),[,m]=(0,r.useState)(null),[h,u]=(0,r.useState)("all"),[g,f]=(0,r.useState)(""),p=(0,l.Zp)(),v=(0,r.useCallback)(async()=>{try{const{data:{user:e}}=await a.N.auth.getUser();if(!e)return void p("/signin");m(e),await j(e.id)}catch(e){console.error("Error checking auth:",e),x(!1)}},[p,m]),j=(0,r.useCallback)(async e=>{try{x(!0);const t=await i.A.getUserFavoritesWithDetails(e);t.success?s(t.data):console.error("Error loading favorites:",t.error)}catch(t){console.error("Error loading favorites:",t)}finally{x(!1)}},[]),y=(0,r.useCallback)(()=>{let s=[...e];"services"===h?s=s.filter(e=>"service"===e.listing_type):"products"===h&&(s=s.filter(e=>"product"===e.listing_type)),g&&(s=s.filter(e=>{var s,t,r;return e.name.toLowerCase().includes(g.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(g.toLowerCase()))||(null===(t=e.provider_name)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(r=e.category)||void 0===r?void 0:r.toLowerCase().includes(g.toLowerCase()))})),c(s)},[e,h,g]);(0,r.useEffect)(()=>{v()},[v]),(0,r.useEffect)(()=>{y()},[e,h,g,y]);const N=(e,t,r)=>{e||s(e=>e.filter(e=>!(e.listing_id===t&&e.listing_type===r)))},b=(e,s)=>{if("product"===s)return"\ud83d\udce6";return{Veterinary:"\ud83c\udfe5","Pet Grooming":"\u2702\ufe0f","Pet Training":"\ud83c\udf93","Pet Breeding":"\ud83d\udc15",Nutritionists:"\ud83e\udd57","Holistic Care":"\ud83c\udf3f","Dog Walking":"\ud83d\udeb6","Pet Sitting":"\ud83c\udfe0","Pet Boarding":"\ud83c\udfe8"}[e]||"\ud83d\udc3e"};return d?(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600 font-montserrat",children:"Loading your favorites..."})]})}):(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("div",{className:"bg-white shadow px-4 sm:px-6 lg:px-12",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,o.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-lg font-bold text-gray-900 font-montserrat",children:"My Favorites"}),(0,o.jsxs)("p",{className:"text-gray-600 font-montserrat",children:[e.length," saved ",1===e.length?"listing":"listings"]})]}),(0,o.jsx)(l.N_,{to:"/marketplace",className:"bg-[#5EB47C] text-white px-6 py-2 rounded-lg hover:bg-[#4A9A64] font-montserrat transition-colors",children:"Browse More"})]})})}),(0,o.jsx)("section",{className:"pt-8 pb-8 px-4 sm:px-6 lg:px-12",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto",children:0===e.length?(0,o.jsxs)("div",{className:"text-center py-16",children:[(0,o.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2 font-montserrat",children:"No favorites yet"}),(0,o.jsx)("p",{className:"text-gray-500 mb-6 font-montserrat",children:"Start browsing and save your favorite services and products!"}),(0,o.jsx)(l.N_,{to:"/marketplace",className:"inline-flex items-center px-6 py-3 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] font-montserrat transition-colors",children:"Explore Marketplace"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,o.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,o.jsx)("input",{type:"text",placeholder:"Search your favorites...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-[#5EB47C] focus:border-[#5EB47C] font-montserrat",value:g,onChange:e=>f(e.target.value)})]})}),(0,o.jsx)("div",{className:"sm:w-48",children:(0,o.jsxs)("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-[#5EB47C] focus:border-[#5EB47C] font-montserrat",value:h,onChange:e=>u(e.target.value),children:[(0,o.jsx)("option",{value:"all",children:"All Types"}),(0,o.jsx)("option",{value:"services",children:"Services Only"}),(0,o.jsx)("option",{value:"products",children:"Products Only"})]})})]}),(0,o.jsxs)("div",{className:"mt-4 text-sm text-gray-600 font-montserrat",children:["Showing ",t.length," of ",e.length," favorites"]})]}),0===t.length?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,o.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-montserrat",children:"No matches found"}),(0,o.jsx)("p",{className:"text-gray-500 font-montserrat",children:"Try adjusting your search or filter criteria"})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{var s;return(0,o.jsx)(l.N_,{to:"service"===e.listing_type?`/provider/${e.provider_id}`:`/product/${e.listing_id}`,className:"group h-full",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300 h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"relative h-48 bg-gradient-to-br from-primary-100 to-primary-200 rounded-t-2xl overflow-hidden",children:[e.image_url?(0,o.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,o.jsx)("div",{className:(e.image_url?"hidden":"flex")+" w-full h-full items-center justify-center text-4xl",children:b(e.category,e.listing_type)}),(0,o.jsx)("div",{className:"absolute top-3 left-3",children:(0,o.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium font-montserrat "+("product"===e.listing_type?"bg-[#E5F4F1] text-[#4A9A64]":"bg-[#fef7f0] text-[#e06b1a]"),children:[b(e.category,e.listing_type),(0,o.jsx)("span",{className:"ml-1",children:"product"===e.listing_type?"Product":"Service"})]})}),(0,o.jsx)("div",{className:"absolute top-3 right-3",children:(0,o.jsx)(n.Ay,{listingId:e.listing_id,listingType:e.listing_type,size:"sm",onToggle:N})}),(0,o.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,o.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-black bg-opacity-50 text-white font-montserrat",children:["Saved ",new Date(e.favorited_at).toLocaleDateString()]})})]}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col p-4",children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 font-montserrat group-hover:text-[#5EB47C] transition-colors",children:e.name}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-3 font-montserrat line-clamp-2",children:e.description}),(0,o.jsxs)("div",{className:"flex items-center mb-3",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-[#E5F4F1] rounded-full flex items-center justify-center mr-3",children:(0,o.jsx)("span",{className:"text-[#5EB47C] font-medium text-sm font-montserrat",children:(null===(s=e.provider_name)||void 0===s?void 0:s.charAt(0))||"P"})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-900 font-montserrat truncate",children:e.provider_name||"Provider"}),e.provider_rating>0&&(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"flex text-yellow-400 mr-1",children:[...Array(5)].map((e,s)=>(0,o.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s))}),(0,o.jsxs)("span",{className:"text-xs text-gray-500 font-montserrat",children:[e.provider_rating," (",e.reviews_count,")"]})]})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,o.jsx)("div",{className:"flex-1 min-w-0",children:(0,o.jsxs)("p",{className:"text-lg font-bold text-gray-900 font-montserrat",children:["$",e.price,"service"===e.listing_type&&(0,o.jsx)("span",{className:"text-xs font-normal text-gray-500 ml-1",children:"per session"})]})}),e.city&&(0,o.jsxs)("div",{className:"flex items-center text-gray-500 ml-2 flex-shrink-0",children:[(0,o.jsxs)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,o.jsx)("span",{className:"text-xs font-montserrat truncate",children:e.city})]})]})]})]})},`${e.listing_type}-${e.listing_id}`)})})]})})})]})}}}]);
//# sourceMappingURL=391.a3b67c8e.chunk.js.map