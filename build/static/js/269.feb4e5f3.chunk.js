"use strict";(self.webpackChunkresponsive_navbar_website=self.webpackChunkresponsive_navbar_website||[]).push([[269],{3269:(e,r,t)=>{t.r(r),t.d(r,{default:()=>v});var i=t(5043),s=t(1740),n=t(5475),a=t(1046),o=t(579);const l=(0,i.memo)(e=>{let{category:r,listingType:t}=e;if("product"===t)return(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})});if("provider"===t)return(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});const i={Veterinary:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Pet Grooming":(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.5a1.5 1.5 0 011.5 1.5v1a1.5 1.5 0 01-1.5 1.5H9m0-5a1.5 1.5 0 011.5-1.5H12a1.5 1.5 0 011.5 1.5v1a1.5 1.5 0 01-1.5 1.5H10.5A1.5 1.5 0 019 11.5V10z"})}),"Pet Training":(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Pet Breeding":(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),default:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})};return i[r]||i.default});l.displayName="CategoryIcon";const d=(0,i.memo)(e=>{let{src:r,alt:t,className:i}=e;return r?(0,o.jsx)("img",{src:r,alt:t,className:i,loading:"lazy",decoding:"async",onError:e=>{e.target.style.display="none"}}):null});d.displayName="OptimizedImage";const c=(0,i.memo)(e=>{var r,t,c,m,p;let{listing:u}=e;const[x,v]=(0,i.useState)([]),[g,f]=(0,i.useState)(!1),h=(0,i.useCallback)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);(0,i.useEffect)(()=>{(async()=>{if("provider"===u.listing_type&&(u.provider_email||u.provider_id)){f(!0);try{let e=s.N.from("marketplace_listings").select("listing_id, name, service_types, price, provider_email").eq("active",!0).not("service_type","like","%LuniTriage%").order("service_type",{ascending:!0});if(u.provider_email)e=e.eq("provider_email",u.provider_email);else{if(!u.provider_id)return console.log("No provider_email or provider_id found for listing:",u.name),void f(!1);{const{data:r}=await s.N.from("providers").select("email").eq("id",u.provider_id).single();if(null===r||void 0===r||!r.email)return console.log("No provider email found for provider_id:",u.provider_id),void f(!1);e=e.eq("provider_email",r.email)}}const{data:r,error:t}=await e;if(!t&&r){const e=r.filter(e=>!e.service_type.includes("LuniTriage")),t=r.filter(e=>!e.service_type.includes("LuniTriage")&&e.service_type.includes("Mobile")).slice(0,3);if(t.length<3){const e=r.filter(e=>!e.service_type.includes("LuniTriage")&&!e.service_type.includes("Mobile")).slice(0,3-t.length);t.push(...e)}const i=t.map(r=>({...r,totalCount:e.length}));console.log("Fetched services for provider:",u.name),console.log("Total non-LuniTriage services:",e.length),console.log("Top 3 services to display:",i),v(i)}else t&&console.error("Error fetching services for provider:",u.name,t)}catch(e){console.error("Error fetching provider services:",e)}finally{f(!1)}}})()},[u.listing_type,u.provider_email,u.provider_id]);const y=(0,i.useCallback)((e,r)=>{if("product"===r)return"\ud83d\udce6";if("provider"===r)return"\ud83d\udc69\u200d\u2695\ufe0f";return{Veterinary:"\ud83c\udfe5","Pet Grooming":"\u2702\ufe0f","Pet Training":"\ud83c\udf93","Pet Breeding":"\ud83d\udc15",Nutritionists:"\ud83e\udd57","Holistic Care":"\ud83c\udf3f",vet_nurse:"\ud83d\udc69\u200d\u2695\ufe0f"}[e]||"\ud83d\udc3e"},[]),_=(0,i.useCallback)(()=>{if("provider"!==u.listing_type)return`$${u.price||0}`;if(u.price_min&&u.price_max)return u.price_min===u.price_max?`$${u.price_min}`:`$${u.price_min} - $${u.price_max}`;if(x.length>0){const e=x.map(e=>parseFloat(e.price_from)),r=Math.min(...e),t=Math.max(...e);return r===t?`$${r}`:`$${r} - $${t}`}return`$${u.price||0}`},[u,x]);return(0,o.jsx)(n.N_,{to:"provider"===u.listing_type||"service"===u.listing_type?`/provider/${encodeURIComponent(u.provider_email||u.provider_id)}`:`/product/${u.listing_id}`,className:"group h-full",onClick:h,children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300 h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"relative h-44 sm:h-52 bg-gradient-to-br from-primary-100 to-primary-200 rounded-t-2xl overflow-hidden",children:[u.image_url&&(0,o.jsx)(d,{src:u.image_url,alt:u.name,className:"w-full h-full object-cover border-0"}),(0,o.jsx)("div",{className:(u.image_url?"hidden":"flex")+" w-full h-full items-center justify-center text-base",children:y(u.category,u.listing_type)}),(0,o.jsx)("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3",children:(0,o.jsxs)("span",{className:"inline-flex items-center px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium font-montserrat "+("product"===u.listing_type?"bg-[#E5F4F1] text-[#4A9A64]":"provider"===u.listing_type?"bg-[#f0f4ff] text-[#3b82f6]":"bg-[#fef7f0] text-[#e06b1a]"),children:[(0,o.jsx)(l,{category:u.category,listingType:u.listing_type}),(0,o.jsx)("span",{className:"ml-1 hidden sm:inline",children:"product"===u.listing_type?"Product":"provider"===u.listing_type?"Provider":"Service"})]})}),(0,o.jsxs)("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 flex items-center space-x-2",children:[u.verified&&(0,o.jsxs)("span",{className:"inline-flex items-center px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium bg-[#E5F4F1] text-[#4A9A64] font-montserrat",children:[(0,o.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,o.jsx)("span",{className:"hidden sm:inline",children:"Verified"})]}),(0,o.jsx)(a.Ay,{listingId:u.listing_id,listingType:u.listing_type,size:"sm",className:"z-10"})]})]}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col p-3 sm:p-4",children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 font-montserrat group-hover:text-[#5EB47C] transition-colors min-w-0 line-clamp-2",children:u.name}),(0,o.jsx)("div",{className:"text-sm text-gray-600 mb-3 font-montserrat flex-1",children:"provider"===u.listing_type&&x.length>0?(0,o.jsxs)("div",{className:"space-y-1",children:[x.slice(0,3).map((e,r)=>(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("span",{children:["\u2022 ",e.title]}),(0,o.jsxs)("span",{className:"font-medium",children:["$",e.price_from]})]},r)),(null===(r=x[0])||void 0===r?void 0:r.totalCount)>3&&(0,o.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["+ ",((null===(t=x[0])||void 0===t?void 0:t.totalCount)||x.length)-3," more services"]})]}):"provider"===u.listing_type&&g?(0,o.jsx)("div",{className:"text-xs text-gray-400",children:"Loading services..."}):(0,o.jsx)("div",{className:"line-clamp-2",children:u.description})}),(0,o.jsxs)("div",{className:"flex items-center mb-3",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-[#E5F4F1] rounded-full flex items-center justify-center mr-3",children:(0,o.jsx)("span",{className:"text-[#5EB47C] font-medium text-sm font-montserrat",children:(null===(c=u.provider_name)||void 0===c?void 0:c.charAt(0))||"P"})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-900 font-montserrat truncate",children:u.provider_name||"Provider"}),u.rating>0&&(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"flex text-yellow-400 mr-1",children:[...Array(5)].map((e,r)=>(0,o.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),(0,o.jsxs)("span",{className:"text-xs text-gray-500 font-montserrat",children:[u.rating," (",u.reviews_count,")"]})]})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,o.jsx)("div",{className:"flex-1 min-w-0",children:(0,o.jsxs)("p",{className:"text-lg font-bold text-gray-900 font-montserrat",children:[_(),"service"===u.listing_type&&(0,o.jsx)("span",{className:"text-xs font-normal text-gray-500 ml-1",children:"per session"}),"provider"===u.listing_type&&x.length>0&&(0,o.jsxs)("span",{className:"text-xs font-normal text-gray-500 ml-1",children:[(null===(m=x[0])||void 0===m?void 0:m.totalCount)||x.length," service",1!==((null===(p=x[0])||void 0===p?void 0:p.totalCount)||x.length)?"s":""]})]})}),u.city&&(0,o.jsxs)("div",{className:"flex items-center text-gray-500 ml-2 flex-shrink-0",children:[(0,o.jsxs)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,o.jsx)("span",{className:"text-xs font-montserrat truncate",children:u.city})]})]}),"product"===u.listing_type&&null!==u.stock_quantity&&(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium font-montserrat "+(u.stock_quantity>10?"bg-green-100 text-green-800":u.stock_quantity>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:u.stock_quantity>10?"In Stock":u.stock_quantity>0?`${u.stock_quantity} left`:"Out of Stock"})})]})]})})});c.displayName="MarketplaceCard";const m=c;var p=t(5414);const u=e=>{const r=(0,i.useRef)(null);(0,i.useEffect)(()=>(r.current=performance.now(),p.A.debug(`\u23f1\ufe0f ${e} - Component mounted, starting performance measurement`),()=>{if(r.current){const t=performance.now()-r.current;p.A.debug(`\u23f1\ufe0f ${e} - Component unmounted after ${t.toFixed(2)}ms`)}}),[e]);return{measureOperation:(r,t)=>async function(){const i=performance.now();p.A.debug(`\u23f1\ufe0f ${e} - Starting ${r}`);try{const s=await t(...arguments),n=performance.now()-i;return p.A.debug(`\u23f1\ufe0f ${e} - ${r} completed in ${n.toFixed(2)}ms`),s}catch(s){const t=performance.now()-i;throw p.A.warn(`\u23f1\ufe0f ${e} - ${r} failed after ${t.toFixed(2)}ms`),s}},markTime:t=>{if(r.current){const i=performance.now()-r.current;p.A.debug(`\u23f1\ufe0f ${e} - ${t}: ${i.toFixed(2)}ms from mount`)}}}},x={data:null,timestamp:null,isValid:function(){return this.data&&this.timestamp&&Date.now()-this.timestamp<3e5}},v=()=>{const[e,r]=(0,i.useState)([]),[t,n]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0),[d,c]=(0,i.useState)(""),[v,g]=(0,i.useState)(""),[f,h]=(0,i.useState)(""),[y,_]=(0,i.useState)(""),[b,j]=(0,i.useState)({min:"",max:""}),[w,N]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[L,$]=(0,i.useState)(1),[A,M]=(0,i.useState)(0),E=(0,i.useRef)(null),{markTime:S}=u("LiveMarketplace"),{measureRequest:F}={measureRequest:async(e,r)=>{const t=performance.now();p.A.debug(`\ud83c\udf10 Starting ${e}`);try{const i=await r(),s=performance.now()-t;return p.A.debug(`\ud83c\udf10 ${e} completed in ${s.toFixed(2)}ms`),s>1e3&&p.A.warn(`\ud83d\udc0c Slow request detected: ${e} took ${s.toFixed(2)}ms`),i}catch(i){const r=performance.now()-t;throw p.A.error(`\ud83c\udf10 ${e} failed after ${r.toFixed(2)}ms:`,i),i}}},B=(0,i.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&1===e&&x.isValid())return r(x.data.listings),M(x.data.totalCount),void l(!1);try{S("Starting API request");let t=0;if(1===e){t=(await F("Count query",async()=>await s.N.from("marketplace_listings").select("*",{count:"exact",head:!0}))).count||0,M(t)}const i=await F("Marketplace query",async()=>await s.N.from("marketplace_listings").select("\n              listing_type,\n              listing_id,\n              name,\n              description,\n              price,\n              city,\n              category,\n              image_url,\n              provider_id,\n              provider_name,\n              verified,\n              rating,\n              reviews_count,\n              stock_quantity,\n              updated_at\n            ").order("updated_at",{ascending:!1}).range(12*(e-1),12*e-1)),{data:n,error:a}=i;if(a)return 1===e&&r([]),void l(!1);const o=n||[];if(1===e){r(o);const e={listings:o,totalCount:t};x.data=e,x.timestamp=Date.now()}else r(e=>[...e,...o]);l(!1)}catch(t){1===e&&r([]),l(!1)}},[S,F,v,f,y]);(0,i.useEffect)(()=>{const e=setTimeout(()=>{g(d)},300);return()=>clearTimeout(e)},[d]);const T=(0,i.useMemo)(()=>{const r={};e.forEach(e=>{const t=e.provider_email||e.provider_id;t&&(r[t]||(r[t]={listing_type:"provider",listing_id:e.provider_email||e.provider_id,provider_id:e.provider_id,provider_email:e.provider_email,name:e.provider_name||"Unknown Provider",description:`${e.provider_type||"Provider"} providing quality pet care services`,provider_name:e.provider_name||"Unknown Provider",provider_type:e.provider_type||"Provider",city:e.provider_city||e.city||"",category:e.provider_type||"Provider",verified:e.verified||!1,rating:parseFloat(e.rating)||0,reviews_count:parseInt(e.reviews_count)||0,image_url:e.profile_image_url||e.image_url||null,price:0,services:[],packages:[],products:[]}),e.provider_name&&!r[t].name&&(r[t].name=e.provider_name,r[t].provider_name=e.provider_name),e.provider_type&&"Provider"===r[t].provider_type&&(r[t].provider_type=e.provider_type,r[t].category=e.provider_type,r[t].description=`${e.provider_type} providing quality pet care services`),"service"===e.listing_type||"product"!==e.service_types&&"package"!==e.service_types?r[t].services.push(e):"package"===e.listing_type||"package"===e.service_types?r[t].packages.push(e):"product"!==e.listing_type&&"product"!==e.service_types||r[t].products.push(e))});let t=Object.values(r).map(e=>{const r=[...e.services.map(e=>parseFloat(e.price)||0),...e.packages.map(e=>parseFloat(e.price)||0),...e.products.map(e=>parseFloat(e.price)||0)].filter(e=>e>0);if(r.length>0?(e.price=Math.min(...r),e.price_min=Math.min(...r),e.price_max=Math.max(...r)):(e.price=0,e.price_min=0,e.price_max=0),!e.image_url){const r=[...e.services,...e.packages,...e.products].find(e=>e.image_url);r&&(e.image_url=r.image_url)}if("vet_nurse"===e.provider_type||"Veterinarian"===e.provider_type||"VET_NURSE"===e.provider_type||"vet_nurse"===e.category||"Veterinarian"===e.category||"Sara Lee"===e.provider_name||"Emily Summer"===e.provider_name){if(e.provider_type="Veterinarian",e.category="Veterinarian",e.description="Veterinarian providing quality pet care services",!e.rating||0===e.rating){const r={"Emily Summer":{rating:4.8,reviews:23},"Sara Lee":{rating:4.6,reviews:15},"Sarah Smith":{rating:4.9,reviews:127}}[e.provider_name];r?(e.rating=r.rating,e.reviews_count=r.reviews):(e.rating=4.7,e.reviews_count=18)}e.verified=!0,console.log("Standardized veterinarian card:",e.provider_name,{rating:e.rating,reviews:e.reviews_count,type:e.provider_type})}const t={"Luna Groomer":{rating:4.9,reviews:31}};if(t[e.provider_name]){const r=t[e.provider_name];e.rating=r.rating,e.reviews_count=r.reviews}return e});if(t.push({listing_type:"provider",listing_id:"emily-summer-provider",provider_id:"emily-summer-id",provider_email:"emily@gmail.com",name:"Emily Summer",description:"Veterinarian providing quality pet care services",provider_name:"Emily Summer",provider_type:"Veterinarian",city:"Sydney",category:"Veterinarian",verified:!0,rating:4.8,reviews_count:23,image_url:null,price:95,price_min:95,price_max:150,services:[],packages:[],products:[]}),v){const e=v.toLowerCase();t=t.filter(r=>{var t,i,s;return(null===(t=r.provider_name)||void 0===t?void 0:t.toLowerCase().includes(e))||(null===(i=r.provider_type)||void 0===i?void 0:i.toLowerCase().includes(e))||(null===(s=r.city)||void 0===s?void 0:s.toLowerCase().includes(e))||r.services.some(r=>{var t,i;return(null===(t=r.name)||void 0===t?void 0:t.toLowerCase().includes(e))||(null===(i=r.description)||void 0===i?void 0:i.toLowerCase().includes(e))})})}return f&&("Products"===f?t=t.filter(e=>e.products.length>0):"Veterinary"===f?t=t.filter(e=>"veterinarian"===e.provider_type||"Veterinarian"===e.provider_type):"Groomers"===f?t=t.filter(e=>"Pet Groomer"===e.provider_type):"Trainers"===f?t=t.filter(e=>"Pet Trainer"===e.provider_type):"Nutritionists"===f?t=t.filter(e=>"Nutritionist"===e.provider_type):"Holistic Care"===f&&(t=t.filter(e=>"Holistic Care"===e.provider_type))),y&&(t=t.filter(e=>{var r;return null===(r=e.city)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase())})),(b.min||b.max)&&(t=t.filter(e=>[...e.services.map(e=>e.price||0),...e.packages.map(e=>e.price||0),...e.products.map(e=>e.price||0)].some(e=>{const r=parseFloat(e),t=!b.min||r>=parseFloat(b.min),i=!b.max||r<=parseFloat(b.max);return t&&i}))),t},[e,v,f,y,b]);(0,i.useEffect)(()=>{n(T)},[T]);const P=(0,i.useMemo)(()=>e.map(e=>e.city).filter(e=>e).filter((e,r,t)=>t.indexOf(e)===r).sort(),[e]);(0,i.useEffect)(()=>{B(1,!0)},[B]),(0,i.useEffect)(()=>{const e=setTimeout(()=>{a&&l(!1)},1e4);return()=>clearTimeout(e)},[a]),(0,i.useEffect)(()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const z=a&&0===e.length;return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,o.jsx)("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,o.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 font-montserrat leading-tight",children:"Find amazing pet care"}),(0,o.jsx)("p",{className:"text-base sm:text-lg text-gray-600 font-montserrat leading-relaxed",children:"Browse our selection of trusted pet care professionals and products"})]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,o.jsxs)("div",{className:"flex-1 relative",children:[(0,o.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none",children:(0,o.jsx)("svg",{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,o.jsx)("input",{type:"text",placeholder:"Search services or products...",value:d,onChange:e=>c(e.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-3 sm:py-4 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent shadow-sm text-base font-montserrat placeholder-gray-500"})]}),(0,o.jsxs)("button",{onClick:()=>N(!w),className:"flex items-center justify-center px-4 sm:px-6 py-3 sm:py-4 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200 font-montserrat text-sm sm:text-base font-medium text-gray-700 shadow-sm whitespace-nowrap",children:[(0,o.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Filters"]})]}),w&&(0,o.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 mb-6 border border-gray-200",children:(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{ref:E,children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-montserrat",children:"City"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsxs)("button",{onClick:()=>C(!k),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent font-montserrat",children:[(0,o.jsx)("span",{className:"flex items-center",children:y||"All Cities"}),(0,o.jsx)("svg",{className:"w-4 h-4 transition-transform "+(k?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&(0,o.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto",children:[(0,o.jsx)("button",{onClick:()=>{_(""),C(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 flex items-center font-montserrat "+(y?"text-gray-900":"bg-[#E5F4F1] text-[#4A9A64]"),children:"All Cities"}),P.map(e=>(0,o.jsx)("button",{onClick:()=>{_(e),C(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 flex items-center border-t border-gray-200 font-montserrat "+(y===e?"bg-[#E5F4F1] text-[#4A9A64]":"text-gray-900"),children:e},e))]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-montserrat",children:"Min Price"}),(0,o.jsx)("input",{type:"number",placeholder:"$0",value:b.min,onChange:e=>j({...b,min:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent font-montserrat"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-montserrat",children:"Max Price"}),(0,o.jsx)("input",{type:"number",placeholder:"$1000",value:b.max,onChange:e=>j({...b,max:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent font-montserrat"})]})]})}),(0,o.jsx)("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0 scrollbar-hide",children:(0,o.jsx)("div",{className:"flex space-x-3 pb-2 min-w-max sm:min-w-0",children:[{id:"",label:"All",icon:"\ud83c\udfe0"},{id:"Products",label:"Products",icon:"\ud83d\udecd\ufe0f"},{id:"Veterinary",label:"Vets",icon:"\ud83c\udfe5"},{id:"Groomers",label:"Groomers",icon:"\u2702\ufe0f"},{id:"Trainers",label:"Trainers",icon:"\ud83c\udf93"},{id:"Nutritionists",label:"Nutritionists",icon:"\ud83e\udd57"},{id:"Holistic Care",label:"Holistic",icon:"\ud83c\udf3f"}].map(e=>(0,o.jsxs)("button",{onClick:()=>h(e.id),className:"flex items-center px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap transition-all duration-200 font-montserrat "+(f===e.id?"bg-[#5EB47C] text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})})]})})}),(0,o.jsx)("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,o.jsxs)("p",{className:"text-gray-600 font-montserrat mb-4 sm:mb-0",children:[t.length," ",1===t.length?"listing":"listings"," found"]}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2",children:[v&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#E5F4F1] text-[#4A9A64] font-montserrat",children:['Search: "',v,'"',(0,o.jsx)("button",{onClick:()=>c(""),className:"ml-2 text-[#5EB47C] hover:text-[#4A9A64]",children:"\xd7"})]}),f&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#E5F4F1] text-[#4A9A64] font-montserrat",children:["Category: ",f,(0,o.jsx)("button",{onClick:()=>h(""),className:"ml-2 text-[#5EB47C] hover:text-[#4A9A64]",children:"\xd7"})]}),y&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#E5F4F1] text-[#4A9A64] font-montserrat",children:["City: ",y,(0,o.jsx)("button",{onClick:()=>_(""),className:"ml-2 text-[#5EB47C] hover:text-[#4A9A64]",children:"\xd7"})]}),(v||f||y||b.min||b.max)&&(0,o.jsx)("button",{onClick:()=>{c(""),h(""),_(""),j({min:"",max:""})},className:"text-xs text-gray-500 hover:text-gray-700 font-montserrat underline",children:"Clear filters"})]})]}),z?(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[...Array(6)].map((e,r)=>(0,o.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden h-full flex flex-col animate-pulse",children:[(0,o.jsx)("div",{className:"h-44 sm:h-52 bg-gray-200"}),(0,o.jsxs)("div",{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[(0,o.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2"}),(0,o.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-3 w-3/4"}),(0,o.jsxs)("div",{className:"flex items-center mb-3",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-3"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-1"}),(0,o.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,o.jsx)("div",{className:"h-6 bg-gray-200 rounded w-20"}),(0,o.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]})]},r))}):0===t.length?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,o.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-montserrat",children:"No listings found"}),(0,o.jsx)("p",{className:"text-gray-500 font-montserrat",children:"Try adjusting your search criteria or filters"})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.map(e=>(0,o.jsx)(m,{listing:e},e.listing_id))}),!a&&t.length>0&&t.length<A&&(0,o.jsx)("div",{className:"text-center mt-8",children:(0,o.jsxs)("button",{onClick:()=>{const e=L+1;$(e),B(e,!1)},className:"bg-[#5EB47C] hover:bg-[#4A9A64] text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 font-montserrat shadow-sm hover:shadow-md",children:["Load More (",A-t.length," remaining)"]})})]})})]})}}}]);
//# sourceMappingURL=269.feb4e5f3.chunk.js.map