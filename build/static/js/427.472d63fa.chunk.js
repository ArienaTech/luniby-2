"use strict";(self.webpackChunkresponsive_navbar_website=self.webpackChunkresponsive_navbar_website||[]).push([[427],{2427:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var r=t(5043),a=t(5475),n=t(1740),l=t(1046),i=t(579);const o=()=>{var e;const{productId:s}=(0,a.g)(),[t,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[m,x]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[g,u]=(0,r.useState)(1),[p,j]=(0,r.useState)(!1),y=(0,r.useRef)(null);return(0,r.useEffect)(()=>{s&&(async()=>{try{const{data:e,error:t}=await n.N.from("products").select("*").eq("id",s).single();if(t)return void f(!1);o(e);const{data:r,error:a}=await n.N.from("providers").select("*").eq("id",e.provider_id).single();a||d(r);const{data:l,error:i}=await n.N.from("products").select("*").eq("provider_id",e.provider_id).eq("is_active",!0).gt("stock_quantity",0).neq("id",s).limit(3);i||x(l||[]),f(!1)}catch(e){f(!1)}})()},[s]),(0,r.useEffect)(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),h?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-gray-600 font-montserrat",children:"Loading product details..."})]})}):t?(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:(0,i.jsx)("nav",{className:"flex overflow-x-auto scrollbar-hide","aria-label":"Breadcrumb",children:(0,i.jsxs)("ol",{className:"flex items-center space-x-2 sm:space-x-4 whitespace-nowrap",children:[(0,i.jsx)("li",{children:(0,i.jsx)(a.N_,{to:"/marketplace",className:"text-gray-500 hover:text-gray-700 font-montserrat",children:"Marketplace"})}),(0,i.jsx)("li",{children:(0,i.jsx)("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{className:"text-gray-500 font-montserrat",children:t.category})}),(0,i.jsx)("li",{children:(0,i.jsx)("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{className:"text-gray-900 font-montserrat font-medium",children:t.name})})]})})})}),(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mb-8 lg:mb-12",children:[(0,i.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:(0,i.jsx)("div",{className:"bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl h-64 sm:h-80 lg:h-96 overflow-hidden",children:t.image_url?(0,i.jsx)("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover border-0"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center text-6xl",children:"\ud83d\udce6"})})}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-2 font-montserrat",children:t.name})}),(0,i.jsx)(l.Ay,{listingId:t.id,listingType:"product",size:"md",className:"ml-4 flex-shrink-0"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 font-montserrat",children:t.category}),t.subcategory&&(0,i.jsx)("span",{className:"text-sm text-gray-500 font-montserrat",children:t.subcategory}),t.brand&&(0,i.jsxs)("span",{className:"text-sm text-gray-500 font-montserrat",children:["by ",t.brand]})]})}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsxs)("p",{className:"text-lg font-bold text-gray-900 font-montserrat",children:["$",t.price]})})]}),c&&(0,i.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-4",children:(0,i.jsx)("span",{className:"text-primary-600 font-medium text-base font-montserrat",children:(null===(e=c.name)||void 0===e?void 0:e.charAt(0))||"P"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("p",{className:"font-medium text-gray-900 font-montserrat",children:["Sold by ",c.business_name||c.name]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[c.verified&&(0,i.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 font-montserrat",children:[(0,i.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Verified"]}),c.rating>0&&(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"flex text-yellow-400 mr-1",children:[...Array(5)].map((e,s)=>(0,i.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s))}),(0,i.jsxs)("span",{className:"text-xs text-gray-500 font-montserrat",children:[c.rating," (",c.reviews_count,")"]})]})]})]}),(0,i.jsx)(a.N_,{to:`/provider/${c.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium font-montserrat",children:"View Store"})]})}),t.description&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3 font-montserrat",children:"Description"}),(0,i.jsx)("p",{className:"text-gray-700 font-montserrat leading-relaxed",children:t.description})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3 font-montserrat",children:"Product Details"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.sku&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500 font-montserrat",children:"SKU:"}),(0,i.jsx)("span",{className:"ml-2 text-gray-900 font-montserrat",children:t.sku})]}),t.weight_kg&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500 font-montserrat",children:"Weight:"}),(0,i.jsxs)("span",{className:"ml-2 text-gray-900 font-montserrat",children:[t.weight_kg," kg"]})]}),t.dimensions&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500 font-montserrat",children:"Dimensions:"}),(0,i.jsx)("span",{className:"ml-2 text-gray-900 font-montserrat",children:t.dimensions})]}),t.age_group&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500 font-montserrat",children:"Age Group:"}),(0,i.jsx)("span",{className:"ml-2 text-gray-900 font-montserrat",children:t.age_group})]}),t.pet_type&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-500 font-montserrat",children:"Pet Type:"}),(0,i.jsx)("span",{className:"ml-2 text-gray-900 font-montserrat",children:t.pet_type})]}),t.is_prescription&&(0,i.jsx)("div",{className:"col-span-2",children:(0,i.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 font-montserrat",children:"\u26a0\ufe0f Prescription Required"})})]})]}),t.tags&&t.tags.length>0&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3 font-montserrat",children:"Tags"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tags.map((e,s)=>(0,i.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 font-montserrat",children:["#",e]},s))})]}),(0,i.jsxs)("div",{className:"mt-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium font-montserrat "+(t.stock_quantity>10?"bg-green-100 text-green-800":t.stock_quantity>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:t.stock_quantity>10?"In Stock":t.stock_quantity>0?`${t.stock_quantity} left`:"Out of Stock"})}),t.stock_quantity>0&&(0,i.jsxs)("div",{className:"flex items-center gap-3",ref:y,children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-700 font-montserrat",children:"Quantity:"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("button",{type:"button",onClick:()=>j(!p),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm font-montserrat bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent min-w-[60px]",children:[(0,i.jsx)("span",{children:g}),(0,i.jsx)("svg",{className:"w-4 h-4 ml-2 transition-transform "+(p?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&(0,i.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto min-w-[60px]",children:[...Array(Math.min(t.stock_quantity,10))].map((e,s)=>(0,i.jsx)("button",{type:"button",onClick:()=>{u(s+1),j(!1)},className:`w-full px-3 py-2 text-sm text-left hover:bg-gray-50 flex items-center font-montserrat ${g===s+1?"bg-[#E5F4F1] text-[#4A9A64]":"text-gray-900"} ${s>0?"border-t border-gray-200":""}`,children:s+1},s+1))})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,i.jsx)("button",{disabled:0===t.stock_quantity,className:"flex-1 py-3 px-4 sm:px-6 rounded-xl font-medium font-montserrat transition-colors "+(t.stock_quantity>0?"bg-[#5EB47C] text-white hover:bg-[#4A9A64]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:t.stock_quantity>0?"Add to Cart":"Out of Stock"}),(0,i.jsx)("button",{disabled:0===t.stock_quantity,className:"flex-1 sm:flex-none px-4 sm:px-6 py-3 rounded-xl font-medium font-montserrat border transition-colors "+(t.stock_quantity>0?"border-[#5EB47C] text-[#5EB47C] hover:bg-[#E5F4F1]":"border-gray-300 text-gray-500 cursor-not-allowed"),children:"Buy Now"})]})]})]})]}),m.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat",children:["More from ",(null===c||void 0===c?void 0:c.business_name)||(null===c||void 0===c?void 0:c.name)]}),(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:m.map(e=>(0,i.jsx)(a.N_,{to:`/product/${e.id}`,className:"group",children:(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300",children:[(0,i.jsx)("div",{className:"aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-100 to-primary-200 h-28 sm:h-32 rounded-t-2xl overflow-hidden",children:e.image_url?(0,i.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover border-0"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center text-base",children:"\ud83d\udce6"})}),(0,i.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 font-montserrat group-hover:text-primary-600 transition-colors",children:e.name}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("span",{className:"text-lg font-bold text-gray-900 font-montserrat",children:["$",e.price]}),(0,i.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 font-montserrat",children:e.category})]})]})]})},e.id))})]})]})]}):(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,i.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-montserrat",children:"Product not found"}),(0,i.jsx)("p",{className:"text-gray-500 font-montserrat mb-4",children:"The product you're looking for doesn't exist."}),(0,i.jsx)(a.N_,{to:"/marketplace",className:"inline-flex items-center px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-montserrat",children:"Back to Marketplace"})]})})}}}]);
//# sourceMappingURL=427.472d63fa.chunk.js.map