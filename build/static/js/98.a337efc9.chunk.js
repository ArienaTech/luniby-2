"use strict";(self.webpackChunkresponsive_navbar_website=self.webpackChunkresponsive_navbar_website||[]).push([[98],{6098:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(5043),r=t(2896),l=t(8680),i=t(1740),n=t(7078),d=t(579);const c=e=>{var s,t;let{stats:a,groomerData:r,onQuickAction:l}=e;a.todayAppointments,a.weeklyRevenue.toFixed(2),a.totalPets,a.completedGrooming;const i=[];return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,d.jsxs)("h1",{className:"text-2xl font-bold mb-2 text-gray-900",children:["Welcome back, ",(null===r||void 0===r||null===(s=r.profile)||void 0===s||null===(t=s.full_name)||void 0===t?void 0:t.split(" ")[0])||"Professional Groomer"]}),(0,d.jsxs)("p",{className:"text-gray-600",children:["You have ",a.todayAppointments," appointments today and ",a.pendingAppointments," pending bookings."]})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-blue-600 text-sm font-medium",children:"Marketplace Jobs"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:a.todayAppointments})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-blue-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\ud83d\uded2"})})]})}),(0,d.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-green-600 text-sm font-medium",children:"Weekly Earnings"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["$",a.weeklyRevenue.toFixed(2)]})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-green-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\ud83d\udcb0"})})]})}),(0,d.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-purple-600 text-sm font-medium",children:"Active Bookings"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:a.totalPets})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-purple-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\ud83d\udcc5"})})]})}),(0,d.jsx)("div",{className:"bg-orange-50 p-4 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-orange-600 text-sm font-medium",children:"Jobs Completed"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:a.completedGrooming})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-orange-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\u2705"})})]})})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,d.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Bookings"}),(0,d.jsx)("button",{onClick:()=>l("bookings"),className:"text-[#5EB47C] hover:text-[#4A9A64] text-sm font-medium",children:"View All"})]})}),(0,d.jsx)("div",{className:"p-6",children:i.length>0?(0,d.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,d.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-4",children:(0,d.jsx)("span",{className:"text-[#5EB47C] font-semibold",children:e.petName.charAt(0)})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("h3",{className:"font-medium text-gray-900",children:[e.petName," (",e.breed,")"]}),(0,d.jsx)("span",{className:"text-sm text-gray-500",children:e.time})]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[e.ownerName," \u2022 ",e.service]}),e.notes&&(0,d.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Note: ",e.notes]})]})]},e.id))}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"text-gray-400 text-4xl mb-2",children:"\ud83d\udcc5"}),(0,d.jsx)("p",{className:"text-gray-500",children:"No appointments scheduled for today"}),(0,d.jsx)("button",{onClick:()=>l("appointments"),className:"mt-3 text-[#5EB47C] hover:text-[#4A9A64] text-sm font-medium",children:"Schedule an appointment"})]})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,d.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("div",{className:"space-y-4",children:[{id:1,type:"appointment_completed",message:"Completed grooming for Charlie (Border Collie)",time:"2 hours ago",icon:"\u2705"},{id:2,type:"new_booking",message:"New appointment booked for tomorrow - Daisy (Beagle)",time:"4 hours ago",icon:"\ud83d\udcc5"},{id:3,type:"payment_received",message:"Payment received from Tom Wilson - $85.00",time:"6 hours ago",icon:"\ud83d\udcb3"},{id:4,type:"supply_alert",message:"Low stock alert: Premium Shampoo (2 bottles left)",time:"1 day ago",icon:"\u26a0\ufe0f"}].map(e=>(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-sm",children:e.icon}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]},e.id))})})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("button",{onClick:()=>l("marketplace"),className:"w-full flex items-center p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors text-left",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center mr-3",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:"Browse Marketplace"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Find new grooming jobs"})]})]}),(0,d.jsxs)("button",{onClick:()=>l("bookings"),className:"w-full flex items-center p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors text-left",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-[#5EB47C] rounded-md flex items-center justify-center mr-3",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:"My Bookings"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"View accepted jobs & schedule"})]})]}),(0,d.jsxs)("button",{onClick:()=>l("messages"),className:"w-full flex items-center p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors text-left",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center mr-3",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:"Messages"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Chat with pet owners"})]})]}),(0,d.jsxs)("button",{onClick:()=>l("services"),className:"w-full flex items-center p-3 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors text-left",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-md flex items-center justify-center mr-3",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\u2702\ufe0f"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:"My Services"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Manage service offerings"})]})]})]})]}),(a.lowStockItems>0||a.pendingAppointments>5)&&(0,d.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("span",{className:"text-yellow-400 text-xl",children:"\u26a0\ufe0f"})}),(0,d.jsxs)("div",{className:"ml-3",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Attention Required"}),(0,d.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,d.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[a.lowStockItems>0&&(0,d.jsxs)("li",{children:[a.lowStockItems," items are running low on stock",(0,d.jsx)("button",{onClick:()=>l("inventory"),className:"ml-2 text-yellow-800 underline hover:no-underline",children:"Check inventory"})]}),a.pendingAppointments>5&&(0,d.jsxs)("li",{children:["You have ",a.pendingAppointments," pending appointment requests",(0,d.jsx)("button",{onClick:()=>l("appointments"),className:"ml-2 text-yellow-800 underline hover:no-underline",children:"Review requests"})]})]})})]})]})})]})},o=e=>{let{groomerData:s,onStatsUpdate:t}=e;const[r,l]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0),[c,o]=(0,a.useState)({location:"all",service:"all",priceRange:"all"});(0,a.useEffect)(()=>{m()},[c]);const m=async()=>{try{n(!0),l([])}catch(e){console.error("Error loading marketplace jobs:",e)}finally{n(!1)}};return i?(0,d.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C]"}),(0,d.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading marketplace jobs..."})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace Jobs"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Browse and accept available grooming jobs in your area"})]}),(0,d.jsx)("div",{className:"flex items-center space-x-3",children:(0,d.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[r.filter(e=>"available"===e.status).length," Available"]})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filters"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,d.jsxs)("select",{value:c.location,onChange:e=>o({...c,location:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-[#5EB47C] focus:border-[#5EB47C]",children:[(0,d.jsx)("option",{value:"all",children:"All Locations"}),(0,d.jsx)("option",{value:"auckland-cbd",children:"Auckland CBD"}),(0,d.jsx)("option",{value:"ponsonby",children:"Ponsonby"}),(0,d.jsx)("option",{value:"newmarket",children:"Newmarket"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),(0,d.jsxs)("select",{value:c.service,onChange:e=>o({...c,service:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-[#5EB47C] focus:border-[#5EB47C]",children:[(0,d.jsx)("option",{value:"all",children:"All Services"}),(0,d.jsx)("option",{value:"full-grooming",children:"Full Grooming"}),(0,d.jsx)("option",{value:"bath-brush",children:"Bath & Brush"}),(0,d.jsx)("option",{value:"nail-trim",children:"Nail Trim"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),(0,d.jsxs)("select",{value:c.priceRange,onChange:e=>o({...c,priceRange:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-[#5EB47C] focus:border-[#5EB47C]",children:[(0,d.jsx)("option",{value:"all",children:"All Prices"}),(0,d.jsx)("option",{value:"0-50",children:"$0 - $50"}),(0,d.jsx)("option",{value:"50-100",children:"$50 - $100"}),(0,d.jsx)("option",{value:"100+",children:"$100+"})]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[r.filter(e=>"available"===e.status).map(e=>{return(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-[#5EB47C] font-semibold text-lg",children:e.pet_name.charAt(0)})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.pet_name}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[e.pet_type," \u2022 ",e.owner_name]})]}),(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a=e.service_type,{"Full Grooming":"bg-blue-100 text-blue-800","Bath & Brush":"bg-green-100 text-green-800","Nail Trim":"bg-yellow-100 text-yellow-800",Styling:"bg-purple-100 text-purple-800"}[a]||"bg-gray-100 text-gray-800"}`,children:e.service_type})]}),(0,d.jsx)("p",{className:"text-gray-700 mb-4",children:e.description}),(0,d.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-1",children:"\ud83d\udccd"}),e.location]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-1",children:"\ud83d\udcc5"}),e.scheduled_date," at ",e.scheduled_time]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-1",children:"\ud83d\udcb0"}),"$",e.price]})]})]}),(0,d.jsx)("div",{className:"ml-6",children:(0,d.jsx)("button",{onClick:()=>(async e=>{try{l(r.map(t=>t.id===e?{...t,status:"accepted",groomer_id:null===s||void 0===s?void 0:s.id}:t)),t&&t(),alert("Job accepted! You can now view it in your bookings.")}catch(a){console.error("Error accepting job:",a),alert("Failed to accept job. Please try again.")}})(e.id),className:"bg-[#5EB47C] text-white px-6 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors font-medium",children:"Accept Job"})})]})},e.id);var a}),0===r.filter(e=>"available"===e.status).length&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No jobs available"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Check back later or adjust your filters to see more opportunities."})]})]})]})},m=e=>{let{groomerData:s,onStatsUpdate:t}=e;const[r,l]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0),[c,o]=(0,a.useState)("upcoming");(0,a.useEffect)(()=>{m()},[s]);const m=async()=>{try{n(!0),l([])}catch(e){console.error("Error loading bookings:",e)}finally{n(!1)}},x=async(e,s)=>{try{l(r.map(t=>t.id===e?{...t,status:s}:t)),t&&t(),alert(`Booking status updated to ${s}`)}catch(a){console.error("Error updating booking status:",a),alert("Failed to update booking status. Please try again.")}},h=e=>{switch(e){case"upcoming":return r.filter(e=>["confirmed","in_progress"].includes(e.status));case"completed":return r.filter(e=>"completed"===e.status);default:return r}};return i?(0,d.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C]"}),(0,d.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading your bookings..."})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Bookings"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Manage your accepted marketplace jobs"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[h("upcoming").length," Upcoming"]}),(0,d.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[h("completed").length," Completed"]})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,d.jsx)("div",{className:"border-b border-gray-200",children:(0,d.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"upcoming",name:"Upcoming",count:h("upcoming").length},{id:"completed",name:"Completed",count:h("completed").length},{id:"all",name:"All Bookings",count:r.length}].map(e=>(0,d.jsxs)("button",{onClick:()=>o(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors "+(c===e.id?"border-[#5EB47C] text-[#5EB47C]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.name," (",e.count,")"]},e.id))})}),(0,d.jsx)("div",{className:"p-6",children:0===h(c).length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc5"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),(0,d.jsx)("p",{className:"text-gray-600",children:"upcoming"===c?"You have no upcoming bookings. Check the marketplace for new opportunities.":"No bookings match the selected filter."})]}):(0,d.jsx)("div",{className:"space-y-4",children:h(c).map(e=>{return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-sm transition-shadow",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-[#5EB47C] font-semibold text-lg",children:e.pet_name.charAt(0)})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.pet_name}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[e.pet_type," \u2022 ",e.owner_name]})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t=e.service_type,{"Full Grooming":"bg-blue-100 text-blue-800","Bath & Brush":"bg-green-100 text-green-800","Nail Trim":"bg-yellow-100 text-yellow-800",Styling:"bg-purple-100 text-purple-800"}[t]||"bg-gray-100 text-gray-800"}`,children:e.service_type}),(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s=e.status,{confirmed:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800"}`,children:e.status.replace("_"," ").toUpperCase()})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-2",children:"\ud83d\udcc5"}),e.scheduled_date," at ",e.scheduled_time]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-2",children:"\ud83d\udccd"}),e.address]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-2",children:"\ud83d\udcb0"}),"$",e.price]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact Information"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-2",children:"\ud83d\udc64"}),e.owner_name]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-2",children:"\ud83d\udcde"}),e.owner_phone]})]})]})]}),e.notes&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Special Notes"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 rounded-lg p-3",children:e.notes})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:["confirmed"===e.status&&(0,d.jsx)("button",{onClick:()=>x(e.id,"in_progress"),className:"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors text-sm font-medium",children:"Start Service"}),"in_progress"===e.status&&(0,d.jsx)("button",{onClick:()=>x(e.id,"completed"),className:"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors text-sm font-medium",children:"Mark Complete"}),(0,d.jsx)("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Contact Owner"}),(0,d.jsx)("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"View Details"})]})]},e.id);var s,t})})})]})]})},x=e=>{let{groomerData:s}=e;const[t,r]=(0,a.useState)([{id:1,name:"Full Grooming Package",description:"Complete grooming service including bath, brush, nail trim, and styling",duration:"2-3 hours",basePrice:65,category:"full_service"},{id:2,name:"Bath & Brush",description:"Basic wash and brush service for maintenance grooming",duration:"1-1.5 hours",basePrice:35,category:"basic"},{id:3,name:"Nail Trim",description:"Professional nail trimming service",duration:"15-30 minutes",basePrice:15,category:"add_on"},{id:4,name:"Teeth Cleaning",description:"Basic dental hygiene service",duration:"20-30 minutes",basePrice:25,category:"add_on"}]),[l,i]=(0,a.useState)(!1),n={full_service:{name:"Full Service",color:"bg-green-100 text-green-800"},basic:{name:"Basic Services",color:"bg-blue-100 text-blue-800"},add_on:{name:"Add-on Services",color:"bg-green-100 text-green-800"},specialty:{name:"Specialty Services",color:"bg-orange-100 text-orange-800"}};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Catalog"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Manage your grooming services and pricing"})]}),(0,d.jsx)("button",{onClick:()=>i(!0),className:"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors",children:"+ Add Service"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,d.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n[e.category].color}`,children:n[e.category].name})]}),(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Duration:"}),(0,d.jsx)("span",{className:"text-gray-900",children:e.duration})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Base Price:"}),(0,d.jsxs)("span",{className:"text-green-600 font-semibold",children:["$",e.basePrice]})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,d.jsx)("button",{className:"flex-1 bg-green-50 text-[#5EB47C] px-3 py-2 rounded text-sm font-medium hover:bg-green-100",children:"Edit Service"}),(0,d.jsx)("button",{className:"px-3 py-2 bg-gray-50 text-gray-600 rounded text-sm hover:bg-gray-100",children:"View Bookings"})]})]},e.id))}),(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"text-blue-400 text-2xl mr-3",children:"\ud83d\ude80"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-blue-900",children:"Enhanced Service Management Coming Soon"}),(0,d.jsx)("p",{className:"text-blue-700 mt-1",children:"Advanced features like breed-specific pricing, service packages, and automated booking will be available soon."})]})]})}),l&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Add New Service"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Service management features are coming soon! You'll be able to add custom services with breed-specific pricing."}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Close"})})]})})]})},h=e=>{let{groomerData:s}=e;const[t,r]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[n,c]=(0,a.useState)(""),[o,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{x()},[s]);const x=async()=>{try{m(!0),r([]),i(null)}catch(e){console.error("Error loading conversations:",e)}finally{m(!1)}},h=async()=>{if(n.trim()&&l)try{const e={id:Date.now(),sender:"groomer",content:n.trim(),timestamp:(new Date).toISOString()},s={...l,messages:[...l.messages,e],last_message:e.content,last_message_time:e.timestamp};r(t.map(e=>e.id===l.id?s:e)),i(s),c("")}catch(e){console.error("Error sending message:",e),alert("Failed to send message. Please try again.")}},g=e=>{const s=new Date(e);return(new Date-s)/36e5<24?s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):s.toLocaleDateString()};return o?(0,d.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C]"}),(0,d.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading messages..."})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Communicate with pet owners about their bookings"})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",style:{height:"600px"},children:(0,d.jsxs)("div",{className:"flex h-full",children:[(0,d.jsxs)("div",{className:"w-1/3 border-r border-gray-200 overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,d.jsx)("h3",{className:"font-medium text-gray-900",children:"Conversations"})}),(0,d.jsx)("div",{className:"divide-y divide-gray-200",children:t.map(e=>(0,d.jsx)("button",{onClick:()=>i(e),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors "+((null===l||void 0===l?void 0:l.id)===e.id?"bg-blue-50 border-r-2 border-[#5EB47C]":""),children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-[#5EB47C] rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)("span",{className:"text-white text-sm font-medium",children:e.avatar})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.owner_name}),e.unread_count>0&&(0,d.jsx)("span",{className:"bg-[#5EB47C] text-white text-xs rounded-full px-2 py-1",children:e.unread_count})]}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:e.pet_name}),(0,d.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.last_message}),(0,d.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:g(e.last_message_time)})]})]})},e.id))})]}),(0,d.jsx)("div",{className:"flex-1 flex flex-col",children:l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-[#5EB47C] rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-sm font-medium",children:l.avatar})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900",children:l.owner_name}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Pet: ",l.pet_name]})]})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:l.messages.map(e=>(0,d.jsx)("div",{className:"flex "+("groomer"===e.sender?"justify-end":"justify-start"),children:(0,d.jsxs)("div",{className:"max-w-xs px-4 py-2 rounded-lg "+("groomer"===e.sender?"bg-[#5EB47C] text-white":"bg-gray-100 text-gray-900"),children:[(0,d.jsx)("p",{className:"text-sm",children:e.content}),(0,d.jsx)("p",{className:"text-xs mt-1 "+("groomer"===e.sender?"text-green-100":"text-gray-500"),children:g(e.timestamp)})]})},e.id))}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&h(),placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-[#5EB47C] focus:border-[#5EB47C]"}),(0,d.jsx)("button",{onClick:h,disabled:!n.trim(),className:"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})]}):(0,d.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcac"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Choose a conversation from the list to start messaging"})]})})})]})})]})},g=e=>{let{groomerData:s}=e;const[t,r]=(0,a.useState)({today:0,thisWeek:0,thisMonth:0,total:0}),[l,i]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0),[o,m]=(0,a.useState)("overview");(0,a.useEffect)(()=>{x()},[s]);const x=async()=>{try{c(!0),r({today:0,thisWeek:0,thisMonth:0,total:0}),i([])}catch(e){console.error("Error loading earnings data:",e)}finally{c(!1)}};return n?(0,d.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C]"}),(0,d.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading earnings data..."})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Earnings"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Track your income from marketplace bookings"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Today"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.today.toFixed(2)]})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-blue-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\ud83d\udcc5"})})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.thisWeek.toFixed(2)]})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-green-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\ud83d\udcca"})})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.thisMonth.toFixed(2)]})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-purple-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\ud83d\udcc8"})})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.total.toFixed(2)]})]}),(0,d.jsx)("div",{className:"w-8 h-8 text-orange-600",children:(0,d.jsx)("span",{className:"text-xl",children:"\ud83d\udcb0"})})]})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,d.jsx)("div",{className:"border-b border-gray-200",children:(0,d.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",name:"Transaction History"},{id:"analytics",name:"Analytics"}].map(e=>(0,d.jsx)("button",{onClick:()=>m(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors "+(o===e.id?"border-[#5EB47C] text-[#5EB47C]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id))})}),(0,d.jsx)("div",{className:"p-6",children:"overview"===o?(0,d.jsx)("div",{className:"space-y-4",children:0===l.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcb0"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No transactions yet"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Complete some bookings to start earning!"})]}):(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,d.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Date"}),(0,d.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Service"}),(0,d.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Pet/Owner"}),(0,d.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Amount"}),(0,d.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Commission"}),(0,d.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Net Earnings"}),(0,d.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Status"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-gray-200",children:l.map(e=>{return(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900",children:(t=e.date,new Date(t).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric"}))}),(0,d.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900",children:e.service}),(0,d.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:e.pet_name}),(0,d.jsx)("div",{className:"text-gray-600",children:e.owner_name})]})}),(0,d.jsxs)("td",{className:"py-3 px-4 text-sm text-gray-900",children:["$",e.amount.toFixed(2)]}),(0,d.jsxs)("td",{className:"py-3 px-4 text-sm text-red-600",children:["-$",e.commission.toFixed(2)]}),(0,d.jsxs)("td",{className:"py-3 px-4 text-sm font-medium text-green-600",children:["$",e.net_earnings.toFixed(2)]}),(0,d.jsx)("td",{className:"py-3 px-4",children:(0,d.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s=e.status,{completed:"bg-green-100 text-green-800",pending_payment:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800"}`,children:e.status.replace("_"," ").toUpperCase()})})]},e.id);var s,t})})]})})}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"Commission Structure"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,d.jsx)("p",{children:"\u2022 Platform fee: 10% of total booking amount"}),(0,d.jsx)("p",{children:"\u2022 Payment processing: Included in platform fee"}),(0,d.jsx)("p",{children:"\u2022 You keep 90% of each completed booking"}),(0,d.jsx)("p",{children:"\u2022 Payments are processed within 24 hours of completion"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Performance"}),(0,d.jsx)("div",{className:"space-y-3",children:["Full Grooming","Bath & Brush","Nail Trim","Styling"].map(e=>{const s=l.filter(s=>s.service===e&&"completed"===s.status),t=s.reduce((e,s)=>e+s.net_earnings,0),a=s.length,r=a>0?t/a:0;return(0,d.jsxs)("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:e}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[a," completed"]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-medium text-gray-900",children:["$",t.toFixed(2)]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Avg: $",r.toFixed(2)]})]})]},e)})})]})]})})]})]})},p=e=>{let{groomerData:s}=e;return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Photo Gallery"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Showcase your grooming work with before/after photos"})]}),(0,d.jsx)("button",{className:"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors",children:"+ Upload Photos"})]}),(0,d.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,d.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udcf8"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Photo Gallery Coming Soon"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Upload and manage before/after photos of your grooming work to showcase your skills."})]})]})},u=e=>{let{groomerData:s,onUpdate:t}=e;return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Groomer Profile"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Manage your professional profile and settings"})]}),(0,d.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,d.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udc64"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Profile Management Coming Soon"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Update your professional information, certifications, and business settings."})]})]})},j=()=>{var e,s;const[t,j]=(0,a.useState)(null),[b,y]=(0,a.useState)("overview"),[v,N]=(0,a.useState)(!0),[f,w]=(0,a.useState)(null),[k,C]=(0,a.useState)({todayAppointments:0,weeklyRevenue:0,totalPets:0,completedGrooming:0,pendingAppointments:0,lowStockItems:0}),S=(0,r.Iv)(l.MA.GROOMER),_=(0,r.lA)(l.MA.GROOMER);(0,a.useEffect)(()=>{(async()=>{const{data:{user:e}}=await i.N.auth.getUser();j(e)})();return(0,n.yg)((e,s)=>{j((null===s||void 0===s?void 0:s.user)||null)})},[]);const B=(0,a.useCallback)(async()=>{if(null!==t&&void 0!==t&&t.id)try{N(!0);const{data:e,error:s}=await i.N.from("profiles").select("*").eq("id",t.id).single();if(s)throw s;const{data:a,error:r}=await i.N.from("providers").select("*").eq("user_id",t.id).single();r&&"PGRST116"!==r.code&&console.error("Provider error:",r),w({profile:e,provider:a}),await E()}catch(e){console.error("Error loading groomer data:",e)}finally{N(!1)}},[null===t||void 0===t?void 0:t.id]),E=async()=>{if(null!==t&&void 0!==t&&t.id)try{const e=(new Date).toISOString().split("T")[0],{data:s}=await i.N.from("appointments").select("*").eq("groomer_id",t.id).gte("appointment_date",e).lt("appointment_date",new Date(Date.now()+864e5).toISOString().split("T")[0]),a=new Date;a.setDate(a.getDate()-a.getDay());const{data:r}=await i.N.from("appointments").select("total_cost").eq("groomer_id",t.id).eq("status","completed").gte("appointment_date",a.toISOString().split("T")[0]),{data:l}=await i.N.from("pet_profiles").select("id").eq("groomer_id",t.id),n=new Date;n.setDate(1);const{data:d}=await i.N.from("appointments").select("id").eq("groomer_id",t.id).eq("status","completed").gte("appointment_date",n.toISOString().split("T")[0]),{data:c}=await i.N.from("appointments").select("id").eq("groomer_id",t.id).eq("status","scheduled"),{data:o}=await i.N.from("groomer_inventory").select("*").eq("groomer_id",t.id).lt("current_stock","min_stock_level"),m=(null===r||void 0===r?void 0:r.reduce((e,s)=>e+(s.total_cost||0),0))||0;C({todayAppointments:(null===s||void 0===s?void 0:s.length)||0,weeklyRevenue:m,totalPets:(null===l||void 0===l?void 0:l.length)||0,completedGrooming:(null===d||void 0===d?void 0:d.length)||0,pendingAppointments:(null===c||void 0===c?void 0:c.length)||0,lowStockItems:(null===o||void 0===o?void 0:o.length)||0})}catch(e){console.error("Error loading dashboard stats:",e)}};(0,a.useEffect)(()=>{B()},[B]);const A=function(e){y(e)};return v?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C] mx-auto"}),(0,d.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your groomer dashboard..."})]})}):(0,d.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,d.jsx)("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,d.jsx)("img",{src:"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg",alt:"Groomer",className:"w-8 h-8 flex-shrink-0"}),(0,d.jsx)("div",{className:"min-w-0 flex-1",children:(0,d.jsxs)("h4",{className:"text-md font-medium text-gray-900 truncate",children:["Welcome back, ",(null===f||void 0===f||null===(e=f.profile)||void 0===e?void 0:e.full_name)||"Professional Groomer"]})})]}),(0,d.jsx)("button",{onClick:()=>y("appointments"),className:"px-3 py-1.5 bg-[#5EB47C] text-white rounded-md hover:bg-[#4A9A64] transition-colors text-sm",children:"Schedule"})]})}),(0,d.jsx)("div",{className:"lg:hidden bg-white border-b border-gray-200 px-2 py-2",children:(0,d.jsx)("div",{className:"flex overflow-x-auto space-x-1 pb-2",children:S.navigation.map(e=>(0,d.jsxs)("button",{onClick:()=>y(e.id),className:"flex-shrink-0 flex items-center px-3 py-2 text-xs font-medium rounded-md transition-colors whitespace-nowrap "+(b===e.id?"bg-green-100 text-[#5EB47C]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,d.jsx)("span",{className:"mr-2",children:e.icon}),e.name]},e.id))})}),(0,d.jsx)("div",{className:"hidden lg:block w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,d.jsx)("img",{src:"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg",alt:"Groomer",className:"w-10 h-10"}),(0,d.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,d.jsx)("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:_.sidebarTitle}),(0,d.jsx)("p",{className:"text-sm text-gray-600 truncate",children:(null===f||void 0===f||null===(s=f.profile)||void 0===s?void 0:s.full_name)||"Professional Groomer"})]})]})}),(0,d.jsx)("nav",{className:"space-y-2",children:S.navigation.map(e=>(0,d.jsxs)("button",{onClick:()=>y(e.id),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors "+(b===e.id?"bg-green-100 text-[#5EB47C]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,d.jsx)("span",{className:"mr-3",children:e.icon}),e.name]},e.id))})]})}),(0,d.jsx)("div",{className:"flex-1 p-3 sm:p-4 lg:p-6",children:(()=>{switch(b){case"overview":default:return(0,d.jsx)(c,{stats:k,groomerData:f,onQuickAction:A});case"marketplace":return(0,d.jsx)(o,{groomerData:f,onStatsUpdate:E});case"bookings":return(0,d.jsx)(m,{groomerData:f,onStatsUpdate:E});case"services":return(0,d.jsx)(x,{groomerData:f});case"messages":return(0,d.jsx)(h,{groomerData:f});case"earnings":return(0,d.jsx)(g,{groomerData:f});case"gallery":return(0,d.jsx)(p,{groomerData:f});case"profile":return(0,d.jsx)(u,{groomerData:f,onUpdate:B})}})()})]})})}}}]);
//# sourceMappingURL=98.a337efc9.chunk.js.map