{"version":3,"file":"static/js/391.a3b67c8e.chunk.js","mappings":"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","sources":["components/FavoritesPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { supabase } from '../lib/supabase';\nimport favoritesService from '../services/favoritesService';\nimport FavoriteButton from './FavoriteButton';\n\nconst FavoritesPage = () => {\n  const [favorites, setFavorites] = useState([]);\n  const [filteredFavorites, setFilteredFavorites] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [, setUser] = useState(null);\n  const [filterType, setFilterType] = useState('all'); // 'all', 'services', 'products'\n  const [searchTerm, setSearchTerm] = useState('');\n  const navigate = useNavigate();\n\n  const checkAuthAndLoadFavorites = useCallback(async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      \n      if (!user) {\n        navigate('/signin');\n        return;\n      }\n\n      setUser(user);\n      await loadFavorites(user.id);\n    } catch (error) {\n      console.error('Error checking auth:', error);\n      setLoading(false);\n    }\n  }, [navigate, setUser]);\n\n  const loadFavorites = useCallback(async (userId) => {\n    try {\n      setLoading(true);\n      const result = await favoritesService.getUserFavoritesWithDetails(userId);\n      \n      if (result.success) {\n        setFavorites(result.data);\n      } else {\n        console.error('Error loading favorites:', result.error);\n      }\n    } catch (error) {\n      console.error('Error loading favorites:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const filterFavorites = useCallback(() => {\n    let filtered = [...favorites];\n\n    // Filter by type\n    if (filterType === 'services') {\n      filtered = filtered.filter(fav => fav.listing_type === 'service');\n    } else if (filterType === 'products') {\n      filtered = filtered.filter(fav => fav.listing_type === 'product');\n    }\n\n    // Filter by search term\n    if (searchTerm) {\n      filtered = filtered.filter(fav =>\n        fav.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        fav.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        fav.provider_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        fav.category?.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    setFilteredFavorites(filtered);\n  }, [favorites, filterType, searchTerm]);\n\n  useEffect(() => {\n    checkAuthAndLoadFavorites();\n  }, [checkAuthAndLoadFavorites]);\n\n  useEffect(() => {\n    filterFavorites();\n  }, [favorites, filterType, searchTerm, filterFavorites]);\n\n  const handleFavoriteToggle = (isFavorited, listingId, listingType) => {\n    if (!isFavorited) {\n      // Remove from favorites list when unfavorited\n      setFavorites(prev => prev.filter(fav => \n        !(fav.listing_id === listingId && fav.listing_type === listingType)\n      ));\n    }\n  };\n\n  const getCategoryIcon = (category, listingType) => {\n    if (listingType === 'product') return 'üì¶';\n    \n    const icons = {\n      'Veterinary': 'üè•',\n      'Pet Grooming': '‚úÇÔ∏è',\n      'Pet Training': 'üéì',\n      'Pet Breeding': 'üêï',\n      'Nutritionists': 'ü•ó',\n      'Holistic Care': 'üåø',\n      'Dog Walking': 'üö∂',\n      'Pet Sitting': 'üè†',\n      'Pet Boarding': 'üè®'\n    };\n    \n    return icons[category] || 'üêæ';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C] mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 font-montserrat\">Loading your favorites...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow px-4 sm:px-6 lg:px-12\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div>\n              <h1 className=\"text-lg font-bold text-gray-900 font-montserrat\">My Favorites</h1>\n              <p className=\"text-gray-600 font-montserrat\">\n                {favorites.length} saved {favorites.length === 1 ? 'listing' : 'listings'}\n              </p>\n            </div>\n            <Link\n              to=\"/marketplace\"\n              className=\"bg-[#5EB47C] text-white px-6 py-2 rounded-lg hover:bg-[#4A9A64] font-montserrat transition-colors\"\n            >\n              Browse More\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      <section className=\"pt-8 pb-8 px-4 sm:px-6 lg:px-12\">\n        <div className=\"max-w-7xl mx-auto\">\n        {favorites.length === 0 ? (\n          <div className=\"text-center py-16\">\n            <h3 className=\"text-xl font-medium text-gray-900 mb-2 font-montserrat\">No favorites yet</h3>\n            <p className=\"text-gray-500 mb-6 font-montserrat\">Start browsing and save your favorite services and products!</p>\n            <Link\n              to=\"/marketplace\"\n              className=\"inline-flex items-center px-6 py-3 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] font-montserrat transition-colors\"\n            >\n              Explore Marketplace\n            </Link>\n          </div>\n        ) : (\n          <>\n            {/* Filters */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n              <div className=\"flex flex-col sm:flex-row gap-4\">\n                {/* Search */}\n                <div className=\"flex-1\">\n                  <div className=\"relative\">\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                      <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                      </svg>\n                    </div>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search your favorites...\"\n                      className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-[#5EB47C] focus:border-[#5EB47C] font-montserrat\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                    />\n                  </div>\n                </div>\n\n                {/* Type Filter */}\n                <div className=\"sm:w-48\">\n                  <select\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-[#5EB47C] focus:border-[#5EB47C] font-montserrat\"\n                    value={filterType}\n                    onChange={(e) => setFilterType(e.target.value)}\n                  >\n                    <option value=\"all\">All Types</option>\n                    <option value=\"services\">Services Only</option>\n                    <option value=\"products\">Products Only</option>\n                  </select>\n                </div>\n              </div>\n\n              {/* Results count */}\n              <div className=\"mt-4 text-sm text-gray-600 font-montserrat\">\n                Showing {filteredFavorites.length} of {favorites.length} favorites\n              </div>\n            </div>\n\n            {/* Favorites Grid */}\n            {filteredFavorites.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\n                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2 font-montserrat\">No matches found</h3>\n                <p className=\"text-gray-500 font-montserrat\">Try adjusting your search or filter criteria</p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {filteredFavorites.map((favorite) => (\n                  <Link\n                    key={`${favorite.listing_type}-${favorite.listing_id}`}\n                    to={favorite.listing_type === 'service' ? `/provider/${favorite.provider_id}` : `/product/${favorite.listing_id}`}\n                    className=\"group h-full\"\n                    onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n                  >\n                    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300 h-full flex flex-col\">\n                      {/* Listing Image */}\n                      <div className=\"relative h-48 bg-gradient-to-br from-primary-100 to-primary-200 rounded-t-2xl overflow-hidden\">\n                        {favorite.image_url ? (\n                          <img\n                            src={favorite.image_url}\n                            alt={favorite.name}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => {\n                              e.target.style.display = 'none';\n                              e.target.nextSibling.style.display = 'flex';\n                            }}\n                          />\n                        ) : null}\n                        <div className={`${favorite.image_url ? 'hidden' : 'flex'} w-full h-full items-center justify-center text-4xl`}>\n                          {getCategoryIcon(favorite.category, favorite.listing_type)}\n                        </div>\n                        \n                        {/* Top badges */}\n                        <div className=\"absolute top-3 left-3\">\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium font-montserrat ${\n                            favorite.listing_type === 'product' \n                              ? 'bg-[#E5F4F1] text-[#4A9A64]' \n                              : 'bg-[#fef7f0] text-[#e06b1a]'\n                          }`}>\n                            {getCategoryIcon(favorite.category, favorite.listing_type)}\n                            <span className=\"ml-1\">{favorite.listing_type === 'product' ? 'Product' : 'Service'}</span>\n                          </span>\n                        </div>\n\n                        {/* Favorite button */}\n                        <div className=\"absolute top-3 right-3\">\n                          <FavoriteButton\n                            listingId={favorite.listing_id}\n                            listingType={favorite.listing_type}\n                            size=\"sm\"\n                            onToggle={handleFavoriteToggle}\n                          />\n                        </div>\n\n                        {/* Favorited date */}\n                        <div className=\"absolute bottom-3 left-3\">\n                          <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-black bg-opacity-50 text-white font-montserrat\">\n                            Saved {new Date(favorite.favorited_at).toLocaleDateString()}\n                          </span>\n                        </div>\n                      </div>\n\n                      {/* Listing Content */}\n                      <div className=\"flex-1 flex flex-col p-4\">\n                        <h3 className=\"font-semibold text-gray-900 mb-2 font-montserrat group-hover:text-[#5EB47C] transition-colors\">\n                          {favorite.name}\n                        </h3>\n                        \n                        <p className=\"text-sm text-gray-600 mb-3 font-montserrat line-clamp-2\">\n                          {favorite.description}\n                        </p>\n\n                        {/* Provider Info */}\n                        <div className=\"flex items-center mb-3\">\n                          <div className=\"w-8 h-8 bg-[#E5F4F1] rounded-full flex items-center justify-center mr-3\">\n                            <span className=\"text-[#5EB47C] font-medium text-sm font-montserrat\">\n                              {favorite.provider_name?.charAt(0) || 'P'}\n                            </span>\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-sm font-medium text-gray-900 font-montserrat truncate\">\n                              {favorite.provider_name || 'Provider'}\n                            </p>\n                            {favorite.provider_rating > 0 && (\n                              <div className=\"flex items-center\">\n                                <div className=\"flex text-yellow-400 mr-1\">\n                                  {[...Array(5)].map((_, i) => (\n                                    <svg key={i} className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                      <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                                    </svg>\n                                  ))}\n                                </div>\n                                <span className=\"text-xs text-gray-500 font-montserrat\">\n                                  {favorite.provider_rating} ({favorite.reviews_count})\n                                </span>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n\n                        {/* Price and Location */}\n                        <div className=\"flex items-center justify-between mt-auto\">\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-lg font-bold text-gray-900 font-montserrat\">\n                              ${favorite.price}\n                              {favorite.listing_type === 'service' && (\n                                <span className=\"text-xs font-normal text-gray-500 ml-1\">per session</span>\n                              )}\n                            </p>\n                          </div>\n                          {favorite.city && (\n                            <div className=\"flex items-center text-gray-500 ml-2 flex-shrink-0\">\n                              <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                              </svg>\n                              <span className=\"text-xs font-montserrat truncate\">{favorite.city}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            )}\n          </>\n        )}\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default FavoritesPage;"],"names":["FavoritesPage","favorites","setFavorites","useState","filteredFavorites","setFilteredFavorites","loading","setLoading","setUser","filterType","setFilterType","searchTerm","setSearchTerm","navigate","useNavigate","checkAuthAndLoadFavorites","useCallback","async","data","user","supabase","auth","getUser","loadFavorites","id","error","console","result","favoritesService","getUserFavoritesWithDetails","userId","success","filterFavorites","filtered","filter","fav","listing_type","_fav$description","_fav$provider_name","_fav$category","name","toLowerCase","includes","description","provider_name","category","useEffect","handleFavoriteToggle","isFavorited","listingId","listingType","prev","listing_id","getCategoryIcon","_jsx","className","children","_jsxs","length","Link","to","_Fragment","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","value","onChange","e","target","map","favorite","_favorite$provider_na","provider_id","onClick","window","scrollTo","top","behavior","image_url","src","alt","onError","style","display","nextSibling","FavoriteButton","size","onToggle","Date","favorited_at","toLocaleDateString","charAt","provider_rating","Array","_","i","reviews_count","price","city"],"sourceRoot":""}