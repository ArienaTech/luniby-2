"use strict";(self.webpackChunkresponsive_navbar_website=self.webpackChunkresponsive_navbar_website||[]).push([[557],{1557:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var s=r(5043),n=r(5475),a=r(1740),i=r(5064);const o={async getUserNotifications(e){try{const{data:t,error:r}=await a.N.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);return r?{success:!1,error:(0,i.nl)(r),data:[]}:{success:!0,data:t||[]}}catch(t){return{success:!1,error:(0,i.nl)(t),data:[]}}},async createNotification(e){try{const{data:t,error:r}=await a.N.from("notifications").insert([{...e,read:!1,created_at:(new Date).toISOString()}]).select().single();return r?{success:!1,error:(0,i.nl)(r),data:null}:{success:!0,data:t}}catch(t){return{success:!1,error:(0,i.nl)(t),data:null}}},async markAsRead(e){try{const{data:t,error:r}=await a.N.from("notifications").update({read:!0}).eq("id",e).select().single();return r?{success:!1,error:(0,i.nl)(r)}:{success:!0,data:t}}catch(t){return{success:!1,error:(0,i.nl)(t)}}},async markAllAsRead(e){try{const{error:t}=await a.N.from("notifications").update({read:!0}).eq("user_id",e).eq("read",!1);return t?{success:!1,error:(0,i.nl)(t)}:{success:!0}}catch(t){return{success:!1,error:(0,i.nl)(t)}}},async deleteNotification(e){try{const{error:t}=await a.N.from("notifications").delete().eq("id",e);return t?{success:!1,error:(0,i.nl)(t)}:{success:!0}}catch(t){return{success:!1,error:(0,i.nl)(t)}}},async getUnreadCount(e){try{const{count:t,error:r}=await a.N.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("read",!1);return r?{success:!1,error:(0,i.nl)(r),count:0}:{success:!0,count:t||0}}catch(t){return{success:!1,error:(0,i.nl)(t),count:0}}}};var l=r(579);const c=e=>{var t,r;let{service:n,provider:i,onClose:c}=e;const[d,m]=(0,s.useState)({consultationType:"general",preferredDate:"",preferredTime:"",petName:"",petAge:"",petSpecies:"",consultationReason:"",urgency:"routine",customerName:"",customerEmail:"",customerPhone:"",additionalNotes:""}),[x,u]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(""),[b,y]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)(!1),[k,_]=(0,s.useState)(!1),C=(0,s.useRef)(null),S=(0,s.useRef)(null),L=(0,s.useRef)(null),A=(0,s.useRef)(null),M=[{value:"general",label:"General Health Consultation"},{value:"follow_up",label:"Follow-up Appointment"},{value:"prescription",label:"Prescription Review"},{value:"nutrition",label:"Nutrition Consultation"},{value:"behavior",label:"Behavioral Consultation"},{value:"second_opinion",label:"Second Opinion"}],P=[{value:"routine",label:"Routine (within 1-2 weeks)"},{value:"priority",label:"Priority (within 2-3 days)"},{value:"urgent",label:"Urgent (within 24 hours)"}];(0,s.useEffect)(()=>{const e=e=>{C.current&&!C.current.contains(e.target)&&y(!1),S.current&&!S.current.contains(e.target)&&j(!1),L.current&&!L.current.contains(e.target)&&w(!1),A.current&&!A.current.contains(e.target)&&_(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const B=e=>{m({...d,[e.target.name]:e.target.value})};return f?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,l.jsx)("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 font-montserrat mb-2",children:"Consultation Booked Successfully!"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 font-montserrat",children:[i.name," will contact you within 24 hours to confirm your appointment time."]})]})})}):(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-900 font-montserrat",children:"Book Online Consultation"}),(0,l.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-primary-600 rounded-full flex items-center justify-center text-white font-bold text-base font-montserrat",children:i.name.charAt(0)}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 font-montserrat",children:i.name}),(0,l.jsx)("p",{className:"text-sm text-gray-500 font-montserrat",children:n.title}),(0,l.jsxs)("p",{className:"text-xl font-bold text-primary-600 font-montserrat",children:["$",n.price]})]})]})}),h&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl font-montserrat text-sm mb-6",children:h}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),g("");try{const{data:e,error:r}=await a.N.from("consultation_bookings").insert([{service_id:n.id,provider_id:i.id,consultation_type:d.consultationType,preferred_date:d.preferredDate,preferred_time:d.preferredTime,pet_name:d.petName,pet_age:parseInt(d.petAge),pet_species:d.petSpecies,consultation_reason:d.consultationReason,urgency:d.urgency,customer_name:d.customerName,customer_email:d.customerEmail,customer_phone:d.customerPhone,additional_notes:d.additionalNotes,status:"pending",total_amount:n.price,created_at:(new Date).toISOString()}]).select().single();if(r)return g("Failed to book consultation. Please try again."),void u(!1);const{data:s}=await a.N.from("provider_availability").select("notification_settings").eq("provider_id",i.id).single();if(null!==s&&void 0!==s&&s.notification_settings)try{const t={id:e.id,pet_name:d.petName,pet_type:d.petSpecies,pet_age:d.petAge,consultation_type:d.consultationType,preferred_date:d.preferredDate,preferred_time:d.preferredTime,consultation_notes:d.consultationReason,customer_name:d.customerName,customer_phone:d.customerPhone,customer_email:d.customerEmail,duration:30};await o.sendBookingNotification(t,i,s.notification_settings)}catch(t){}p(!0),u(!1),setTimeout(()=>{c()},3e3)}catch(h){g("An unexpected error occurred. Please try again."),u(!1)}},className:"space-y-6",children:[(0,l.jsxs)("div",{ref:C,children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Consultation Type *"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>y(!b),className:"block w-full px-3 py-3 border border-gray-300 rounded-xl bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat",children:[(0,l.jsx)("span",{children:(null===(t=M.find(e=>e.value===d.consultationType))||void 0===t?void 0:t.label)||"Select consultation type"}),(0,l.jsx)("svg",{className:"w-4 h-4 transition-transform "+(b?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&(0,l.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto",children:M.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>{m({...d,consultationType:e.value}),y(!1)},className:`w-full px-3 py-3 text-left hover:bg-gray-50 flex items-center font-montserrat ${d.consultationType===e.value?"bg-[#E5F4F1] text-[#4A9A64]":"text-gray-900"} ${e.value!==M[0].value?"border-t border-gray-200":""}`,children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Preferred Date *"}),(0,l.jsx)("input",{type:"date",name:"preferredDate",required:!0,min:(new Date).toISOString().split("T")[0],value:d.preferredDate,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat"})]}),(0,l.jsxs)("div",{ref:S,children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Preferred Time *"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>j(!v),className:"block w-full px-3 py-3 border border-gray-300 rounded-xl bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat",children:[(0,l.jsx)("span",{children:d.preferredTime||"Select time"}),(0,l.jsx)("svg",{className:"w-4 h-4 transition-transform "+(v?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v&&(0,l.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{m({...d,preferredTime:""}),j(!1)},className:"w-full px-3 py-3 text-left hover:bg-gray-50 flex items-center font-montserrat "+(d.preferredTime?"text-gray-900":"bg-[#E5F4F1] text-[#4A9A64]"),children:"Select time"}),["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM"].map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>{m({...d,preferredTime:e}),j(!1)},className:"w-full px-3 py-3 text-left hover:bg-gray-50 flex items-center border-t border-gray-200 font-montserrat "+(d.preferredTime===e?"bg-[#E5F4F1] text-[#4A9A64]":"text-gray-900"),children:e},e))]})]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 font-montserrat mb-4",children:"Pet Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Pet Name *"}),(0,l.jsx)("input",{type:"text",name:"petName",required:!0,value:d.petName,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat",placeholder:"e.g., Max"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Age (years) *"}),(0,l.jsx)("input",{type:"number",name:"petAge",required:!0,min:"0",max:"30",value:d.petAge,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat"})]}),(0,l.jsxs)("div",{ref:L,children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Species *"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w(!N),className:"block w-full px-3 py-3 border border-gray-300 rounded-xl bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat",children:[(0,l.jsx)("span",{children:d.petSpecies||"Select species"}),(0,l.jsx)("svg",{className:"w-4 h-4 transition-transform "+(N?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),N&&(0,l.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto",children:["","Dog","Cat","Bird","Rabbit","Guinea Pig","Hamster","Fish","Reptile","Other"].map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:()=>{m({...d,petSpecies:e}),w(!1)},className:`w-full px-3 py-3 text-left hover:bg-gray-50 flex items-center font-montserrat ${d.petSpecies===e?"bg-[#E5F4F1] text-[#4A9A64]":"text-gray-900"} ${t>0?"border-t border-gray-200":""}`,children:e||"Select species"},e||"empty"))})]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Reason for Consultation *"}),(0,l.jsx)("textarea",{name:"consultationReason",required:!0,rows:3,value:d.consultationReason,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat",placeholder:"Please describe your pet's symptoms or the reason for this consultation..."})]}),(0,l.jsxs)("div",{ref:A,children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Urgency Level *"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>_(!k),className:"block w-full px-3 py-3 border border-gray-300 rounded-xl bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat",children:[(0,l.jsx)("span",{children:(null===(r=P.find(e=>e.value===d.urgency))||void 0===r?void 0:r.label)||"Select urgency level"}),(0,l.jsx)("svg",{className:"w-4 h-4 transition-transform "+(k?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&(0,l.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto",children:P.map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:()=>{m({...d,urgency:e.value}),_(!1)},className:`w-full px-3 py-3 text-left hover:bg-gray-50 flex items-center font-montserrat ${d.urgency===e.value?"bg-[#E5F4F1] text-[#4A9A64]":"text-gray-900"} ${t>0?"border-t border-gray-200":""}`,children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 font-montserrat mb-4",children:"Your Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Your Name *"}),(0,l.jsx)("input",{type:"text",name:"customerName",required:!0,value:d.customerName,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Phone Number *"}),(0,l.jsx)("input",{type:"tel",name:"customerPhone",required:!0,value:d.customerPhone,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat"})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Email Address *"}),(0,l.jsx)("input",{type:"email",name:"customerEmail",required:!0,value:d.customerEmail,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 font-montserrat mb-2",children:"Additional Notes"}),(0,l.jsx)("textarea",{name:"additionalNotes",rows:2,value:d.additionalNotes,onChange:B,className:"block w-full px-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 font-montserrat",placeholder:"Any additional information you'd like to share..."})]}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("button",{type:"button",onClick:c,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium font-montserrat hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:x,className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-xl font-medium font-montserrat hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:x?(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Booking..."]}):`Book Consultation - $${n.price}`})]})]})]})})};var d=r(1046);const m=()=>{const{providerId:e}=(0,n.g)(),[t,r]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[m,x]=(0,s.useState)([]),[u,f]=(0,s.useState)([]),[p,h]=(0,s.useState)(!0),[g,b]=(0,s.useState)("services"),[y,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(null),[w,k]=(0,s.useState)([]),[_,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e&&(async()=>{try{const t=decodeURIComponent(e);let s=t;if(!t.includes("@")){const{data:e}=await a.N.from("marketplace_listings").select("provider_email").eq("provider_id",t).limit(1).single();if(null===e||void 0===e||!e.provider_email)return console.error("Provider not found with ID:",t),void h(!1);s=e.provider_email}const{data:n,error:i}=await a.N.from("marketplace_listings").select("*").eq("provider_email",s).eq("active",!0);if(i||!n||0===n.length)return console.error("No listings found for provider:",s,i),void h(!1);const l=n[0];let c=l.rating||0,d=l.reviews_count||0;if(0===c||!c){const e={"Emily Summer":{rating:4.8,reviews:23},"Sara Lee":{rating:4.6,reviews:15},"Sarah Smith":{rating:4.9,reviews:127},"Luna Groomer":{rating:4.9,reviews:31}}[l.provider_name];e?(c=e.rating,d=e.reviews):"vet_nurse"!==l.provider_type&&"Vet Nurse"!==l.provider_type||(c=4.7,d=18)}const m={id:l.provider_id||s,email:l.provider_email,name:l.provider_name,provider_type:l.provider_type,phone:l.provider_phone,address:l.provider_address,city:l.provider_city||l.city,verified:l.verified||!0,rating:c,reviews_count:d,profile_image_url:l.profile_image_url,offers_services:!0,offers_products:!0};if(r(m),!i&&n){const e=n.filter(e=>"service"===e.listing_type||"product"!==e.listing_type&&"package"!==e.listing_type&&"product"!==e.service_types&&"package"!==e.service_types),t=n.filter(e=>"package"===e.listing_type||"package"===e.service_types),r=n.filter(e=>"product"===e.listing_type||"product"===e.service_types),s=e.map(e=>({id:e.listing_id,title:e.name,description:e.description,price:e.price,duration_minutes:30,service_type:e.service_types||e.service_type,location_type:"mobile"})),a=t.map(e=>({id:e.listing_id,name:e.name,description:e.description,package_price:e.price,original_price:1.2*e.price,savings:.2*e.price,is_active:e.active})),i=r.map(e=>({id:e.listing_id,name:e.name,description:e.description,price:e.price,category:e.category,brand:e.brand,stock_quantity:e.stock_quantity,image_url:e.image_url}));o(s),f(a),x(i)}else i&&console.error("Error loading listings:",i);h(!1)}catch(t){h(!1)}})()},[e]);const S=()=>i.filter(e=>w.includes(e.id)).reduce((e,t)=>e+parseFloat(t.price||0),0),L=()=>i.filter(e=>w.includes(e.id)).reduce((e,t)=>e+(t.duration_minutes||30),0),A=e=>({Veterinary:"\ud83c\udfe5","Vet Nurse":"\ud83d\udc69\u200d\u2695\ufe0f",Groomer:"\u2702\ufe0f",Trainer:"\ud83c\udf93",Breeder:"\ud83d\udc15",Nutritionist:"\ud83e\udd57","Pet Business":"\ud83c\udfea","Holistic Care":"\ud83c\udf3f",Expert:"\ud83c\udfaf"}[e]||"\ud83d\udc3e");return p?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C] mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600 font-montserrat",children:"Loading provider details..."})]})}):t?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[(0,l.jsx)("div",{className:"flex-shrink-0 self-center sm:self-start",children:(0,l.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center",children:t.profile_image_url?(0,l.jsx)("img",{src:t.profile_image_url,alt:t.name,className:"w-full h-full object-cover rounded-2xl"}):(0,l.jsx)("span",{className:"text-base",children:A(t.provider_type)})})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 gap-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 font-montserrat",children:t.business_name||t.name}),t.verified&&(0,l.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 font-montserrat",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Verified"]})]}),t.business_name&&t.name!==t.business_name&&(0,l.jsxs)("p",{className:"text-base sm:text-lg text-gray-600 font-montserrat mb-2",children:["by ",t.name]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-600 font-montserrat",children:[(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"mr-2",children:A(t.provider_type)}),t.provider_type]}),t.city&&(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.city,", ",t.country]})]}),(0,l.jsxs)("div",{className:"flex items-center mt-3",children:[(0,l.jsx)("div",{className:"flex text-yellow-400 mr-2",children:[...Array(5)].map((e,t)=>(0,l.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,l.jsx)("span",{className:"text-lg font-semibold text-gray-900 mr-2 font-montserrat",children:t.rating||4.8}),(0,l.jsxs)("span",{className:"text-gray-600 font-montserrat",children:["(",t.reviews_count||23," review",1!==(t.reviews_count||23)?"s":"",")"]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,l.jsx)(d.Ay,{listingId:t.id,listingType:"service",size:"md",className:"self-center sm:self-start"}),(0,l.jsx)("button",{className:"w-full sm:w-auto px-4 sm:px-6 py-3 bg-[#5EB47C] text-white rounded-xl hover:bg-[#4A9A64] transition-colors font-montserrat font-medium",children:"Contact Provider"})]})]}),t.bio&&(0,l.jsx)("p",{className:"text-gray-700 font-montserrat leading-relaxed",children:t.bio}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-4 mt-4",children:[t.offers_services&&(0,l.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[#E5F4F1] text-[#4A9A64] font-montserrat",children:"\ud83d\udee0\ufe0f Services"}),t.offers_products&&(0,l.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 font-montserrat",children:"\ud83d\udecd\ufe0f Products"})]})]})]})})}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[(0,l.jsx)("div",{className:"border-b border-gray-200 mb-6 sm:mb-8",children:(0,l.jsxs)("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto scrollbar-hide",children:[t.offers_services&&(0,l.jsxs)("button",{onClick:()=>b("services"),className:"py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap "+("services"===g?"text-[#5EB47C]":"text-gray-500 hover:text-gray-700"),children:["Services (",i.length,")"]}),t.offers_products&&(0,l.jsxs)("button",{onClick:()=>b("products"),className:"py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap "+("products"===g?"text-[#5EB47C]":"text-gray-500 hover:text-gray-700"),children:["Products (",m.length,")"]}),(0,l.jsx)("button",{onClick:()=>b("about"),className:"py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap "+("about"===g?"text-[#5EB47C]":"text-gray-500 hover:text-gray-700"),children:"About"})]})}),"services"===g&&t.offers_services&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat",children:"Book Services"}),0===i.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,l.jsx)("p",{className:"text-gray-500 font-montserrat",children:"No services available at the moment."})]}):(0,l.jsxs)("div",{className:"space-y-6",children:[u.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 font-montserrat",children:"\ud83d\udce6 Popular Packages"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(e=>{var t;return(0,l.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl border-2 border-green-200 p-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-bold text-gray-900 font-montserrat",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600 font-montserrat",children:e.description})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-xl font-bold text-green-600 font-montserrat",children:["$",e.package_price]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 line-through font-montserrat",children:["$",e.original_price]}),(0,l.jsxs)("p",{className:"text-xs text-green-600 font-bold font-montserrat",children:["Save $",e.savings,"!"]})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2 font-montserrat",children:"Includes:"}),(0,l.jsx)("ul",{className:"text-sm text-gray-600 space-y-1 font-montserrat",children:null===(t=e.service_ids)||void 0===t?void 0:t.map((e,t)=>{const r=i.find(t=>t.id===e);return r?(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"}),r.title]},t):null})})]}),(0,l.jsx)("button",{onClick:()=>{k(e.service_ids||[]),C(!0)},className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-montserrat font-medium",children:"Select Package"})]},e.id)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 font-montserrat",children:"\ud83d\udd27 Build Custom Package"}),(0,l.jsx)("button",{onClick:()=>C(!_),className:"text-blue-600 hover:text-blue-700 font-medium font-montserrat",children:_?"Hide Builder":"Show Builder"})]}),_&&(0,l.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:i.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:`service-${e.id}`,checked:w.includes(e.id),onChange:()=>{return t=e.id,void k(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,l.jsxs)("label",{htmlFor:`service-${e.id}`,className:"ml-3 flex-1",children:[(0,l.jsx)("div",{className:"font-medium text-gray-900 font-montserrat",children:e.title}),e.description&&(0,l.jsx)("div",{className:"text-sm text-gray-500 font-montserrat",children:e.description})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:"font-bold text-gray-900 font-montserrat",children:["$",e.price]}),e.duration_minutes&&(0,l.jsxs)("div",{className:"text-xs text-gray-500 font-montserrat",children:[e.duration_minutes," min"]})]})]},e.id))}),w.length>0&&(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-medium text-gray-900 font-montserrat",children:[w.length," service",1!==w.length?"s":""," selected"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 font-montserrat",children:["Estimated time: ",L()," minutes"]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900 font-montserrat",children:["$",S().toFixed(2)]})})]}),(0,l.jsx)("button",{onClick:()=>{const e=i.filter(e=>w.includes(e.id));N({title:`${w.length} Services Package`,price:S(),duration_minutes:L(),services:e}),v(!0)},className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-montserrat font-medium",children:"Book Selected Services"})]})]})]})]})]}),"products"===g&&t.offers_products&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat",children:"Products Available"}),0===m.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,l.jsx)("p",{className:"text-gray-500 font-montserrat",children:"No products available at the moment."})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:m.map(e=>(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,l.jsx)("div",{className:"aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-100 to-primary-200 h-48 rounded-t-2xl overflow-hidden",children:e.image_url?(0,l.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover border-0"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center text-base",children:"\ud83d\udce6"})}),(0,l.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 font-montserrat flex-1",children:e.name}),(0,l.jsxs)("p",{className:"text-lg font-bold text-gray-900 font-montserrat ml-2",children:["$",e.price]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 font-montserrat",children:e.category}),e.brand&&(0,l.jsx)("span",{className:"text-xs text-gray-500 font-montserrat",children:e.brand})]}),e.description&&(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-4 font-montserrat line-clamp-2",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium font-montserrat "+(e.stock_quantity>10?"bg-green-100 text-green-800":e.stock_quantity>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.stock_quantity>10?"In Stock":e.stock_quantity>0?`${e.stock_quantity} left`:"Out of Stock"}),(0,l.jsx)("button",{disabled:0===e.stock_quantity,className:"px-4 py-2 rounded-lg font-montserrat font-medium transition-colors "+(e.stock_quantity>0?"bg-[#5EB47C] text-white hover:bg-[#4A9A64]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Add to Cart"})]})]})]},e.id))})]}),"about"===g&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat",children:["About ",t.business_name||t.name]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900 mb-3 font-montserrat",children:"Contact Information"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 font-montserrat",children:[t.email&&(0,l.jsxs)("p",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.email]}),t.phone&&(0,l.jsxs)("p",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),t.phone]}),t.address&&(0,l.jsxs)("p",{className:"flex items-start",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.address]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900 mb-3 font-montserrat",children:"Business Details"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 font-montserrat",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Type:"})," ",t.provider_type]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Verified:"})," ",t.verified?"Yes":"No"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Member since:"})," ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),t.bio&&(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900 mb-3 font-montserrat",children:"About"}),(0,l.jsx)("p",{className:"text-gray-700 font-montserrat leading-relaxed",children:t.bio})]})]})]})]}),y&&j&&t&&(0,l.jsx)(c,{service:j,provider:t,onClose:()=>{v(!1),N(null)}})]}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-montserrat",children:"Provider not found"}),(0,l.jsx)("p",{className:"text-gray-500 font-montserrat mb-4",children:"The provider you're looking for doesn't exist."}),(0,l.jsx)(n.N_,{to:"/marketplace",className:"inline-flex items-center px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-montserrat",children:"Back to Marketplace"})]})})}}}]);
//# sourceMappingURL=557.53d3a235.chunk.js.map