"use strict";(self.webpackChunkresponsive_navbar_website=self.webpackChunkresponsive_navbar_website||[]).push([[388],{3388:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var r=t(5043),a=t(5475),l=t(1740),n=t(5064);const i={async getProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let s=l.N.from("products").select("*").order("created_at",{ascending:!1});e.category&&(s=s.eq("category",e.category)),e.providerId&&(s=s.eq("provider_id",e.providerId));const{data:t,error:r}=await s;return r?{success:!1,error:(0,n.nl)(r),data:[]}:{success:!0,data:t||[]}}catch(s){return{success:!1,error:(0,n.nl)(s),data:[]}}},async getProduct(e){try{const{data:s,error:t}=await l.N.from("products").select("*").eq("id",e).single();return t?{success:!1,error:(0,n.nl)(t),data:null}:{success:!0,data:s}}catch(s){return{success:!1,error:(0,n.nl)(s),data:null}}},async createProduct(e){try{const{data:s,error:t}=await l.N.from("products").insert([e]).select().single();return t?{success:!1,error:(0,n.nl)(t),data:null}:{success:!0,data:s}}catch(s){return{success:!1,error:(0,n.nl)(s),data:null}}},async updateProduct(e,s){try{const{data:t,error:r}=await l.N.from("products").update(s).eq("id",e).select().single();return r?{success:!1,error:(0,n.nl)(r),data:null}:{success:!0,data:t}}catch(t){return{success:!1,error:(0,n.nl)(t),data:null}}},async deleteProduct(e){try{const{error:s}=await l.N.from("products").delete().eq("id",e);return s?{success:!1,error:(0,n.nl)(s)}:{success:!0}}catch(s){return{success:!1,error:(0,n.nl)(s)}}}};var o=t(579);const c=e=>{var s,t;let{user:a,profile:l}=e;const[n,c]=(0,r.useState)({monthlyRevenue:0,activeCustomers:0,productsInStock:0,ordersThisMonth:0}),[m,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{g()},[a]);const g=async()=>{if(null!==a&&void 0!==a&&a.id)try{const{data:e,error:s}=await i.getBusinessStats(a.id);s?(console.error("Error loading business stats:",s),c({monthlyRevenue:0,activeCustomers:0,productsInStock:0,ordersThisMonth:0})):c({monthlyRevenue:Math.round(.1*e.totalStockValue),activeCustomers:Math.floor(2.5*e.totalProducts),productsInStock:e.totalProducts,ordersThisMonth:Math.floor(.3*e.totalProducts)})}catch(e){console.error("Error in loadBusinessStats:",e),c({monthlyRevenue:0,activeCustomers:0,productsInStock:0,ordersThisMonth:0})}finally{u(!1)}else u(!1)};return m?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]}):(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg border",children:[(0,o.jsxs)("h1",{className:"text-2xl font-bold mb-2 text-gray-900",children:["Welcome back, ",(null===l||void 0===l||null===(s=l.full_name)||void 0===s?void 0:s.split(" ")[0])||(null===a||void 0===a||null===(t=a.email)||void 0===t?void 0:t.split("@")[0])||"Business Owner"]}),(0,o.jsxs)("p",{className:"text-gray-600",children:["You have ",n.ordersThisMonth," orders this month and ",n.productsInStock," products in your catalog."]})]}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6",children:(0,o.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[(0,o.jsx)("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-blue-600 text-xs sm:text-sm font-medium",children:"Monthly Revenue"}),(0,o.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-blue-900",children:["$",n.monthlyRevenue.toLocaleString()]})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\ud83d\udcb0"})})]})}),(0,o.jsx)("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-green-600 text-xs sm:text-sm font-medium",children:"Active Customers"}),(0,o.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-green-900",children:n.activeCustomers})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\ud83d\udc65"})})]})}),(0,o.jsx)("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-purple-600 text-xs sm:text-sm font-medium",children:"Products in Stock"}),(0,o.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-purple-900",children:n.productsInStock})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\ud83d\udce6"})})]})}),(0,o.jsx)("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-orange-600 text-xs sm:text-sm font-medium",children:"Orders This Month"}),(0,o.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-orange-900",children:n.ordersThisMonth})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-orange-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\ud83d\udcca"})})]})})]})}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsx)(d,{user:a}),(0,o.jsx)(x,{user:a})]})]})},d=e=>{let{user:s}=e;const[t,a]=(0,r.useState)([]),[l,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{i()},[s]);const i=async()=>{if(null!==s&&void 0!==s&&s.id)try{a([])}catch(e){console.error("Error loading recent orders:",e),a([])}finally{n(!1)}else n(!1)};return(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,o.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),(0,o.jsx)("div",{className:"p-6",children:l?(0,o.jsxs)("div",{className:"text-center py-4",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]}):0===t.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\ud83d\udce6"}),(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:"Orders will appear here once customers start purchasing your products"})]}):(0,o.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,o.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,o.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:"#"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.id," - ",e.customer_name]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[e.items," \u2022 $",e.total]}),(0,o.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full mt-1 "+("shipped"===e.status?"bg-green-100 text-green-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]},e.id))})})]})},x=e=>{let{user:s}=e;const[t,a]=(0,r.useState)([]),[l,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{c()},[s]);const c=async()=>{if(null!==s&&void 0!==s&&s.id)try{const{data:e,error:t}=await i.getProducts(s.id);if(t)console.error("Error loading top products:",t),a([]);else{const s=e.sort((e,s)=>s.stock_quantity-e.stock_quantity).slice(0,3);a(s)}}catch(e){console.error("Error in loadTopProducts:",e),a([])}finally{n(!1)}else n(!1)},d=e=>{switch(e){case"Food":return"\ud83e\udd6b";case"Toys":return"\ud83e\uddf8";case"Accessories":return"\ud83d\udecf\ufe0f";case"Health":return"\ud83d\udc8a";case"Grooming":return"\ud83e\uddf4";default:return"\ud83d\udce6"}};return(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,o.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Products"})}),(0,o.jsx)("div",{className:"p-6",children:l?(0,o.jsxs)("div",{className:"text-center py-4",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]}):0===t.length?(0,o.jsxs)("div",{className:"text-center py-4",children:[(0,o.jsx)("div",{className:"text-gray-400 text-2xl mb-2",children:"\ud83d\udce6"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"No products yet"}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"Add products to your catalog to see them here"})]}):(0,o.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,o.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,o.jsx)("span",{className:"text-green-500 text-lg",children:d(e.category)}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:[e.stock_quantity," units in stock \u2022 $",e.price]})]})]},e.id))})})]})},m=e=>{var s;let{user:t,profile:a}=e;const[l,n]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[y,b]=(0,r.useState)(!1),[j,f]=(0,r.useState)(null),[v,N]=(0,r.useState)(""),[w,k]=(0,r.useState)("All"),[C,P]=(0,r.useState)(!1),[S,B]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[A,L]=(0,r.useState)({name:"",category:"Food",price:"",stock_quantity:"",description:"",image:"\ud83d\udce6",images:[]});r.useEffect(()=>{M()},[t]);const M=async()=>{if(null!==t&&void 0!==t&&t.id)try{d(!0),_(null);const{data:e,error:s}=await i.getProducts(t.id);if(s)console.error("Error loading products:",s),_("Failed to load products. Please try again."),n([]);else{const s=e.map(e=>({...e,stock:e.stock_quantity,status:e.stock_quantity>10?"in_stock":"low_stock",image:I(e.category)}));n(s)}}catch(E){console.error("Error in loadProducts:",E),_("Failed to load products. Please try again."),n([])}finally{d(!1)}else d(!1)},q=e=>{p({...e,images:e.images||[]}),g(!0)},O=e=>{f(e),b(!0)},I=e=>{switch(e){case"Food":return"\ud83e\udd6b";case"Toys":return"\ud83e\uddf8";case"Accessories":return"\ud83d\udecf\ufe0f";case"Health":return"\ud83d\udc8a";case"Grooming":return"\ud83e\uddf4";default:return"\ud83d\udce6"}},T=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=Array.from(e.target.files);(s?h.images:A.images).length+t.length>4?alert("You can only upload up to 4 images per product"):t.forEach(e=>{if(e.type.startsWith("image/")){const t=new FileReader;t.onload=t=>{const r={id:Date.now()+Math.random(),file:e,preview:t.target.result,name:e.name};s?p(e=>({...e,images:[...e.images,r]})):L(e=>({...e,images:[...e.images,r]}))},t.readAsDataURL(e)}})},F=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?p(s=>({...s,images:s.images.filter(s=>s.id!==e)})):L(s=>({...s,images:s.images.filter(s=>s.id!==e)}))},R=l.filter(e=>{const s=e.name.toLowerCase().includes(v.toLowerCase())||e.description.toLowerCase().includes(v.toLowerCase()),t="All"===w||e.category===w;return s&&t});return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Catalog"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Manage your product inventory and listings"})]}),(0,o.jsx)("button",{onClick:()=>m(!0),className:"w-full sm:w-auto px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9B63] transition-colors",children:"Add New Product"})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsx)("input",{type:"text",placeholder:"Search products...",value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5EB47C]"})}),(0,o.jsx)("div",{children:(0,o.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",children:[(0,o.jsx)("option",{value:"All",children:"All Categories"}),(0,o.jsx)("option",{value:"Food",children:"Food & Treats"}),(0,o.jsx)("option",{value:"Toys",children:"Toys & Games"}),(0,o.jsx)("option",{value:"Accessories",children:"Accessories"}),(0,o.jsx)("option",{value:"Health",children:"Health & Supplements"}),(0,o.jsx)("option",{value:"Grooming",children:"Grooming Supplies"})]})})]}),(0,o.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Showing ",R.length," of ",l.length," products"]})]}),x&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add New Product"}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),A.name&&A.price&&A.stock_quantity)try{d(!0);const e={...A,provider_id:null===t||void 0===t?void 0:t.id,price:parseFloat(A.price),stock_quantity:parseInt(A.stock_quantity),images:A.images||[]},{data:s,error:r}=await i.createProduct(e);if(r)return console.error("Error creating product:",r),void alert("Failed to create product. Please try again.");await M(),L({name:"",category:"Food",price:"",stock_quantity:"",description:"",image:"\ud83d\udce6",images:[]}),m(!1),console.log("New product added:",s)}catch(E){console.error("Error in handleAddProduct:",E),alert("Failed to create product. Please try again.")}finally{d(!1)}else alert("Please fill in all required fields")},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,o.jsx)("input",{type:"text",required:!0,value:A.name,onChange:e=>L({...A,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",placeholder:"e.g., Premium Dog Food"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,o.jsxs)("select",{value:A.category,onChange:e=>L({...A,category:e.target.value,image:I(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",children:[(0,o.jsx)("option",{value:"Food",children:"Food & Treats"}),(0,o.jsx)("option",{value:"Toys",children:"Toys & Games"}),(0,o.jsx)("option",{value:"Accessories",children:"Accessories"}),(0,o.jsx)("option",{value:"Health",children:"Health & Supplements"}),(0,o.jsx)("option",{value:"Grooming",children:"Grooming Supplies"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),(0,o.jsx)("input",{type:"number",step:"0.01",min:"0",required:!0,value:A.price,onChange:e=>L({...A,price:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",placeholder:"29.99"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),(0,o.jsx)("input",{type:"number",min:"0",required:!0,value:A.stock_quantity,onChange:e=>L({...A,stock_quantity:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",placeholder:"50"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,o.jsx)("textarea",{value:A.description,onChange:e=>L({...A,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",placeholder:"Product description...",rows:"3"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images (up to 4)"}),A.images.length<4&&(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,o.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,o.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:["PNG, JPG, GIF up to 10MB (",4-A.images.length," remaining)"]})]}),(0,o.jsx)("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:e=>T(e,!1)})]})}),A.images.length>0&&(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:A.images.map(e=>(0,o.jsxs)("div",{className:"relative group",children:[(0,o.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-24 object-cover rounded-lg border"}),(0,o.jsx)("button",{type:"button",onClick:()=>F(e.id,!1),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"}),(0,o.jsx)("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:e.name.length>10?e.name.substring(0,10)+"...":e.name})]},e.id))})]}),(0,o.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9B63] transition-colors",children:"Add Product"})]})]})]})}),u&&h&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Edit Product"}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.name&&h.price&&h.stock_quantity)try{d(!0);const e={name:h.name,category:h.category,price:parseFloat(h.price),stock_quantity:parseInt(h.stock_quantity),description:h.description,images:h.images||[]},{data:s,error:t}=await i.updateProduct(h.id,e);if(t)return console.error("Error updating product:",t),void alert("Failed to update product. Please try again.");await M(),g(!1),p(null),console.log("Product updated:",s)}catch(E){console.error("Error in handleUpdateProduct:",E),alert("Failed to update product. Please try again.")}finally{d(!1)}else alert("Please fill in all required fields")},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,o.jsx)("input",{type:"text",required:!0,value:h.name,onChange:e=>p({...h,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,o.jsxs)("select",{value:h.category,onChange:e=>p({...h,category:e.target.value,image:I(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",children:[(0,o.jsx)("option",{value:"Food",children:"Food & Treats"}),(0,o.jsx)("option",{value:"Toys",children:"Toys & Games"}),(0,o.jsx)("option",{value:"Accessories",children:"Accessories"}),(0,o.jsx)("option",{value:"Health",children:"Health & Supplements"}),(0,o.jsx)("option",{value:"Grooming",children:"Grooming Supplies"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),(0,o.jsx)("input",{type:"number",step:"0.01",min:"0",required:!0,value:h.price,onChange:e=>p({...h,price:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),(0,o.jsx)("input",{type:"number",min:"0",required:!0,value:h.stock_quantity,onChange:e=>p({...h,stock_quantity:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,o.jsx)("textarea",{value:h.description,onChange:e=>p({...h,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",rows:"3"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images (up to 4)"}),h.images&&h.images.length<4&&(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,o.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,o.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:["PNG, JPG, GIF up to 10MB (",4-((null===(s=h.images)||void 0===s?void 0:s.length)||0)," remaining)"]})]}),(0,o.jsx)("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:e=>T(e,!0)})]})}),h.images&&h.images.length>0&&(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:h.images.map(e=>(0,o.jsxs)("div",{className:"relative group",children:[(0,o.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-24 object-cover rounded-lg border"}),(0,o.jsx)("button",{type:"button",onClick:()=>F(e.id,!0),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"}),(0,o.jsx)("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:e.name.length>10?e.name.substring(0,10)+"...":e.name})]},e.id))})]}),(0,o.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:()=>{g(!1),p(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9B63] transition-colors",children:"Update Product"})]})]})]})}),y&&j&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delete Product"}),(0,o.jsxs)("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',j.name,'"? This action cannot be undone.']}),(0,o.jsxs)("div",{className:"flex space-x-3",children:[(0,o.jsx)("button",{onClick:()=>{b(!1),f(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,o.jsx)("button",{onClick:async()=>{if(null!==j&&void 0!==j&&j.id)try{d(!0);const{data:e,error:s}=await i.deleteProduct(j.id);if(s)return console.error("Error deleting product:",s),void alert("Failed to delete product. Please try again.");await M(),b(!1),f(null),console.log("Product deleted:",e)}catch(E){console.error("Error in confirmDeleteProduct:",E),alert("Failed to delete product. Please try again.")}finally{d(!1)}},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})}),C&&S&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:S.name}),(0,o.jsx)("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),S.images&&S.images.length>0?(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Product Images"}),(0,o.jsx)("div",{className:"grid grid-cols-2 gap-4",children:S.images.map((e,s)=>(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("img",{src:e.preview,alt:`${S.name} - View ${s+1}`,className:"w-full h-32 object-cover rounded-lg border"}),(0,o.jsxs)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[s+1," of ",S.images.length]})]},e.id))})]}):(0,o.jsxs)("div",{className:"mb-6 text-center py-8 bg-gray-50 rounded-lg",children:[(0,o.jsx)("div",{className:"text-4xl mb-2",children:S.image}),(0,o.jsx)("p",{className:"text-gray-500",children:"No images uploaded"})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),(0,o.jsx)("p",{className:"text-gray-900",children:S.category})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Price"}),(0,o.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["$",S.price]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Stock"}),(0,o.jsxs)("p",{className:"font-medium "+("in_stock"===S.status?"text-green-600":"text-red-600"),children:[S.stock," units"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,o.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("in_stock"===S.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"in_stock"===S.status?"In Stock":"Low Stock"})]})]}),S.description&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),(0,o.jsx)("p",{className:"text-gray-900 mt-1",children:S.description})]})]}),(0,o.jsxs)("div",{className:"flex space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,o.jsx)("button",{onClick:()=>{P(!1),q(S)},className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:"Edit Product"}),(0,o.jsx)("button",{onClick:()=>{P(!1),O(S)},className:"flex-1 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:"Delete Product"})]})]})}),E&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"text-red-400 mr-3",children:"\u26a0\ufe0f"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-red-800 font-medium",children:"Error loading products"}),(0,o.jsx)("p",{className:"text-red-600 text-sm",children:E})]}),(0,o.jsx)("button",{onClick:M,className:"ml-auto px-3 py-1 bg-red-100 text-red-800 text-sm rounded hover:bg-red-200 transition-colors",children:"Retry"})]})}),c?(0,o.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]}):0===R.length?(0,o.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,o.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udce6"}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:v||"All"!==w?"No products found":"No products yet"}),(0,o.jsx)("p",{className:"text-gray-600 mb-4",children:v||"All"!==w?"Try adjusting your search or filter criteria":"Start building your product catalog by adding your first product"}),!v&&"All"===w&&(0,o.jsx)("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9B63] transition-colors",children:"Add Your First Product"})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(e=>(0,o.jsxs)("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,o.jsx)("div",{className:"flex-shrink-0 cursor-pointer",onClick:()=>(e=>{B(e),P(!0)})(e),children:e.images&&e.images.length>0?(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("img",{src:e.images[0].preview,alt:e.name,className:"w-16 h-16 object-cover rounded-lg border hover:opacity-80 transition-opacity"}),e.images.length>1&&(0,o.jsxs)("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:["+",e.images.length-1]})]}):(0,o.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-2xl hover:bg-gray-200 transition-colors",children:e.image})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["$",e.price]}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:e.category})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsxs)("p",{className:"text-sm font-medium "+("in_stock"===e.status?"text-green-600":"text-red-600"),children:[e.stock," in stock"]}),(0,o.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("in_stock"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"in_stock"===e.status?"In Stock":"Low Stock"})]})]})]})]}),(0,o.jsxs)("div",{className:"flex space-x-2 pt-2 border-t border-gray-100",children:[(0,o.jsx)("button",{onClick:()=>q(e),className:"flex-1 px-3 py-2 text-sm bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",children:"Edit"}),(0,o.jsx)("button",{onClick:()=>O(e),className:"flex-1 px-3 py-2 text-sm bg-red-50 text-red-600 rounded-md hover:bg-red-100 transition-colors",children:"Delete"})]})]},e.id))})]})},u=e=>{let{user:s,profile:t}=e;const[a,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{c()},[s]);const c=async()=>{if(null!==s&&void 0!==s&&s.id)try{l([])}catch(e){console.error("Error loading orders:",e),l([])}finally{i(!1)}else i(!1)},d=a.filter(e=>"pending"===e.status||"processing"===e.status),x=a.filter(e=>"shipped"===e.status||"delivered"===e.status||"in_transit"===e.status);return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Management"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Track and manage customer orders"})]}),n?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading orders..."})]}):(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,o.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Orders"})}),(0,o.jsx)("div",{className:"p-6",children:0===d.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\u23f3"}),(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No pending orders"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:"New orders will appear here when customers make purchases"})]}):(0,o.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,o.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-yellow-50 rounded-lg",children:[(0,o.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-yellow-600 font-semibold text-sm",children:"#"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.id," - ",e.customer_name]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[e.items," \u2022 $",e.total]}),(0,o.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full mt-1 "+("processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]},e.id))})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,o.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Shipments"})}),(0,o.jsx)("div",{className:"p-6",children:0===x.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\ud83d\udce6"}),(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No shipments yet"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:"Completed orders will appear here once they're shipped"})]}):(0,o.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,o.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-green-50 rounded-lg",children:[(0,o.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-green-600 font-semibold text-sm",children:"\u2713"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.id," - ",e.customer_name]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[e.items," \u2022 $",e.total]}),(0,o.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full mt-1 "+("delivered"===e.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]},e.id))})})]})]})]})},g=e=>{let{user:s,profile:t}=e;const[a,l]=(0,r.useState)([]),[n,c]=(0,r.useState)([]),[d,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{m()},[s]);const m=async()=>{if(null!==s&&void 0!==s&&s.id)try{const{data:e,error:t}=await i.getProducts(s.id);if(t)console.error("Error loading inventory data:",t),l([]),c([]);else{const s=e.filter(e=>e.stock_quantity<10);l(s);const t={};e.forEach(e=>{t[e.category]?t[e.category]++:t[e.category]=1});const r=Object.entries(t).map(e=>{let[s,t]=e;return{category:s,count:t,emoji:u(s)}});c(r)}}catch(e){console.error("Error in loadInventoryData:",e),l([]),c([])}finally{x(!1)}else x(!1)},u=e=>{switch(e){case"Food":return"\ud83e\udd6b";case"Toys":return"\ud83e\uddf8";case"Accessories":return"\ud83d\udecf\ufe0f";case"Health":return"\ud83d\udc8a";case"Grooming":return"\ud83e\uddf4";default:return"\ud83d\udce6"}};return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Monitor stock levels and manage inventory"})]}),d?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading inventory data..."})]}):(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,o.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Low Stock Alerts"})}),(0,o.jsx)("div",{className:"p-6",children:0===a.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\u2705"}),(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"All products well stocked"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:"Products with low stock (less than 10 units) will appear here"})]}):(0,o.jsx)("div",{className:"space-y-4",children:a.map(e=>{const s=0===(t=e.stock_quantity)?{level:"Out of Stock",color:"red",bgColor:"bg-red-50"}:t<5?{level:"Critical",color:"red",bgColor:"bg-red-50"}:t<10?{level:"Low",color:"yellow",bgColor:"bg-yellow-50"}:{level:"Good",color:"green",bgColor:"bg-green-50"};var t;return(0,o.jsxs)("div",{className:`flex items-center space-x-4 p-4 ${s.bgColor} rounded-lg`,children:[(0,o.jsx)("div",{className:`w-10 h-10 bg-${s.color}-100 rounded-full flex items-center justify-center`,children:(0,o.jsx)("span",{className:`text-${s.color}-600 font-semibold text-sm`,children:"red"===s.color?"!":"\u26a0"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:0===e.stock_quantity?"Out of stock":`Only ${e.stock_quantity} units remaining`}),(0,o.jsx)("span",{className:`inline-block px-2 py-1 bg-${s.color}-100 text-${s.color}-800 text-xs rounded-full mt-1`,children:s.level})]})]},e.id)})})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,o.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Categories"})}),(0,o.jsx)("div",{className:"p-6",children:0===n.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\ud83d\udce6"}),(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products yet"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:"Add products to see category breakdown"})]}):(0,o.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("span",{className:"text-lg",children:e.emoji}),(0,o.jsx)("span",{className:"font-medium text-gray-900",children:e.category})]}),(0,o.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:[e.count," product",1!==e.count?"s":""]})]},e.category))})})]})]})]})},h=e=>{let{user:s,profile:t}=e;return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Messages"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Communicate with your customers about orders and products"})]}),(0,o.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,o.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udcac"}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Customer Messaging Coming Soon"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Chat directly with customers about their orders, answer product questions, and provide customer support."})]})]})},p=e=>{let{user:s,profile:t}=e;const[a,l]=(0,r.useState)({totalOrders:0,totalRevenue:0,avgOrderValue:0,customerRetention:0}),[n,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{d()},[s]);const d=async()=>{if(null!==s&&void 0!==s&&s.id)try{const{data:e,error:t}=await i.getProducts(s.id);if(t)console.error("Error loading analytics data:",t),l({totalOrders:0,totalRevenue:0,avgOrderValue:0,customerRetention:0});else{e.length,e.reduce((e,s)=>e+s.price*s.stock_quantity,0);l({totalOrders:0,totalRevenue:0,avgOrderValue:0,customerRetention:0})}}catch(e){console.error("Error in loadAnalyticsData:",e),l({totalOrders:0,totalRevenue:0,avgOrderValue:0,customerRetention:0})}finally{c(!1)}else c(!1)};return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Analytics"}),(0,o.jsx)("p",{className:"text-gray-600",children:"View your business performance and sales insights"})]}),n?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-6",children:[(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Orders"}),(0,o.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:a.totalOrders})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\ud83d\udcca"})})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,o.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["$",a.totalRevenue.toLocaleString()]})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\ud83d\udcb0"})})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Avg. Order Value"}),(0,o.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["$",a.avgOrderValue]})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\ud83d\uded2"})})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Customer Retention"}),(0,o.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[a.customerRetention,"%"]})]}),(0,o.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600",children:(0,o.jsx)("span",{className:"text-lg sm:text-xl",children:"\u2b50"})})]})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Performance"}),(0,o.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,o.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\ud83d\udcca"}),(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analytics Coming Soon"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:"Detailed analytics will be available once you start receiving orders and tracking customer interactions"})]})]})]})]})},y=e=>{let{user:s,profile:t,onProfileUpdate:a}=e;const[n,i]=(0,r.useState)({businessName:"",yearsInBusiness:"",businessType:"Pet Supply Store",location:""}),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{x()},[s,t]);const x=async()=>{try{d(!0);let a="",n="",o="Pet Supply Store",c="";if(t){if(console.log("\ud83d\udccb Profile data received:",t),a=t.location||"",t.organization)if(t.organization.includes("|years:")){const e=t.organization.split("|years:");n=e[0],c=e[1]}else n=t.organization;else n=t.full_name||"";o="Pet Supply Store",console.log("\ud83d\udccb Extracted from profile - businessName:",n,"location:",a,"years:",c)}else console.log("\u26a0\ufe0f No profile data received");if(null!==s&&void 0!==s&&s.id&&!a)try{var e;const{data:s,error:t}=await l.N.auth.getUser();if(!t&&null!==s&&void 0!==s&&null!==(e=s.user)&&void 0!==e&&e.user_metadata){const e=s.user.user_metadata,t=[e.address,e.city,e.country].filter(Boolean);t.length>0&&(a=t.join(", ")),!n&&e.business_name&&(n=e.business_name)}}catch(r){console.log("Could not retrieve user metadata:",r)}const x={businessName:n,yearsInBusiness:c||"",businessType:o,location:a};console.log("\ud83d\udccb Setting business info:",x),i(x)}catch(r){console.error("Error loading business profile:",r),t&&i({businessName:t.organization||t.full_name||"",yearsInBusiness:"",businessType:"Pet Supply Store",location:t.location||""})}finally{d(!1)}};return c?(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Profile"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Manage your business information and store details"})]}),(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading business profile..."})]})]}):(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Profile"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Manage your business information and store details"})]}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Information"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),(0,o.jsx)("input",{type:"text",value:n.businessName,onChange:e=>i({...n,businessName:e.target.value}),placeholder:"Enter your business name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Business"}),(0,o.jsx)("input",{type:"number",value:n.yearsInBusiness,onChange:e=>i({...n,yearsInBusiness:e.target.value}),placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),(0,o.jsxs)("select",{value:n.businessType,onChange:e=>i({...n,businessType:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]",children:[(0,o.jsx)("option",{value:"Pet Supply Store",children:"Pet Supply Store"}),(0,o.jsx)("option",{value:"Pet Food Retailer",children:"Pet Food Retailer"}),(0,o.jsx)("option",{value:"Pet Accessories Shop",children:"Pet Accessories Shop"}),(0,o.jsx)("option",{value:"Online Pet Store",children:"Online Pet Store"}),(0,o.jsx)("option",{value:"Pet Boutique",children:"Pet Boutique"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Location"}),(0,o.jsx)("input",{type:"text",value:n.location,onChange:e=>i({...n,location:e.target.value}),placeholder:"City, Country",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#5EB47C]"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This is populated from your personal location provided during signup"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Store Status"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Dashboard Access"}),(0,o.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Active"})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Product Management"}),(0,o.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Enabled"})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Order Management"}),(0,o.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:"Coming Soon"})]})]})]}),(0,o.jsx)("button",{onClick:async()=>{try{if(d(!0),null===s||void 0===s||!s.id)return void alert("Error: User not found");console.log("\ud83d\udcbe Saving business profile:",n),console.log("\ud83d\udc64 User ID:",s.id);const{data:r,error:i}=await l.N.from("profiles").select("id, email, organization, location").eq("id",s.id).single();if(i){if(console.error("\u274c Error checking existing profile:",i),"PGRST116"!==i.code)return void alert(`Error checking profile: ${i.message}. Please try again.`);{var e,t;console.log("\ud83d\udcdd Profile does not exist, creating new profile...");let r=n.businessName;n.yearsInBusiness&&(r=`${n.businessName}|years:${n.yearsInBusiness}`);const{data:a,error:i}=await l.N.from("profiles").insert({id:s.id,email:s.email,full_name:(null===(e=s.user_metadata)||void 0===e?void 0:e.full_name)||"",phone:(null===(t=s.user_metadata)||void 0===t?void 0:t.phone)||"",organization:r,location:n.location,role:"pet_business",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).select();if(i)return console.error("\u274c Error creating profile:",i),void alert(`Error creating profile: ${i.message}. Please try again.`);console.log("\u2705 Profile created successfully:",a)}}else{console.log("\ud83d\udcdd Profile exists, updating with data:",{organization:n.businessName,location:n.location});let e=n.businessName;n.yearsInBusiness&&(e=`${n.businessName}|years:${n.yearsInBusiness}`);const t={organization:e,location:n.location,updated_at:(new Date).toISOString()};console.log("\ud83d\udcdd Storing organization data:",e);const{data:r,error:a}=await l.N.from("profiles").update(t).eq("id",s.id).select();if(a)return console.error("\u274c Error updating profile:",a),void alert(`Error saving profile: ${a.message}. Please try again.`);console.log("\u2705 Profile updated successfully:",r)}console.log("\ud83d\udcdd Skipping providers table update - using profiles table only"),alert("\u2705 Business profile saved successfully!"),console.log("\ud83c\udf89 Business profile saved:",n),console.log("\ud83d\udd04 Refreshing profile data in main component..."),a&&await a(),await x(),console.log("\u2705 Profile data refreshed")}catch(r){console.error("\u274c Error saving business profile:",r),alert(`Error saving profile: ${r.message||"Unknown error"}. Please try again.`)}finally{d(!1)}},disabled:c,className:"w-full sm:w-auto px-6 py-2 text-white rounded-lg transition-colors "+(c?"bg-gray-400 cursor-not-allowed":"bg-[#5EB47C] hover:bg-[#4A9B63]"),children:c?(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,o.jsx)("span",{children:"Saving..."})]}):"Save Changes"})]})})]})},b=()=>{var e,s;const[t,n]=(0,r.useState)(null),[i,d]=(0,r.useState)(null),[x,b]=(0,r.useState)(!0),[j,f]=(0,r.useState)(null),[v,N]=(0,r.useState)("overview"),w=(0,a.Zp)(),k=[{id:"overview",name:"Overview",icon:(0,o.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2 2z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v4H8V5z"})]})},{id:"products",name:"Products",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},{id:"orders",name:"Orders",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})},{id:"inventory",name:"Inventory",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})},{id:"messages",name:"Messages",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})},{id:"analytics",name:"Analytics",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"profile",name:"Profile",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}];(0,r.useEffect)(()=>{C()},[]);const C=async()=>{try{const{data:{user:e},error:s}=await l.N.auth.getUser();if(s)return console.error("Error getting user:",s),f("Error loading user data"),void b(!1);if(!e)return console.log("No user found, redirecting to sign in"),void w("/signin");n(e);const{data:t,error:r}=await l.N.from("profiles").select("*").eq("id",e.id).single();r?(console.error("Error getting profile:",r),console.log("PetBusinessDashboard - No profile found, using basic user data")):(d(t),console.log("\u2705 PetBusinessDashboard - Profile loaded successfully")),b(!1)}catch(j){console.error("Error in fetchUserData:",j),f("Error loading dashboard data"),b(!1)}};if(x)return(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C] mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your business dashboard..."})]})});if(j)return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-red-500 mb-4",children:"\u26a0\ufe0f"}),(0,o.jsx)("p",{className:"text-red-600 font-montserrat",children:j}),(0,o.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#5EB47C] text-white rounded hover:bg-[#4A9B63]",children:"Retry"})]})});const P=(null===i||void 0===i?void 0:i.full_name)||(null===t||void 0===t||null===(e=t.user_metadata)||void 0===e?void 0:e.full_name)||(null===t||void 0===t||null===(s=t.email)||void 0===s?void 0:s.split("@")[0])||"Business Owner",S=P.split(" ")[0]||"Owner";return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,o.jsx)("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3",children:(0,o.jsx)("div",{className:"flex items-center justify-between",children:(0,o.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,o.jsx)("img",{src:"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg",alt:"Pet Business",className:"w-8 h-8 flex-shrink-0"}),(0,o.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,o.jsxs)("h4",{className:"text-md font-medium text-gray-900 truncate",children:["Welcome back, ",S]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 truncate",children:"Pet Business Owner"})]})]})})}),(0,o.jsx)("div",{className:"lg:hidden bg-white border-b border-gray-200 px-2 py-2",children:(0,o.jsx)("div",{className:"flex overflow-x-auto space-x-1 pb-2",children:k.map(e=>(0,o.jsxs)("button",{onClick:()=>N(e.id),className:"flex-shrink-0 flex items-center px-3 py-2 text-xs font-medium rounded-md transition-colors whitespace-nowrap "+(v===e.id?"bg-green-100 text-[#5EB47C]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,o.jsx)("span",{className:"mr-2",children:e.icon}),e.name]},e.id))})}),(0,o.jsx)("div",{className:"hidden lg:block w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,o.jsx)("img",{src:"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg",alt:"Pet Business",className:"w-10 h-10"}),(0,o.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,o.jsx)("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:"Pet Business"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 truncate",children:P})]})]})}),(0,o.jsx)("nav",{className:"space-y-2",children:k.map(e=>(0,o.jsxs)("button",{onClick:()=>N(e.id),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors "+(v===e.id?"bg-green-100 text-[#5EB47C]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,o.jsx)("span",{className:"mr-3",children:e.icon}),e.name]},e.id))})]})}),(0,o.jsx)("div",{className:"flex-1 p-3 sm:p-4 lg:p-6",children:(()=>{switch(v){case"overview":default:return(0,o.jsx)(c,{user:t,profile:i});case"products":return(0,o.jsx)(m,{user:t,profile:i});case"orders":return(0,o.jsx)(u,{user:t,profile:i});case"inventory":return(0,o.jsx)(g,{user:t,profile:i});case"messages":return(0,o.jsx)(h,{user:t,profile:i});case"analytics":return(0,o.jsx)(p,{user:t,profile:i});case"profile":return(0,o.jsx)(y,{user:t,profile:i,onProfileUpdate:C})}})()})]})})}}}]);
//# sourceMappingURL=388.d83c1789.chunk.js.map