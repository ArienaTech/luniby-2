{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{supabase}from'../lib/supabase.js';import{useNotificationContext}from'../contexts/NotificationContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const{showError,showSuccess}=useNotificationContext();const[activeTab,setActiveTab]=useState('overview');const[users,setUsers]=useState([]);const[providers,setProviders]=useState([]);const[qualificationSubmissions,setQualificationSubmissions]=useState([]);const[auditLogs,setAuditLogs]=useState([]);const[stats,setStats]=useState({petOwners:0,verifiedProviders:0,pendingProviders:0,pendingQualifications:0,admins:0,support:0,totalBookings:0,providersByType:{}});const[loading,setLoading]=useState(true);const[currentUser,setCurrentUser]=useState(null);const navigate=useNavigate();const checkAdminAccess=useCallback(async()=>{try{const{data:{user}}=await supabase.auth.getUser();if(!user){navigate('/signin');return;}const{data:profile,error:profileError}=await supabase.from('profiles').select('*').eq('id',user.id).single();if(profileError||!profile||profile.role!=='admin'){showError('Access denied. Admin privileges required.');navigate('/');return;}setCurrentUser(profile);}catch(error){showError('An error occurred while checking access. Please try again.');navigate('/signin');}},[navigate,showError]);const loadDashboardData=useCallback(async()=>{setLoading(true);try{// Use Promise.all for parallel queries - performance optimization\nconst[usersResponse,providersResponse,userCountResponse,providerCountResponse,qualificationsResponse,bookingCountResponse]=await Promise.all([// Load users with specific fields to reduce payload\nsupabase.from('profiles').select('id, email, role, created_at, updated_at, full_name').order('created_at',{ascending:false}).limit(50),// Load all providers from providers table\nsupabase.from('providers').select('id, name, email, provider_type, city, country, created_at, verified, rating, reviews_count, is_active').order('created_at',{ascending:false}).limit(50),// Get all profiles to count by role\nsupabase.from('profiles').select('role'),// Get all providers to count by type and status\nsupabase.from('providers').select('provider_type, verified, is_active'),// Load qualification submissions\nsupabase.from('provider_qualifications').select('*').order('submitted_at',{ascending:false}).limit(50),supabase.from('consultation_bookings').select('*',{count:'estimated',head:true})]);// Extract data and counts\nconst usersData=usersResponse.data||[];const providersData=providersResponse.data||[];const qualificationsData=qualificationsResponse.data||[];const roleData=userCountResponse.data||[];const allProvidersData=providerCountResponse.data||[];const bookingCountData=bookingCountResponse;// Count users by role from profiles\nconst roleCounts=roleData.reduce((acc,user)=>{const role=user.role||'pet_owner';acc[role]=(acc[role]||0)+1;return acc;},{});// Count providers by type and status\nconst verifiedProviders=allProvidersData.filter(p=>p.verified);const pendingProviders=allProvidersData.filter(p=>!p.verified);const providersByType=allProvidersData.reduce((acc,provider)=>{const type=provider.provider_type||'Unknown';if(!acc[type]){acc[type]={total:0,verified:0,pending:0};}acc[type].total++;if(provider.verified){acc[type].verified++;}else{acc[type].pending++;}return acc;},{});setUsers(usersData);setProviders(providersData);setQualificationSubmissions(qualificationsData);setAuditLogs([]);// Audit logs table does not exist\nsetStats({petOwners:roleCounts.pet_owner||0,verifiedProviders:verifiedProviders.length,unverifiedProviders:pendingProviders.length,pendingQualifications:qualificationsData.filter(q=>q.status==='pending').length,admins:roleCounts.admin||0,support:roleCounts.support||0,totalBookings:bookingCountData.count||0,providersByType});}catch(error){showError('Failed to load dashboard data');}finally{setLoading(false);}},[showError]);useEffect(()=>{checkAdminAccess();},[checkAdminAccess]);useEffect(()=>{if((currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'){loadDashboardData();}},[currentUser,loadDashboardData]);const updateUserRole=async(userId,newRole)=>{try{const{error}=await supabase.from('profiles').update({role:newRole,updated_at:new Date().toISOString()}).eq('id',userId);if(error)throw error;showSuccess(`User role updated to ${newRole}`);loadDashboardData();// Refresh data\n}catch(error){showError('Failed to update user role');}};const toggleUserStatus=async(userId,currentStatus)=>{try{const{error}=await supabase.from('profiles').update({is_active:!currentStatus,updated_at:new Date().toISOString()}).eq('id',userId);if(error)throw error;showSuccess(`User ${!currentStatus?'activated':'deactivated'}`);loadDashboardData();}catch(error){showError('Failed to update user status');}};const approveQualification=async qualificationId=>{try{// Update qualification status\nconst{data:updatedQualification,error:qualError}=await supabase.from('provider_qualifications').update({status:'approved',reviewed_by:currentUser.id,reviewed_at:new Date().toISOString()}).eq('id',qualificationId).select().single();if(qualError)throw qualError;// Update provider verification status\nconst{error:providerError}=await supabase.from('providers').update({verified:true}).eq('id',updatedQualification.provider_id);if(providerError)throw providerError;// Update local state\nsetQualificationSubmissions(qualificationSubmissions.map(qual=>qual.id===qualificationId?{...qual,status:'approved'}:qual));showSuccess('Qualification approved! Provider now has full access.');// Reload dashboard data to update stats\nloadDashboardData();}catch(error){showError('Failed to approve qualification');}};const rejectQualification=async function(qualificationId){let reason=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';try{const{error}=await supabase.from('provider_qualifications').update({status:'rejected',reviewed_by:currentUser.id,reviewed_at:new Date().toISOString(),review_notes:reason}).eq('id',qualificationId);if(error)throw error;// Update local state\nsetQualificationSubmissions(qualificationSubmissions.map(qual=>qual.id===qualificationId?{...qual,status:'rejected'}:qual));showSuccess('Qualification rejected. Provider will be notified.');}catch(error){showError('Failed to reject qualification');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C]\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden bg-white border-b border-gray-200 px-4 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\",alt:\"Admin\",className:\"w-8 h-8 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 truncate\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 truncate\",children:currentUser===null||currentUser===void 0?void 0:currentUser.full_name})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#5EB47C] text-white\",children:\"Administrator\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden bg-white border-b border-gray-200 px-2 py-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex overflow-x-auto space-x-1 pb-2\",children:[{id:'overview',name:'Overview',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"2\",y:\"3\",width:\"20\",height:\"14\",rx:\"2\",ry:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"21\",x2:\"16\",y2:\"21\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"17\",x2:\"12\",y2:\"21\"})]})},{id:'users',name:'Users',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"9\",cy:\"7\",r:\"4\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M23 21v-2a4 4 0 0 0-3-3.87\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 3.13a4 4 0 0 1 0 7.75\"})]})},{id:'providers',name:'Providers',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"6\",x2:\"21\",y2:\"6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 10a4 4 0 0 1-8 0\"})]})},{id:'qualifications',name:'Qualifications',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"22,4 12,14.01 9,11.01\"})]})},{id:'audit',name:'Audit',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"3\"})]})}].map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(item.id),className:`flex-shrink-0 flex items-center px-3 py-2 text-xs font-medium rounded-md transition-colors whitespace-nowrap ${activeTab===item.id?'bg-green-100 text-[#5EB47C]':'text-gray-600 hover:text-gray-900 hover:bg-gray-50'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 mr-2\",children:item.icon}),item.name]},item.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:block w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\",alt:\"Admin\",className:\"w-10 h-10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold text-gray-900 truncate\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 truncate\",children:currentUser===null||currentUser===void 0?void 0:currentUser.full_name})]})]})}),/*#__PURE__*/_jsx(\"nav\",{className:\"space-y-2\",children:[{id:'overview',name:'System Overview',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"2\",y:\"3\",width:\"20\",height:\"14\",rx:\"2\",ry:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"21\",x2:\"16\",y2:\"21\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"17\",x2:\"12\",y2:\"21\"})]})},{id:'users',name:'User Management',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"9\",cy:\"7\",r:\"4\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M23 21v-2a4 4 0 0 0-3-3.87\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 3.13a4 4 0 0 1 0 7.75\"})]})},{id:'providers',name:'All Providers',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"6\",x2:\"21\",y2:\"6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 10a4 4 0 0 1-8 0\"})]})},{id:'qualifications',name:'Qualifications',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"22,4 12,14.01 9,11.01\"})]})},{id:'audit',name:'Audit Logs',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"3\"})]})}].map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(item.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${activeTab===item.id?'bg-green-100 text-[#5EB47C]':'text-gray-600 hover:text-gray-900 hover:bg-gray-50'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 mr-3\",children:item.icon}),item.name,item.id==='qualifications'&&stats.pendingQualifications>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\",children:stats.pendingQualifications})]},item.id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 p-3 sm:p-4 lg:p-6\",children:renderActiveSection()})]})});function renderActiveSection(){switch(activeTab){case'overview':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-2 text-gray-900\",children:currentUser===null||currentUser===void 0?void 0:currentUser.full_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"You have \",stats.pendingQualifications,\" pending qualifications and \",stats.unverifiedProviders,\" providers awaiting approval.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Platform Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Pet Owners\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-[#5EB47C]\",children:stats.petOwners}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"Active customers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Verified Providers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-[#5EB47C]\",children:stats.verifiedProviders}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"Approved & active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg border border-gray-200 border-l-4 border-l-orange-400\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Pending Approvals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-orange-600\",children:stats.unverifiedProviders}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"Provider accounts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg border border-gray-200 border-l-4 border-l-blue-400\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Qualifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:stats.pendingQualifications}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"Pending review\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Team Members\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:stats.admins+stats.support}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"Admins & support\"})]})]})]})]});case'providers':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"All Providers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-[#5EB47C]\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Provider\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Joined\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Rating\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:providers.map(provider=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:provider.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:provider.email})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:provider.provider_type})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:[provider.city,\", \",provider.country]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(provider.created_at).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:provider.rating?`${provider.rating}/5`:'No ratings'})]},provider.id))})]})})})]})});case'users':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"User Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-[#5EB47C]\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Joined\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:user.full_name||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:user.email})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"select\",{value:user.role,onChange:e=>updateUserRole(user.id,e.target.value),className:\"text-sm border border-gray-300 rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pet_owner\",children:\"Pet Owner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"provider\",children:\"Provider\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"support\",children:\"Support\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(user.created_at).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleUserStatus(user.id,user.is_active),className:\"text-[#5EB47C] hover:text-[#4A9A64] mr-3\",children:user.is_active?'Deactivate':'Activate'})})]},user.id))})]})})})]})});case'qualifications':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Qualification Submissions\"}),qualificationSubmissions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 bg-gray-50 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-200\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCCB\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Qualification Submissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Qualification submissions will appear here for review.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:qualificationSubmissions.map(qualification=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-6 border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:qualification.provider_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:qualification.provider_email}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mt-2\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${qualification.status==='pending'?'bg-yellow-100 text-yellow-800':qualification.status==='approved'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'}`,children:qualification.status.charAt(0).toUpperCase()+qualification.status.slice(1)})})]}),qualification.status==='pending'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveQualification(qualification.id),className:\"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] text-sm font-medium\",children:\"\\u2713 Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>rejectQualification(qualification.id),className:\"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 text-sm font-medium\",children:\"\\u2717 Reject\"})]})]})},qualification.id))})]})});case'audit':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Audit Logs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-[#5EB47C]\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Resource\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-white uppercase\",children:\"Details\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:auditLogs.map(log=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(log.created_at).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:log.action||log.event_type}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:log.resource_type}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:log.user_id||'System'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-500 max-w-xs truncate\",children:log.details?JSON.stringify(log.details):'-'})]},log.id))})]})})})]})});default:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900\",children:\"Select a section from the sidebar\"})})});}}};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","supabase","useNotificationContext","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminDashboard","showError","showSuccess","activeTab","setActiveTab","users","setUsers","providers","setProviders","qualificationSubmissions","setQualificationSubmissions","auditLogs","setAuditLogs","stats","setStats","petOwners","verifiedProviders","pendingProviders","pendingQualifications","admins","support","totalBookings","providersByType","loading","setLoading","currentUser","setCurrentUser","navigate","checkAdminAccess","data","user","auth","getUser","profile","error","profileError","from","select","eq","id","single","role","loadDashboardData","usersResponse","providersResponse","userCountResponse","providerCountResponse","qualificationsResponse","bookingCountResponse","Promise","all","order","ascending","limit","count","head","usersData","providersData","qualificationsData","roleData","allProvidersData","bookingCountData","roleCounts","reduce","acc","filter","p","verified","provider","type","provider_type","total","pending","pet_owner","length","unverifiedProviders","q","status","admin","updateUserRole","userId","newRole","update","updated_at","Date","toISOString","toggleUserStatus","currentStatus","is_active","approveQualification","qualificationId","updatedQualification","qualError","reviewed_by","reviewed_at","providerError","provider_id","map","qual","rejectQualification","reason","arguments","undefined","review_notes","className","children","src","alt","full_name","name","icon","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x","y","width","height","rx","ry","x1","y1","x2","y2","d","cx","cy","r","points","item","onClick","renderActiveSection","email","city","country","created_at","toLocaleDateString","rating","value","onChange","e","target","qualification","provider_name","provider_email","charAt","toUpperCase","slice","log","toLocaleString","action","event_type","resource_type","user_id","details","JSON","stringify"],"sources":["/workspace/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { supabase } from '../lib/supabase.js';\nimport { useNotificationContext } from '../contexts/NotificationContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst AdminDashboard = () => {\n  const { showError, showSuccess } = useNotificationContext();\n  const [activeTab, setActiveTab] = useState('overview');\n  const [users, setUsers] = useState([]);\n  const [providers, setProviders] = useState([]);\n\n  const [qualificationSubmissions, setQualificationSubmissions] = useState([]);\n  const [auditLogs, setAuditLogs] = useState([]);\n  const [stats, setStats] = useState({\n    petOwners: 0,\n    verifiedProviders: 0,\n    pendingProviders: 0,\n    pendingQualifications: 0,\n    admins: 0,\n    support: 0,\n    totalBookings: 0,\n    providersByType: {}\n  });\n  const [loading, setLoading] = useState(true);\n  const [currentUser, setCurrentUser] = useState(null);\n  const navigate = useNavigate();\n\n  const checkAdminAccess = useCallback(async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        navigate('/signin');\n        return;\n      }\n\n      const { data: profile, error: profileError } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (profileError || !profile || profile.role !== 'admin') {\n        showError('Access denied. Admin privileges required.');\n        navigate('/');\n        return;\n      }\n\n      setCurrentUser(profile);\n    } catch (error) {\n      showError('An error occurred while checking access. Please try again.');\n      navigate('/signin');\n    }\n  }, [navigate, showError]);\n\n  const loadDashboardData = useCallback(async () => {\n    setLoading(true);\n    try {\n      // Use Promise.all for parallel queries - performance optimization\n      const [usersResponse, providersResponse, userCountResponse, providerCountResponse, qualificationsResponse, bookingCountResponse] = await Promise.all([\n        // Load users with specific fields to reduce payload\n        supabase\n          .from('profiles')\n          .select('id, email, role, created_at, updated_at, full_name')\n          .order('created_at', { ascending: false })\n          .limit(50),\n        \n        // Load all providers from providers table\n        supabase\n          .from('providers')\n          .select('id, name, email, provider_type, city, country, created_at, verified, rating, reviews_count, is_active')\n          .order('created_at', { ascending: false })\n          .limit(50),\n        \n        // Get all profiles to count by role\n        supabase\n          .from('profiles')\n          .select('role'),\n        \n        // Get all providers to count by type and status\n        supabase\n          .from('providers')\n          .select('provider_type, verified, is_active'),\n        \n        // Load qualification submissions\n        supabase\n          .from('provider_qualifications')\n          .select('*')\n          .order('submitted_at', { ascending: false })\n          .limit(50),\n\n        supabase\n          .from('consultation_bookings')\n          .select('*', { count: 'estimated', head: true })\n      ]);\n\n      // Extract data and counts\n      const usersData = usersResponse.data || [];\n      const providersData = providersResponse.data || [];\n      const qualificationsData = qualificationsResponse.data || [];\n      const roleData = userCountResponse.data || [];\n      const allProvidersData = providerCountResponse.data || [];\n      const bookingCountData = bookingCountResponse;\n\n      // Count users by role from profiles\n      const roleCounts = roleData.reduce((acc, user) => {\n        const role = user.role || 'pet_owner';\n        acc[role] = (acc[role] || 0) + 1;\n        return acc;\n      }, {});\n\n      // Count providers by type and status\n      const verifiedProviders = allProvidersData.filter(p => p.verified);\n      const pendingProviders = allProvidersData.filter(p => !p.verified);\n      \n      const providersByType = allProvidersData.reduce((acc, provider) => {\n        const type = provider.provider_type || 'Unknown';\n        if (!acc[type]) {\n          acc[type] = { total: 0, verified: 0, pending: 0 };\n        }\n        acc[type].total++;\n        if (provider.verified) {\n          acc[type].verified++;\n        } else {\n          acc[type].pending++;\n        }\n        return acc;\n      }, {});\n\n      setUsers(usersData);\n      setProviders(providersData);\n      setQualificationSubmissions(qualificationsData);\n      setAuditLogs([]); // Audit logs table does not exist\n      setStats({\n        petOwners: roleCounts.pet_owner || 0,\n        verifiedProviders: verifiedProviders.length,\n        unverifiedProviders: pendingProviders.length,\n        pendingQualifications: qualificationsData.filter(q => q.status === 'pending').length,\n        admins: roleCounts.admin || 0,\n        support: roleCounts.support || 0,\n        totalBookings: bookingCountData.count || 0,\n        providersByType\n      });\n\n    } catch (error) {\n      showError('Failed to load dashboard data');\n    } finally {\n      setLoading(false);\n    }\n  }, [showError]);\n\n  useEffect(() => {\n    checkAdminAccess();\n  }, [checkAdminAccess]);\n\n  useEffect(() => {\n    if (currentUser?.role === 'admin') {\n      loadDashboardData();\n    }\n  }, [currentUser, loadDashboardData]);\n\n  const updateUserRole = async (userId, newRole) => {\n    try {\n      const { error } = await supabase\n        .from('profiles')\n        .update({ role: newRole, updated_at: new Date().toISOString() })\n        .eq('id', userId);\n\n      if (error) throw error;\n\n      showSuccess(`User role updated to ${newRole}`);\n      loadDashboardData(); // Refresh data\n    } catch (error) {\n      showError('Failed to update user role');\n    }\n  };\n\n  const toggleUserStatus = async (userId, currentStatus) => {\n    try {\n      const { error } = await supabase\n        .from('profiles')\n        .update({ \n          is_active: !currentStatus, \n          updated_at: new Date().toISOString() \n        })\n        .eq('id', userId);\n\n      if (error) throw error;\n\n      showSuccess(`User ${!currentStatus ? 'activated' : 'deactivated'}`);\n      loadDashboardData();\n    } catch (error) {\n      showError('Failed to update user status');\n    }\n  };\n\n\n\n  const approveQualification = async (qualificationId) => {\n    try {\n      // Update qualification status\n      const { data: updatedQualification, error: qualError } = await supabase\n        .from('provider_qualifications')\n        .update({ \n          status: 'approved',\n          reviewed_by: currentUser.id,\n          reviewed_at: new Date().toISOString()\n        })\n        .eq('id', qualificationId)\n        .select()\n        .single();\n\n      if (qualError) throw qualError;\n\n      // Update provider verification status\n      const { error: providerError } = await supabase\n        .from('providers')\n        .update({ verified: true })\n        .eq('id', updatedQualification.provider_id);\n\n      if (providerError) throw providerError;\n\n      // Update local state\n      setQualificationSubmissions(qualificationSubmissions.map(qual => \n        qual.id === qualificationId ? { ...qual, status: 'approved' } : qual\n      ));\n\n      showSuccess('Qualification approved! Provider now has full access.');\n      \n      // Reload dashboard data to update stats\n      loadDashboardData();\n    } catch (error) {\n      showError('Failed to approve qualification');\n    }\n  };\n\n  const rejectQualification = async (qualificationId, reason = '') => {\n    try {\n      const { error } = await supabase\n        .from('provider_qualifications')\n        .update({ \n          status: 'rejected',\n          reviewed_by: currentUser.id,\n          reviewed_at: new Date().toISOString(),\n          review_notes: reason\n        })\n        .eq('id', qualificationId);\n\n      if (error) throw error;\n\n      // Update local state\n      setQualificationSubmissions(qualificationSubmissions.map(qual => \n        qual.id === qualificationId ? { ...qual, status: 'rejected' } : qual\n      ));\n\n      showSuccess('Qualification rejected. Provider will be notified.');\n    } catch (error) {\n      showError('Failed to reject qualification');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C]\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"flex flex-col lg:flex-row\">\n        {/* Mobile Header */}\n        <div className=\"lg:hidden bg-white border-b border-gray-200 px-4 py-3\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3 min-w-0 flex-1\">\n              <img \n                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\" \n                alt=\"Admin\" \n                className=\"w-8 h-8 flex-shrink-0\"\n              />\n              <div className=\"min-w-0 flex-1\">\n                <h4 className=\"text-md font-medium text-gray-900 truncate\">Admin</h4>\n                <p className=\"text-sm text-gray-600 truncate\">{currentUser?.full_name}</p>\n              </div>\n            </div>\n            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#5EB47C] text-white\">\n              Administrator\n            </span>\n          </div>\n        </div>\n\n        {/* Mobile Navigation */}\n        <div className=\"lg:hidden bg-white border-b border-gray-200 px-2 py-2\">\n          <div className=\"flex overflow-x-auto space-x-1 pb-2\">\n            {[\n              { \n                id: 'overview', \n                name: 'Overview', \n                icon: (\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"/>\n                    <line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\"/>\n                    <line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\"/>\n                  </svg>\n                )\n              },\n              { \n                id: 'users', \n                name: 'Users', \n                icon: (\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/>\n                    <circle cx=\"9\" cy=\"7\" r=\"4\"/>\n                    <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/>\n                    <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>\n                  </svg>\n                )\n              },\n              { \n                id: 'providers', \n                name: 'Providers', \n                icon: (\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"/>\n                    <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"/>\n                    <path d=\"M16 10a4 4 0 0 1-8 0\"/>\n                  </svg>\n                )\n              },\n              { \n                id: 'qualifications', \n                name: 'Qualifications', \n                icon: (\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"/>\n                    <polyline points=\"22,4 12,14.01 9,11.01\"/>\n                  </svg>\n                )\n              },\n              { \n                id: 'audit', \n                name: 'Audit', \n                icon: (\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"/>\n                    <circle cx=\"12\" cy=\"12\" r=\"3\"/>\n                  </svg>\n                )\n              }\n            ].map((item) => (\n              <button\n                key={item.id}\n                onClick={() => setActiveTab(item.id)}\n                className={`flex-shrink-0 flex items-center px-3 py-2 text-xs font-medium rounded-md transition-colors whitespace-nowrap ${\n                  activeTab === item.id\n                    ? 'bg-green-100 text-[#5EB47C]'\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n                }`}\n              >\n                <div className=\"w-4 h-4 mr-2\">{item.icon}</div>\n                {item.name}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Desktop Sidebar */}\n        <div className=\"hidden lg:block w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen\">\n          <div className=\"p-6\">\n            <div className=\"mb-6\">\n              <div className=\"flex items-center space-x-3 mb-3\">\n                <img \n                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\" \n                  alt=\"Admin\" \n                  className=\"w-10 h-10\"\n                />\n                <div className=\"min-w-0 flex-1\">\n                  <h1 className=\"text-lg font-semibold text-gray-900 truncate\">Admin</h1>\n                  <p className=\"text-sm text-gray-600 truncate\">{currentUser?.full_name}</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Navigation */}\n            <nav className=\"space-y-2\">\n              {[\n                { \n                  id: 'overview', \n                  name: 'System Overview', \n                  icon: (\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"/>\n                      <line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\"/>\n                      <line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\"/>\n                    </svg>\n                  )\n                },\n                { \n                  id: 'users', \n                  name: 'User Management', \n                  icon: (\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/>\n                      <circle cx=\"9\" cy=\"7\" r=\"4\"/>\n                      <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/>\n                      <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>\n                    </svg>\n                  )\n                },\n                { \n                  id: 'providers', \n                  name: 'All Providers', \n                  icon: (\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <path d=\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"/>\n                      <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"/>\n                      <path d=\"M16 10a4 4 0 0 1-8 0\"/>\n                    </svg>\n                  )\n                },\n                { \n                  id: 'qualifications', \n                  name: 'Qualifications', \n                  icon: (\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"/>\n                      <polyline points=\"22,4 12,14.01 9,11.01\"/>\n                    </svg>\n                  )\n                },\n                { \n                  id: 'audit', \n                  name: 'Audit Logs', \n                  icon: (\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"/>\n                      <circle cx=\"12\" cy=\"12\" r=\"3\"/>\n                    </svg>\n                  )\n                }\n              ].map((item) => (\n                <button\n                  key={item.id}\n                  onClick={() => setActiveTab(item.id)}\n                  className={`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${\n                    activeTab === item.id\n                      ? 'bg-green-100 text-[#5EB47C]'\n                      : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n                  }`}\n                >\n                  <div className=\"w-5 h-5 mr-3\">{item.icon}</div>\n                  {item.name}\n                  {item.id === 'qualifications' && stats.pendingQualifications > 0 && (\n                    <span className=\"ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                      {stats.pendingQualifications}\n                    </span>\n                  )}\n                </button>\n              ))}\n            </nav>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"flex-1 p-3 sm:p-4 lg:p-6\">\n          {renderActiveSection()}\n        </div>\n      </div>\n    </div>\n  );\n\n  function renderActiveSection() {\n    switch(activeTab) {\n      case 'overview':\n        return (\n          <div className=\"space-y-6\">\n            {/* Welcome Header */}\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                              <h1 className=\"text-2xl font-bold mb-2 text-gray-900\">\n                  {currentUser?.full_name}\n                </h1>\n              <p className=\"text-gray-600\">\n                You have {stats.pendingQualifications} pending qualifications and {stats.unverifiedProviders} providers awaiting approval.\n              </p>\n            </div>\n\n            {/* Stats Cards */}\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Platform Statistics</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200\">\n                  <h3 className=\"text-sm font-medium text-gray-500\">Pet Owners</h3>\n                  <p className=\"text-2xl font-bold text-[#5EB47C]\">{stats.petOwners}</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">Active customers</p>\n                </div>\n                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200\">\n                  <h3 className=\"text-sm font-medium text-gray-500\">Verified Providers</h3>\n                  <p className=\"text-2xl font-bold text-[#5EB47C]\">{stats.verifiedProviders}</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">Approved & active</p>\n                </div>\n                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200 border-l-4 border-l-orange-400\">\n                  <h3 className=\"text-sm font-medium text-gray-500\">Pending Approvals</h3>\n                  <p className=\"text-2xl font-bold text-orange-600\">{stats.unverifiedProviders}</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">Provider accounts</p>\n                </div>\n                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200 border-l-4 border-l-blue-400\">\n                  <h3 className=\"text-sm font-medium text-gray-500\">Qualifications</h3>\n                  <p className=\"text-2xl font-bold text-blue-600\">{stats.pendingQualifications}</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">Pending review</p>\n                </div>\n                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200\">\n                  <h3 className=\"text-sm font-medium text-gray-500\">Team Members</h3>\n                  <p className=\"text-2xl font-bold text-purple-600\">{stats.admins + stats.support}</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">Admins & support</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'providers':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">All Providers</h2>\n              <div className=\"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-[#5EB47C]\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Provider</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Type</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Location</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Joined</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Rating</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {providers.map((provider) => (\n                        <tr key={provider.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <div>\n                              <div className=\"text-sm font-medium text-gray-900\">{provider.name}</div>\n                              <div className=\"text-sm text-gray-500\">{provider.email}</div>\n                            </div>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                              {provider.provider_type}\n                            </span>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {provider.city}, {provider.country}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {new Date(provider.created_at).toLocaleDateString()}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {provider.rating ? `${provider.rating}/5` : 'No ratings'}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'users':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">User Management</h2>\n              <div className=\"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-[#5EB47C]\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">User</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Role</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Joined</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {users.map((user) => (\n                        <tr key={user.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <div>\n                              <div className=\"text-sm font-medium text-gray-900\">{user.full_name || 'N/A'}</div>\n                              <div className=\"text-sm text-gray-500\">{user.email}</div>\n                            </div>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <select\n                              value={user.role}\n                              onChange={(e) => updateUserRole(user.id, e.target.value)}\n                              className=\"text-sm border border-gray-300 rounded px-2 py-1\"\n                            >\n                              <option value=\"pet_owner\">Pet Owner</option>\n                              <option value=\"provider\">Provider</option>\n                              <option value=\"admin\">Admin</option>\n                              <option value=\"support\">Support</option>\n                            </select>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {new Date(user.created_at).toLocaleDateString()}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                            <button\n                              onClick={() => toggleUserStatus(user.id, user.is_active)}\n                              className=\"text-[#5EB47C] hover:text-[#4A9A64] mr-3\"\n                            >\n                              {user.is_active ? 'Deactivate' : 'Activate'}\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'qualifications':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Qualification Submissions</h2>\n              \n              {qualificationSubmissions.length === 0 ? (\n                <div className=\"text-center py-12 bg-gray-50 rounded-lg border border-gray-200\">\n                  <div className=\"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-200\">\n                    <span className=\"text-2xl\">📋</span>\n                  </div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Qualification Submissions</h3>\n                  <p className=\"text-gray-600\">Qualification submissions will appear here for review.</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {qualificationSubmissions.map((qualification) => (\n                    <div key={qualification.id} className=\"bg-gray-50 rounded-lg p-6 border border-gray-200\">\n                      <div className=\"flex justify-between items-start mb-4\">\n                        <div>\n                          <h3 className=\"text-lg font-medium text-gray-900\">\n                            {qualification.provider_name}\n                          </h3>\n                          <p className=\"text-sm text-gray-600\">{qualification.provider_email}</p>\n                          <div className=\"flex items-center mt-2\">\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                              qualification.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                              qualification.status === 'approved' ? 'bg-green-100 text-green-800' :\n                              'bg-red-100 text-red-800'\n                            }`}>\n                              {qualification.status.charAt(0).toUpperCase() + qualification.status.slice(1)}\n                            </span>\n                          </div>\n                        </div>\n                        \n                        {qualification.status === 'pending' && (\n                          <div className=\"flex space-x-2\">\n                            <button\n                              onClick={() => approveQualification(qualification.id)}\n                              className=\"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] text-sm font-medium\"\n                            >\n                              ✓ Approve\n                            </button>\n                            <button\n                              onClick={() => rejectQualification(qualification.id)}\n                              className=\"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 text-sm font-medium\"\n                            >\n                              ✗ Reject\n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        );\n\n\n      case 'audit':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Audit Logs</h2>\n              <div className=\"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-[#5EB47C]\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Timestamp</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Action</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Resource</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">User</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase\">Details</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {auditLogs.map((log) => (\n                        <tr key={log.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {new Date(log.created_at).toLocaleString()}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                            {log.action || log.event_type}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {log.resource_type}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {log.user_id || 'System'}\n                          </td>\n                          <td className=\"px-6 py-4 text-sm text-gray-500 max-w-xs truncate\">\n                            {log.details ? JSON.stringify(log.details) : '-'}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      default:\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Select a section from the sidebar</h2>\n            </div>\n          </div>\n        );\n    }\n  }\n};\n\nexport default AdminDashboard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,QAAQ,KAAQ,oBAAoB,CAC7C,OAASC,sBAAsB,KAAQ,iCAAiC,CACxE,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAEC,SAAS,CAAEC,WAAY,CAAC,CAAGR,sBAAsB,CAAC,CAAC,CAC3D,KAAM,CAACS,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,UAAU,CAAC,CACtD,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACiB,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAE9C,KAAM,CAACmB,wBAAwB,CAAEC,2BAA2B,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC5E,KAAM,CAACqB,SAAS,CAAEC,YAAY,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,CACjCyB,SAAS,CAAE,CAAC,CACZC,iBAAiB,CAAE,CAAC,CACpBC,gBAAgB,CAAE,CAAC,CACnBC,qBAAqB,CAAE,CAAC,CACxBC,MAAM,CAAE,CAAC,CACTC,OAAO,CAAE,CAAC,CACVC,aAAa,CAAE,CAAC,CAChBC,eAAe,CAAE,CAAC,CACpB,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmC,WAAW,CAAEC,cAAc,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAAAqC,QAAQ,CAAGhC,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAiC,gBAAgB,CAAGpC,WAAW,CAAC,SAAY,CAC/C,GAAI,CACF,KAAM,CAAEqC,IAAI,CAAE,CAAEC,IAAK,CAAE,CAAC,CAAG,KAAM,CAAArC,QAAQ,CAACsC,IAAI,CAACC,OAAO,CAAC,CAAC,CACxD,GAAI,CAACF,IAAI,CAAE,CACTH,QAAQ,CAAC,SAAS,CAAC,CACnB,OACF,CAEA,KAAM,CAAEE,IAAI,CAAEI,OAAO,CAAEC,KAAK,CAAEC,YAAa,CAAC,CAAG,KAAM,CAAA1C,QAAQ,CAC1D2C,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,IAAI,CAAER,IAAI,CAACS,EAAE,CAAC,CACjBC,MAAM,CAAC,CAAC,CAEX,GAAIL,YAAY,EAAI,CAACF,OAAO,EAAIA,OAAO,CAACQ,IAAI,GAAK,OAAO,CAAE,CACxDxC,SAAS,CAAC,2CAA2C,CAAC,CACtD0B,QAAQ,CAAC,GAAG,CAAC,CACb,OACF,CAEAD,cAAc,CAACO,OAAO,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdjC,SAAS,CAAC,4DAA4D,CAAC,CACvE0B,QAAQ,CAAC,SAAS,CAAC,CACrB,CACF,CAAC,CAAE,CAACA,QAAQ,CAAE1B,SAAS,CAAC,CAAC,CAEzB,KAAM,CAAAyC,iBAAiB,CAAGlD,WAAW,CAAC,SAAY,CAChDgC,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF;AACA,KAAM,CAACmB,aAAa,CAAEC,iBAAiB,CAAEC,iBAAiB,CAAEC,qBAAqB,CAAEC,sBAAsB,CAAEC,oBAAoB,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACnJ;AACAzD,QAAQ,CACL2C,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,oDAAoD,CAAC,CAC5Dc,KAAK,CAAC,YAAY,CAAE,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACzCC,KAAK,CAAC,EAAE,CAAC,CAEZ;AACA5D,QAAQ,CACL2C,IAAI,CAAC,WAAW,CAAC,CACjBC,MAAM,CAAC,uGAAuG,CAAC,CAC/Gc,KAAK,CAAC,YAAY,CAAE,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACzCC,KAAK,CAAC,EAAE,CAAC,CAEZ;AACA5D,QAAQ,CACL2C,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,MAAM,CAAC,CAEjB;AACA5C,QAAQ,CACL2C,IAAI,CAAC,WAAW,CAAC,CACjBC,MAAM,CAAC,oCAAoC,CAAC,CAE/C;AACA5C,QAAQ,CACL2C,IAAI,CAAC,yBAAyB,CAAC,CAC/BC,MAAM,CAAC,GAAG,CAAC,CACXc,KAAK,CAAC,cAAc,CAAE,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CAC3CC,KAAK,CAAC,EAAE,CAAC,CAEZ5D,QAAQ,CACL2C,IAAI,CAAC,uBAAuB,CAAC,CAC7BC,MAAM,CAAC,GAAG,CAAE,CAAEiB,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,IAAK,CAAC,CAAC,CACnD,CAAC,CAEF;AACA,KAAM,CAAAC,SAAS,CAAGb,aAAa,CAACd,IAAI,EAAI,EAAE,CAC1C,KAAM,CAAA4B,aAAa,CAAGb,iBAAiB,CAACf,IAAI,EAAI,EAAE,CAClD,KAAM,CAAA6B,kBAAkB,CAAGX,sBAAsB,CAAClB,IAAI,EAAI,EAAE,CAC5D,KAAM,CAAA8B,QAAQ,CAAGd,iBAAiB,CAAChB,IAAI,EAAI,EAAE,CAC7C,KAAM,CAAA+B,gBAAgB,CAAGd,qBAAqB,CAACjB,IAAI,EAAI,EAAE,CACzD,KAAM,CAAAgC,gBAAgB,CAAGb,oBAAoB,CAE7C;AACA,KAAM,CAAAc,UAAU,CAAGH,QAAQ,CAACI,MAAM,CAAC,CAACC,GAAG,CAAElC,IAAI,GAAK,CAChD,KAAM,CAAAW,IAAI,CAAGX,IAAI,CAACW,IAAI,EAAI,WAAW,CACrCuB,GAAG,CAACvB,IAAI,CAAC,CAAG,CAACuB,GAAG,CAACvB,IAAI,CAAC,EAAI,CAAC,EAAI,CAAC,CAChC,MAAO,CAAAuB,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN;AACA,KAAM,CAAAhD,iBAAiB,CAAG4C,gBAAgB,CAACK,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACC,QAAQ,CAAC,CAClE,KAAM,CAAAlD,gBAAgB,CAAG2C,gBAAgB,CAACK,MAAM,CAACC,CAAC,EAAI,CAACA,CAAC,CAACC,QAAQ,CAAC,CAElE,KAAM,CAAA7C,eAAe,CAAGsC,gBAAgB,CAACG,MAAM,CAAC,CAACC,GAAG,CAAEI,QAAQ,GAAK,CACjE,KAAM,CAAAC,IAAI,CAAGD,QAAQ,CAACE,aAAa,EAAI,SAAS,CAChD,GAAI,CAACN,GAAG,CAACK,IAAI,CAAC,CAAE,CACdL,GAAG,CAACK,IAAI,CAAC,CAAG,CAAEE,KAAK,CAAE,CAAC,CAAEJ,QAAQ,CAAE,CAAC,CAAEK,OAAO,CAAE,CAAE,CAAC,CACnD,CACAR,GAAG,CAACK,IAAI,CAAC,CAACE,KAAK,EAAE,CACjB,GAAIH,QAAQ,CAACD,QAAQ,CAAE,CACrBH,GAAG,CAACK,IAAI,CAAC,CAACF,QAAQ,EAAE,CACtB,CAAC,IAAM,CACLH,GAAG,CAACK,IAAI,CAAC,CAACG,OAAO,EAAE,CACrB,CACA,MAAO,CAAAR,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN1D,QAAQ,CAACkD,SAAS,CAAC,CACnBhD,YAAY,CAACiD,aAAa,CAAC,CAC3B/C,2BAA2B,CAACgD,kBAAkB,CAAC,CAC/C9C,YAAY,CAAC,EAAE,CAAC,CAAE;AAClBE,QAAQ,CAAC,CACPC,SAAS,CAAE+C,UAAU,CAACW,SAAS,EAAI,CAAC,CACpCzD,iBAAiB,CAAEA,iBAAiB,CAAC0D,MAAM,CAC3CC,mBAAmB,CAAE1D,gBAAgB,CAACyD,MAAM,CAC5CxD,qBAAqB,CAAEwC,kBAAkB,CAACO,MAAM,CAACW,CAAC,EAAIA,CAAC,CAACC,MAAM,GAAK,SAAS,CAAC,CAACH,MAAM,CACpFvD,MAAM,CAAE2C,UAAU,CAACgB,KAAK,EAAI,CAAC,CAC7B1D,OAAO,CAAE0C,UAAU,CAAC1C,OAAO,EAAI,CAAC,CAChCC,aAAa,CAAEwC,gBAAgB,CAACP,KAAK,EAAI,CAAC,CAC1ChC,eACF,CAAC,CAAC,CAEJ,CAAE,MAAOY,KAAK,CAAE,CACdjC,SAAS,CAAC,+BAA+B,CAAC,CAC5C,CAAC,OAAS,CACRuB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACvB,SAAS,CAAC,CAAC,CAEfV,SAAS,CAAC,IAAM,CACdqC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACA,gBAAgB,CAAC,CAAC,CAEtBrC,SAAS,CAAC,IAAM,CACd,GAAI,CAAAkC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEgB,IAAI,IAAK,OAAO,CAAE,CACjCC,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAC,CAAE,CAACjB,WAAW,CAAEiB,iBAAiB,CAAC,CAAC,CAEpC,KAAM,CAAAqC,cAAc,CAAG,KAAAA,CAAOC,MAAM,CAAEC,OAAO,GAAK,CAChD,GAAI,CACF,KAAM,CAAE/C,KAAM,CAAC,CAAG,KAAM,CAAAzC,QAAQ,CAC7B2C,IAAI,CAAC,UAAU,CAAC,CAChB8C,MAAM,CAAC,CAAEzC,IAAI,CAAEwC,OAAO,CAAEE,UAAU,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAE,CAAC,CAAC,CAC/D/C,EAAE,CAAC,IAAI,CAAE0C,MAAM,CAAC,CAEnB,GAAI9C,KAAK,CAAE,KAAM,CAAAA,KAAK,CAEtBhC,WAAW,CAAC,wBAAwB+E,OAAO,EAAE,CAAC,CAC9CvC,iBAAiB,CAAC,CAAC,CAAE;AACvB,CAAE,MAAOR,KAAK,CAAE,CACdjC,SAAS,CAAC,4BAA4B,CAAC,CACzC,CACF,CAAC,CAED,KAAM,CAAAqF,gBAAgB,CAAG,KAAAA,CAAON,MAAM,CAAEO,aAAa,GAAK,CACxD,GAAI,CACF,KAAM,CAAErD,KAAM,CAAC,CAAG,KAAM,CAAAzC,QAAQ,CAC7B2C,IAAI,CAAC,UAAU,CAAC,CAChB8C,MAAM,CAAC,CACNM,SAAS,CAAE,CAACD,aAAa,CACzBJ,UAAU,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACrC,CAAC,CAAC,CACD/C,EAAE,CAAC,IAAI,CAAE0C,MAAM,CAAC,CAEnB,GAAI9C,KAAK,CAAE,KAAM,CAAAA,KAAK,CAEtBhC,WAAW,CAAC,QAAQ,CAACqF,aAAa,CAAG,WAAW,CAAG,aAAa,EAAE,CAAC,CACnE7C,iBAAiB,CAAC,CAAC,CACrB,CAAE,MAAOR,KAAK,CAAE,CACdjC,SAAS,CAAC,8BAA8B,CAAC,CAC3C,CACF,CAAC,CAID,KAAM,CAAAwF,oBAAoB,CAAG,KAAO,CAAAC,eAAe,EAAK,CACtD,GAAI,CACF;AACA,KAAM,CAAE7D,IAAI,CAAE8D,oBAAoB,CAAEzD,KAAK,CAAE0D,SAAU,CAAC,CAAG,KAAM,CAAAnG,QAAQ,CACpE2C,IAAI,CAAC,yBAAyB,CAAC,CAC/B8C,MAAM,CAAC,CACNL,MAAM,CAAE,UAAU,CAClBgB,WAAW,CAAEpE,WAAW,CAACc,EAAE,CAC3BuD,WAAW,CAAE,GAAI,CAAAV,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACtC,CAAC,CAAC,CACD/C,EAAE,CAAC,IAAI,CAAEoD,eAAe,CAAC,CACzBrD,MAAM,CAAC,CAAC,CACRG,MAAM,CAAC,CAAC,CAEX,GAAIoD,SAAS,CAAE,KAAM,CAAAA,SAAS,CAE9B;AACA,KAAM,CAAE1D,KAAK,CAAE6D,aAAc,CAAC,CAAG,KAAM,CAAAtG,QAAQ,CAC5C2C,IAAI,CAAC,WAAW,CAAC,CACjB8C,MAAM,CAAC,CAAEf,QAAQ,CAAE,IAAK,CAAC,CAAC,CAC1B7B,EAAE,CAAC,IAAI,CAAEqD,oBAAoB,CAACK,WAAW,CAAC,CAE7C,GAAID,aAAa,CAAE,KAAM,CAAAA,aAAa,CAEtC;AACArF,2BAA2B,CAACD,wBAAwB,CAACwF,GAAG,CAACC,IAAI,EAC3DA,IAAI,CAAC3D,EAAE,GAAKmD,eAAe,CAAG,CAAE,GAAGQ,IAAI,CAAErB,MAAM,CAAE,UAAW,CAAC,CAAGqB,IAClE,CAAC,CAAC,CAEFhG,WAAW,CAAC,uDAAuD,CAAC,CAEpE;AACAwC,iBAAiB,CAAC,CAAC,CACrB,CAAE,MAAOR,KAAK,CAAE,CACdjC,SAAS,CAAC,iCAAiC,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAkG,mBAAmB,CAAG,cAAAA,CAAOT,eAAe,CAAkB,IAAhB,CAAAU,MAAM,CAAAC,SAAA,CAAA3B,MAAA,IAAA2B,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,EAAE,CAC7D,GAAI,CACF,KAAM,CAAEnE,KAAM,CAAC,CAAG,KAAM,CAAAzC,QAAQ,CAC7B2C,IAAI,CAAC,yBAAyB,CAAC,CAC/B8C,MAAM,CAAC,CACNL,MAAM,CAAE,UAAU,CAClBgB,WAAW,CAAEpE,WAAW,CAACc,EAAE,CAC3BuD,WAAW,CAAE,GAAI,CAAAV,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACrCkB,YAAY,CAAEH,MAChB,CAAC,CAAC,CACD9D,EAAE,CAAC,IAAI,CAAEoD,eAAe,CAAC,CAE5B,GAAIxD,KAAK,CAAE,KAAM,CAAAA,KAAK,CAEtB;AACAxB,2BAA2B,CAACD,wBAAwB,CAACwF,GAAG,CAACC,IAAI,EAC3DA,IAAI,CAAC3D,EAAE,GAAKmD,eAAe,CAAG,CAAE,GAAGQ,IAAI,CAAErB,MAAM,CAAE,UAAW,CAAC,CAAGqB,IAClE,CAAC,CAAC,CAEFhG,WAAW,CAAC,oDAAoD,CAAC,CACnE,CAAE,MAAOgC,KAAK,CAAE,CACdjC,SAAS,CAAC,gCAAgC,CAAC,CAC7C,CACF,CAAC,CAED,GAAIsB,OAAO,CAAE,CACX,mBACE1B,IAAA,QAAK2G,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvE5G,IAAA,QAAK2G,SAAS,CAAC,iEAAiE,CAAM,CAAC,CACpF,CAAC,CAEV,CAEA,mBACE3G,IAAA,QAAK2G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpC1G,KAAA,QAAKyG,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAExC5G,IAAA,QAAK2G,SAAS,CAAC,uDAAuD,CAAAC,QAAA,cACpE1G,KAAA,QAAKyG,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD1G,KAAA,QAAKyG,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD5G,IAAA,QACE6G,GAAG,CAAC,qFAAqF,CACzFC,GAAG,CAAC,OAAO,CACXH,SAAS,CAAC,uBAAuB,CAClC,CAAC,cACFzG,KAAA,QAAKyG,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5G,IAAA,OAAI2G,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cACrE5G,IAAA,MAAG2G,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAEhF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEmF,SAAS,CAAI,CAAC,EACvE,CAAC,EACH,CAAC,cACN/G,IAAA,SAAM2G,SAAS,CAAC,iGAAiG,CAAAC,QAAA,CAAC,eAElH,CAAM,CAAC,EACJ,CAAC,CACH,CAAC,cAGN5G,IAAA,QAAK2G,SAAS,CAAC,uDAAuD,CAAAC,QAAA,cACpE5G,IAAA,QAAK2G,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CACjD,CACC,CACElE,EAAE,CAAE,UAAU,CACdsE,IAAI,CAAE,UAAU,CAChBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMwH,CAAC,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAAC,CAAC,cACxD7H,IAAA,SAAM8H,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAC,CAAC,cACtCjI,IAAA,SAAM8H,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAC,CAAC,EACpC,CAET,CAAC,CACD,CACEvF,EAAE,CAAE,OAAO,CACXsE,IAAI,CAAE,OAAO,CACbC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,2CAA2C,CAAC,CAAC,cACrDlI,IAAA,WAAQmI,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cAC7BrI,IAAA,SAAMkI,CAAC,CAAC,4BAA4B,CAAC,CAAC,cACtClI,IAAA,SAAMkI,CAAC,CAAC,2BAA2B,CAAC,CAAC,EAClC,CAET,CAAC,CACD,CACExF,EAAE,CAAE,WAAW,CACfsE,IAAI,CAAE,WAAW,CACjBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,oDAAoD,CAAC,CAAC,cAC9DlI,IAAA,SAAM8H,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAAC,CAAC,cACpCjI,IAAA,SAAMkI,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAC7B,CAET,CAAC,CACD,CACExF,EAAE,CAAE,gBAAgB,CACpBsE,IAAI,CAAE,gBAAgB,CACtBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,oCAAoC,CAAC,CAAC,cAC9ClI,IAAA,aAAUsI,MAAM,CAAC,uBAAuB,CAAC,CAAC,EACvC,CAET,CAAC,CACD,CACE5F,EAAE,CAAE,OAAO,CACXsE,IAAI,CAAE,OAAO,CACbC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,8CAA8C,CAAC,CAAC,cACxDlI,IAAA,WAAQmI,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EAC5B,CAET,CAAC,CACF,CAACjC,GAAG,CAAEmC,IAAI,eACTrI,KAAA,WAEEsI,OAAO,CAAEA,CAAA,GAAMjI,YAAY,CAACgI,IAAI,CAAC7F,EAAE,CAAE,CACrCiE,SAAS,CAAE,gHACTrG,SAAS,GAAKiI,IAAI,CAAC7F,EAAE,CACjB,6BAA6B,CAC7B,oDAAoD,EACvD,CAAAkE,QAAA,eAEH5G,IAAA,QAAK2G,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE2B,IAAI,CAACtB,IAAI,CAAM,CAAC,CAC9CsB,IAAI,CAACvB,IAAI,GATLuB,IAAI,CAAC7F,EAUJ,CACT,CAAC,CACC,CAAC,CACH,CAAC,cAGN1C,IAAA,QAAK2G,SAAS,CAAC,+EAA+E,CAAAC,QAAA,cAC5F1G,KAAA,QAAKyG,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB5G,IAAA,QAAK2G,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB1G,KAAA,QAAKyG,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C5G,IAAA,QACE6G,GAAG,CAAC,qFAAqF,CACzFC,GAAG,CAAC,OAAO,CACXH,SAAS,CAAC,WAAW,CACtB,CAAC,cACFzG,KAAA,QAAKyG,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5G,IAAA,OAAI2G,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cACvE5G,IAAA,MAAG2G,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAEhF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEmF,SAAS,CAAI,CAAC,EACvE,CAAC,EACH,CAAC,CACH,CAAC,cAGN/G,IAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB,CACC,CACElE,EAAE,CAAE,UAAU,CACdsE,IAAI,CAAE,iBAAiB,CACvBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMwH,CAAC,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAAC,CAAC,cACxD7H,IAAA,SAAM8H,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAC,CAAC,cACtCjI,IAAA,SAAM8H,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAC,CAAC,EACpC,CAET,CAAC,CACD,CACEvF,EAAE,CAAE,OAAO,CACXsE,IAAI,CAAE,iBAAiB,CACvBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,2CAA2C,CAAC,CAAC,cACrDlI,IAAA,WAAQmI,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cAC7BrI,IAAA,SAAMkI,CAAC,CAAC,4BAA4B,CAAC,CAAC,cACtClI,IAAA,SAAMkI,CAAC,CAAC,2BAA2B,CAAC,CAAC,EAClC,CAET,CAAC,CACD,CACExF,EAAE,CAAE,WAAW,CACfsE,IAAI,CAAE,eAAe,CACrBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,oDAAoD,CAAC,CAAC,cAC9DlI,IAAA,SAAM8H,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAAC,CAAC,cACpCjI,IAAA,SAAMkI,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAC7B,CAET,CAAC,CACD,CACExF,EAAE,CAAE,gBAAgB,CACpBsE,IAAI,CAAE,gBAAgB,CACtBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,oCAAoC,CAAC,CAAC,cAC9ClI,IAAA,aAAUsI,MAAM,CAAC,uBAAuB,CAAC,CAAC,EACvC,CAET,CAAC,CACD,CACE5F,EAAE,CAAE,OAAO,CACXsE,IAAI,CAAE,YAAY,CAClBC,IAAI,cACF/G,KAAA,QAAKgH,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAX,QAAA,eACrH5G,IAAA,SAAMkI,CAAC,CAAC,8CAA8C,CAAC,CAAC,cACxDlI,IAAA,WAAQmI,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EAC5B,CAET,CAAC,CACF,CAACjC,GAAG,CAAEmC,IAAI,eACTrI,KAAA,WAEEsI,OAAO,CAAEA,CAAA,GAAMjI,YAAY,CAACgI,IAAI,CAAC7F,EAAE,CAAE,CACrCiE,SAAS,CAAE,uFACTrG,SAAS,GAAKiI,IAAI,CAAC7F,EAAE,CACjB,6BAA6B,CAC7B,oDAAoD,EACvD,CAAAkE,QAAA,eAEH5G,IAAA,QAAK2G,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE2B,IAAI,CAACtB,IAAI,CAAM,CAAC,CAC9CsB,IAAI,CAACvB,IAAI,CACTuB,IAAI,CAAC7F,EAAE,GAAK,gBAAgB,EAAI1B,KAAK,CAACK,qBAAqB,CAAG,CAAC,eAC9DrB,IAAA,SAAM2G,SAAS,CAAC,6FAA6F,CAAAC,QAAA,CAC1G5F,KAAK,CAACK,qBAAqB,CACxB,CACP,GAdIkH,IAAI,CAAC7F,EAeJ,CACT,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,cAGN1C,IAAA,QAAK2G,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtC6B,mBAAmB,CAAC,CAAC,CACnB,CAAC,EACH,CAAC,CACH,CAAC,CAGR,QAAS,CAAAA,mBAAmBA,CAAA,CAAG,CAC7B,OAAOnI,SAAS,EACd,IAAK,UAAU,CACb,mBACEJ,KAAA,QAAKyG,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExB1G,KAAA,QAAKyG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvC5G,IAAA,OAAI2G,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAChEhF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEmF,SAAS,CACrB,CAAC,cACP7G,KAAA,MAAGyG,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,WAClB,CAAC5F,KAAK,CAACK,qBAAqB,CAAC,8BAA4B,CAACL,KAAK,CAAC8D,mBAAmB,CAAC,+BAC/F,EAAG,CAAC,EACD,CAAC,cAGN5E,KAAA,QAAKyG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD5G,IAAA,OAAI2G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC/E1G,KAAA,QAAKyG,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnE1G,KAAA,QAAKyG,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/D5G,IAAA,OAAI2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cACjE5G,IAAA,MAAG2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE5F,KAAK,CAACE,SAAS,CAAI,CAAC,cACtElB,IAAA,MAAG2G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CAAC,EAC3D,CAAC,cACN1G,KAAA,QAAKyG,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/D5G,IAAA,OAAI2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cACzE5G,IAAA,MAAG2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE5F,KAAK,CAACG,iBAAiB,CAAI,CAAC,cAC9EnB,IAAA,MAAG2G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,mBAAiB,CAAG,CAAC,EAC5D,CAAC,cACN1G,KAAA,QAAKyG,SAAS,CAAC,iFAAiF,CAAAC,QAAA,eAC9F5G,IAAA,OAAI2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACxE5G,IAAA,MAAG2G,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAE5F,KAAK,CAAC8D,mBAAmB,CAAI,CAAC,cACjF9E,IAAA,MAAG2G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,mBAAiB,CAAG,CAAC,EAC5D,CAAC,cACN1G,KAAA,QAAKyG,SAAS,CAAC,+EAA+E,CAAAC,QAAA,eAC5F5G,IAAA,OAAI2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACrE5G,IAAA,MAAG2G,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAE5F,KAAK,CAACK,qBAAqB,CAAI,CAAC,cACjFrB,IAAA,MAAG2G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,gBAAc,CAAG,CAAC,EACzD,CAAC,cACN1G,KAAA,QAAKyG,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/D5G,IAAA,OAAI2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cACnE5G,IAAA,MAAG2G,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAE5F,KAAK,CAACM,MAAM,CAAGN,KAAK,CAACO,OAAO,CAAI,CAAC,cACpFvB,IAAA,MAAG2G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CAAC,EAC3D,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAGV,IAAK,WAAW,CACd,mBACE5G,IAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB1G,KAAA,QAAKyG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD5G,IAAA,OAAI2G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACzE5G,IAAA,QAAK2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,cAC3E5G,IAAA,QAAK2G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B1G,KAAA,UAAOyG,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpD5G,IAAA,UAAO2G,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC7B1G,KAAA,OAAA0G,QAAA,eACE5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC1F5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACtF5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC1F5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACxF5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,EACtF,CAAC,CACA,CAAC,cACR5G,IAAA,UAAO2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjDlG,SAAS,CAAC0F,GAAG,CAAE7B,QAAQ,eACtBrE,KAAA,OAAsByG,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAChD5G,IAAA,OAAI2G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzC1G,KAAA,QAAA0G,QAAA,eACE5G,IAAA,QAAK2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAErC,QAAQ,CAACyC,IAAI,CAAM,CAAC,cACxEhH,IAAA,QAAK2G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAErC,QAAQ,CAACmE,KAAK,CAAM,CAAC,EAC1D,CAAC,CACJ,CAAC,cACL1I,IAAA,OAAI2G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzC5G,IAAA,SAAM2G,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAChHrC,QAAQ,CAACE,aAAa,CACnB,CAAC,CACL,CAAC,cACLvE,KAAA,OAAIyG,SAAS,CAAC,mDAAmD,CAAAC,QAAA,EAC9DrC,QAAQ,CAACoE,IAAI,CAAC,IAAE,CAACpE,QAAQ,CAACqE,OAAO,EAChC,CAAC,cACL5I,IAAA,OAAI2G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D,GAAI,CAAArB,IAAI,CAAChB,QAAQ,CAACsE,UAAU,CAAC,CAACC,kBAAkB,CAAC,CAAC,CACjD,CAAC,cACL9I,IAAA,OAAI2G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9DrC,QAAQ,CAACwE,MAAM,CAAG,GAAGxE,QAAQ,CAACwE,MAAM,IAAI,CAAG,YAAY,CACtD,CAAC,GApBExE,QAAQ,CAAC7B,EAqBd,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CAGV,IAAK,OAAO,CACV,mBACE1C,IAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB1G,KAAA,QAAKyG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD5G,IAAA,OAAI2G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC3E5G,IAAA,QAAK2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,cAC3E5G,IAAA,QAAK2G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B1G,KAAA,UAAOyG,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpD5G,IAAA,UAAO2G,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC7B1G,KAAA,OAAA0G,QAAA,eACE5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACtF5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACtF5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACxF5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,EACvF,CAAC,CACA,CAAC,cACR5G,IAAA,UAAO2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjDpG,KAAK,CAAC4F,GAAG,CAAEnE,IAAI,eACd/B,KAAA,OAAkByG,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC5C5G,IAAA,OAAI2G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzC1G,KAAA,QAAA0G,QAAA,eACE5G,IAAA,QAAK2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE3E,IAAI,CAAC8E,SAAS,EAAI,KAAK,CAAM,CAAC,cAClF/G,IAAA,QAAK2G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE3E,IAAI,CAACyG,KAAK,CAAM,CAAC,EACtD,CAAC,CACJ,CAAC,cACL1I,IAAA,OAAI2G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzC1G,KAAA,WACE8I,KAAK,CAAE/G,IAAI,CAACW,IAAK,CACjBqG,QAAQ,CAAGC,CAAC,EAAKhE,cAAc,CAACjD,IAAI,CAACS,EAAE,CAAEwG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzDrC,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAE5D5G,IAAA,WAAQgJ,KAAK,CAAC,WAAW,CAAApC,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5C5G,IAAA,WAAQgJ,KAAK,CAAC,UAAU,CAAApC,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1C5G,IAAA,WAAQgJ,KAAK,CAAC,OAAO,CAAApC,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpC5G,IAAA,WAAQgJ,KAAK,CAAC,SAAS,CAAApC,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,CACP,CAAC,cACL5G,IAAA,OAAI2G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D,GAAI,CAAArB,IAAI,CAACtD,IAAI,CAAC4G,UAAU,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAC7C,CAAC,cACL9I,IAAA,OAAI2G,SAAS,CAAC,iDAAiD,CAAAC,QAAA,cAC7D5G,IAAA,WACEwI,OAAO,CAAEA,CAAA,GAAM/C,gBAAgB,CAACxD,IAAI,CAACS,EAAE,CAAET,IAAI,CAAC0D,SAAS,CAAE,CACzDgB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAEnD3E,IAAI,CAAC0D,SAAS,CAAG,YAAY,CAAG,UAAU,CACrC,CAAC,CACP,CAAC,GA7BE1D,IAAI,CAACS,EA8BV,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CAGV,IAAK,gBAAgB,CACnB,mBACE1C,IAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB1G,KAAA,QAAKyG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD5G,IAAA,OAAI2G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,CAEpFhG,wBAAwB,CAACiE,MAAM,GAAK,CAAC,cACpC3E,KAAA,QAAKyG,SAAS,CAAC,gEAAgE,CAAAC,QAAA,eAC7E5G,IAAA,QAAK2G,SAAS,CAAC,sGAAsG,CAAAC,QAAA,cACnH5G,IAAA,SAAM2G,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACjC,CAAC,cACN5G,IAAA,OAAI2G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,8BAA4B,CAAI,CAAC,cACxF5G,IAAA,MAAG2G,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,wDAAsD,CAAG,CAAC,EACpF,CAAC,cAEN5G,IAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBhG,wBAAwB,CAACwF,GAAG,CAAEgD,aAAa,eAC1CpJ,IAAA,QAA4B2G,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cACtF1G,KAAA,QAAKyG,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD1G,KAAA,QAAA0G,QAAA,eACE5G,IAAA,OAAI2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC9CwC,aAAa,CAACC,aAAa,CAC1B,CAAC,cACLrJ,IAAA,MAAG2G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEwC,aAAa,CAACE,cAAc,CAAI,CAAC,cACvEtJ,IAAA,QAAK2G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrC5G,IAAA,SAAM2G,SAAS,CAAE,4DACfyC,aAAa,CAACpE,MAAM,GAAK,SAAS,CAAG,+BAA+B,CACpEoE,aAAa,CAACpE,MAAM,GAAK,UAAU,CAAG,6BAA6B,CACnE,yBAAyB,EACxB,CAAA4B,QAAA,CACAwC,aAAa,CAACpE,MAAM,CAACuE,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGJ,aAAa,CAACpE,MAAM,CAACyE,KAAK,CAAC,CAAC,CAAC,CACzE,CAAC,CACJ,CAAC,EACH,CAAC,CAELL,aAAa,CAACpE,MAAM,GAAK,SAAS,eACjC9E,KAAA,QAAKyG,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5G,IAAA,WACEwI,OAAO,CAAEA,CAAA,GAAM5C,oBAAoB,CAACwD,aAAa,CAAC1G,EAAE,CAAE,CACtDiE,SAAS,CAAC,qFAAqF,CAAAC,QAAA,CAChG,gBAED,CAAQ,CAAC,cACT5G,IAAA,WACEwI,OAAO,CAAEA,CAAA,GAAMlC,mBAAmB,CAAC8C,aAAa,CAAC1G,EAAE,CAAE,CACrDiE,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,eAED,CAAQ,CAAC,EACN,CACN,EACE,CAAC,EAlCEwC,aAAa,CAAC1G,EAmCnB,CACN,CAAC,CACC,CACN,EACE,CAAC,CACH,CAAC,CAIV,IAAK,OAAO,CACV,mBACE1C,IAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB1G,KAAA,QAAKyG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD5G,IAAA,OAAI2G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cACtE5G,IAAA,QAAK2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,cAC3E5G,IAAA,QAAK2G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B1G,KAAA,UAAOyG,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpD5G,IAAA,UAAO2G,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC7B1G,KAAA,OAAA0G,QAAA,eACE5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cAC3F5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACxF5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC1F5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACtF5G,IAAA,OAAI2G,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,EACvF,CAAC,CACA,CAAC,cACR5G,IAAA,UAAO2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjD9F,SAAS,CAACsF,GAAG,CAAEsD,GAAG,eACjBxJ,KAAA,OAAiByG,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC3C5G,IAAA,OAAI2G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D,GAAI,CAAArB,IAAI,CAACmE,GAAG,CAACb,UAAU,CAAC,CAACc,cAAc,CAAC,CAAC,CACxC,CAAC,cACL3J,IAAA,OAAI2G,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E8C,GAAG,CAACE,MAAM,EAAIF,GAAG,CAACG,UAAU,CAC3B,CAAC,cACL7J,IAAA,OAAI2G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D8C,GAAG,CAACI,aAAa,CAChB,CAAC,cACL9J,IAAA,OAAI2G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D8C,GAAG,CAACK,OAAO,EAAI,QAAQ,CACtB,CAAC,cACL/J,IAAA,OAAI2G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D8C,GAAG,CAACM,OAAO,CAAGC,IAAI,CAACC,SAAS,CAACR,GAAG,CAACM,OAAO,CAAC,CAAG,GAAG,CAC9C,CAAC,GAfEN,GAAG,CAAChH,EAgBT,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CAGV,QACE,mBACE1C,IAAA,QAAK2G,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB5G,IAAA,QAAK2G,SAAS,CAAC,0CAA0C,CAAAC,QAAA,cACvD5G,IAAA,OAAI2G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,mCAAiC,CAAI,CAAC,CACrF,CAAC,CACH,CAAC,CAEZ,CACF,CACF,CAAC,CAED,cAAe,CAAAzG,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}