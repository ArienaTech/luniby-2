{"ast":null,"code":"import { GLOBAL_OBJ, getClient, getCurrentScope, captureFeedback, getLocationHref, isBrowser, debug, addIntegration, getIsolationScope, getGlobalScope } from '@sentry/core';\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nconst WINDOW = GLOBAL_OBJ;\nconst DOCUMENT = WINDOW.document;\nconst NAVIGATOR = WINDOW.navigator;\nconst TRIGGER_LABEL = 'Report a Bug';\nconst CANCEL_BUTTON_LABEL = 'Cancel';\nconst SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nconst CONFIRM_BUTTON_LABEL = 'Confirm';\nconst FORM_TITLE = 'Report a Bug';\nconst EMAIL_PLACEHOLDER = 'your.email@example.org';\nconst EMAIL_LABEL = 'Email';\nconst MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nconst MESSAGE_LABEL = 'Description';\nconst NAME_PLACEHOLDER = 'Your Name';\nconst NAME_LABEL = 'Name';\nconst SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\nconst IS_REQUIRED_LABEL = '(required)';\nconst ADD_SCREENSHOT_LABEL = 'Add a screenshot';\nconst REMOVE_SCREENSHOT_LABEL = 'Remove screenshot';\nconst FEEDBACK_WIDGET_SOURCE = 'widget';\nconst FEEDBACK_API_SOURCE = 'api';\nconst SUCCESS_MESSAGE_TIMEOUT = 5000;\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nconst sendFeedback = function (params) {\n  let hint = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    includeReplay: true\n  };\n  if (!params.message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  // We want to wait for the feedback to be sent (or not)\n  const client = getClient();\n  if (!client) {\n    throw new Error('No client setup, cannot send feedback.');\n  }\n  if (params.tags && Object.keys(params.tags).length) {\n    getCurrentScope().setTags(params.tags);\n  }\n  const eventId = captureFeedback({\n    source: FEEDBACK_API_SOURCE,\n    url: getLocationHref(),\n    ...params\n  }, hint);\n\n  // We want to wait for the feedback to be sent (or not)\n  return new Promise((resolve, reject) => {\n    // After 30s, we want to clear anyhow\n    const timeout = setTimeout(() => reject('Unable to determine if Feedback was correctly sent.'), 30000);\n    const cleanup = client.on('afterSendEvent', (event, response) => {\n      if (event.event_id !== eventId) {\n        return;\n      }\n      clearTimeout(timeout);\n      cleanup();\n\n      // Require valid status codes, otherwise can assume feedback was not sent successfully\n      if (response && typeof response.statusCode === 'number' && response.statusCode >= 200 && response.statusCode < 300) {\n        return resolve(eventId);\n      }\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 0) {\n        return reject('Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker.');\n      }\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 403) {\n        return reject('Unable to send Feedback. This could be because this domain is not in your list of allowed domains.');\n      }\n      return reject('Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker');\n    });\n  });\n};\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__;\n\n/**\n * Mobile browsers do not support `mediaDevices.getDisplayMedia` even though they have the api implemented\n * Instead they return things like `NotAllowedError` when called.\n *\n * It's simpler for us to browser sniff first, and avoid loading the integration if we can.\n *\n * https://stackoverflow.com/a/58879212\n * https://stackoverflow.com/a/3540295\n *\n * `mediaDevices.getDisplayMedia` is also only supported in secure contexts, and return a `mediaDevices is not supported` error, so we should also avoid loading the integration if we can.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia\n */\nfunction isScreenshotSupported() {\n  if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(NAVIGATOR.userAgent)) {\n    return false;\n  }\n  /**\n   * User agent on iPads show as Macintosh, so we need extra checks\n   *\n   * https://forums.developer.apple.com/forums/thread/119186\n   * https://stackoverflow.com/questions/60482650/how-to-detect-ipad-useragent-on-safari-browser\n   */\n  if (/Macintosh/i.test(NAVIGATOR.userAgent) && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 1) {\n    return false;\n  }\n  if (!isSecureContext) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nfunction mergeOptions(defaultOptions, optionOverrides) {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    tags: {\n      ...defaultOptions.tags,\n      ...optionOverrides.tags\n    },\n    onFormOpen: () => {\n      optionOverrides.onFormOpen?.();\n      defaultOptions.onFormOpen?.();\n    },\n    onFormClose: () => {\n      optionOverrides.onFormClose?.();\n      defaultOptions.onFormClose?.();\n    },\n    onSubmitSuccess: (data, eventId) => {\n      optionOverrides.onSubmitSuccess?.(data, eventId);\n      defaultOptions.onSubmitSuccess?.(data, eventId);\n    },\n    onSubmitError: error => {\n      optionOverrides.onSubmitError?.(error);\n      defaultOptions.onSubmitError?.(error);\n    },\n    onFormSubmitted: () => {\n      optionOverrides.onFormSubmitted?.();\n      defaultOptions.onFormSubmitted?.();\n    },\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight\n    }\n  };\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createActorStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden=\"true\"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\n\n/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nfunction setAttributesNS(el, attributes) {\n  Object.entries(attributes).forEach(_ref => {\n    let [key, val] = _ref;\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\nconst SIZE = 20;\nconst XMLNS$2 = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nfunction FeedbackIcon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS$2, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'var(--actor-color, var(--foreground))'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z'\n  });\n  svg.appendChild(g).appendChild(path);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return svg;\n}\n\n/**\n * The sentry-provided button to open the feedback modal\n */\nfunction Actor(_ref2) {\n  let {\n    triggerLabel,\n    triggerAriaLabel,\n    shadow,\n    styleNonce\n  } = _ref2;\n  const el = DOCUMENT.createElement('button');\n  el.type = 'button';\n  el.className = 'widget__actor';\n  el.ariaHidden = 'false';\n  el.ariaLabel = triggerAriaLabel || triggerLabel || TRIGGER_LABEL;\n  el.appendChild(FeedbackIcon());\n  if (triggerLabel) {\n    const label = DOCUMENT.createElement('span');\n    label.appendChild(DOCUMENT.createTextNode(triggerLabel));\n    el.appendChild(label);\n  }\n  const style = createActorStyles(styleNonce);\n  return {\n    el,\n    appendToDom() {\n      shadow.appendChild(style);\n      shadow.appendChild(el);\n    },\n    removeFromDom() {\n      el.remove();\n      style.remove();\n    },\n    show() {\n      el.ariaHidden = 'false';\n    },\n    hide() {\n      el.ariaHidden = 'true';\n    }\n  };\n}\nconst PURPLE = 'rgba(88, 74, 192, 1)';\nconst DEFAULT_LIGHT = {\n  foreground: '#2b2233',\n  background: '#ffffff',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#268d75',\n  errorColor: '#df3338',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(95%)'\n};\nconst DEFAULT_DARK = {\n  foreground: '#ebe6ef',\n  background: '#29232f',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#2da98c',\n  errorColor: '#f55459',\n  border: '1.5px solid rgba(235, 230, 239, 0.15)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(150%)'\n};\nfunction getThemedCssVariables(theme) {\n  return `\n  --foreground: ${theme.foreground};\n  --background: ${theme.background};\n  --accent-foreground: ${theme.accentForeground};\n  --accent-background: ${theme.accentBackground};\n  --success-color: ${theme.successColor};\n  --error-color: ${theme.errorColor};\n  --border: ${theme.border};\n  --box-shadow: ${theme.boxShadow};\n  --outline: ${theme.outline};\n  --interactive-filter: ${theme.interactiveFilter};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createMainStyles(_ref3) {\n  let {\n    colorScheme,\n    themeDark,\n    themeLight,\n    styleNonce\n  } = _ref3;\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${colorScheme !== 'system' ? 'color-scheme: only light;' : ''}\n\n  ${getThemedCssVariables(colorScheme === 'dark' ? {\n    ...DEFAULT_DARK,\n    ...themeDark\n  } : {\n    ...DEFAULT_LIGHT,\n    ...themeLight\n  })}\n}\n\n${colorScheme === 'system' ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables({\n    ...DEFAULT_DARK,\n    ...themeDark\n  })}\n  }\n}` : ''}\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nconst buildFeedbackIntegration = _ref4 => {\n  let {\n    lazyLoadIntegration,\n    getModalIntegration,\n    getScreenshotIntegration\n  } = _ref4;\n  const feedbackIntegration = function () {\n    let {\n      // FeedbackGeneralConfiguration\n      id = 'sentry-feedback',\n      autoInject = true,\n      showBranding = true,\n      isEmailRequired = false,\n      isNameRequired = false,\n      showEmail = true,\n      showName = true,\n      enableScreenshot = true,\n      useSentryUser = {\n        email: 'email',\n        name: 'username'\n      },\n      tags,\n      styleNonce,\n      scriptNonce,\n      // FeedbackThemeConfiguration\n      colorScheme = 'system',\n      themeLight = {},\n      themeDark = {},\n      // FeedbackTextConfiguration\n      addScreenshotButtonLabel = ADD_SCREENSHOT_LABEL,\n      cancelButtonLabel = CANCEL_BUTTON_LABEL,\n      confirmButtonLabel = CONFIRM_BUTTON_LABEL,\n      emailLabel = EMAIL_LABEL,\n      emailPlaceholder = EMAIL_PLACEHOLDER,\n      formTitle = FORM_TITLE,\n      isRequiredLabel = IS_REQUIRED_LABEL,\n      messageLabel = MESSAGE_LABEL,\n      messagePlaceholder = MESSAGE_PLACEHOLDER,\n      nameLabel = NAME_LABEL,\n      namePlaceholder = NAME_PLACEHOLDER,\n      removeScreenshotButtonLabel = REMOVE_SCREENSHOT_LABEL,\n      submitButtonLabel = SUBMIT_BUTTON_LABEL,\n      successMessageText = SUCCESS_MESSAGE_TEXT,\n      triggerLabel = TRIGGER_LABEL,\n      triggerAriaLabel = '',\n      // FeedbackCallbacks\n      onFormOpen,\n      onFormClose,\n      onSubmitSuccess,\n      onSubmitError,\n      onFormSubmitted\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const _options = {\n      id,\n      autoInject,\n      showBranding,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      enableScreenshot,\n      useSentryUser,\n      tags,\n      styleNonce,\n      scriptNonce,\n      colorScheme,\n      themeDark,\n      themeLight,\n      triggerLabel,\n      triggerAriaLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      confirmButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n      isRequiredLabel,\n      addScreenshotButtonLabel,\n      removeScreenshotButtonLabel,\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n      onFormSubmitted\n    };\n    let _shadow = null;\n    let _subscriptions = [];\n\n    /**\n     * Get the shadow root where we will append css\n     */\n    const _createShadow = options => {\n      if (!_shadow) {\n        const host = DOCUMENT.createElement('div');\n        host.id = String(options.id);\n        DOCUMENT.body.appendChild(host);\n        _shadow = host.attachShadow({\n          mode: 'open'\n        });\n        _shadow.appendChild(createMainStyles(options));\n      }\n      return _shadow;\n    };\n    const _loadAndRenderDialog = async options => {\n      const screenshotRequired = options.enableScreenshot && isScreenshotSupported();\n      let modalIntegration;\n      let screenshotIntegration;\n      try {\n        const modalIntegrationFn = getModalIntegration ? getModalIntegration() : await lazyLoadIntegration('feedbackModalIntegration', scriptNonce);\n        modalIntegration = modalIntegrationFn();\n        addIntegration(modalIntegration);\n      } catch {\n        DEBUG_BUILD && debug.error('[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`.');\n        throw new Error('[Feedback] Missing feedback modal integration!');\n      }\n      try {\n        const screenshotIntegrationFn = screenshotRequired ? getScreenshotIntegration ? getScreenshotIntegration() : await lazyLoadIntegration('feedbackScreenshotIntegration', scriptNonce) : undefined;\n        if (screenshotIntegrationFn) {\n          screenshotIntegration = screenshotIntegrationFn();\n          addIntegration(screenshotIntegration);\n        }\n      } catch {\n        DEBUG_BUILD && debug.error('[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.');\n      }\n      const dialog = modalIntegration.createDialog({\n        options: {\n          ...options,\n          onFormClose: () => {\n            dialog?.close();\n            options.onFormClose?.();\n          },\n          onFormSubmitted: () => {\n            dialog?.close();\n            options.onFormSubmitted?.();\n          }\n        },\n        screenshotIntegration,\n        sendFeedback,\n        shadow: _createShadow(options)\n      });\n      return dialog;\n    };\n    const _attachTo = function (el) {\n      let optionOverrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const targetEl = typeof el === 'string' ? DOCUMENT.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n      if (!targetEl) {\n        DEBUG_BUILD && debug.error('[Feedback] Unable to attach to target element');\n        throw new Error('Unable to attach to target element');\n      }\n      let dialog = null;\n      const handleClick = async () => {\n        if (!dialog) {\n          dialog = await _loadAndRenderDialog({\n            ...mergedOptions,\n            onFormSubmitted: () => {\n              dialog?.removeFromDom();\n              mergedOptions.onFormSubmitted?.();\n            }\n          });\n        }\n        dialog.appendToDom();\n        dialog.open();\n      };\n      targetEl.addEventListener('click', handleClick);\n      const unsubscribe = () => {\n        _subscriptions = _subscriptions.filter(sub => sub !== unsubscribe);\n        dialog?.removeFromDom();\n        dialog = null;\n        targetEl.removeEventListener('click', handleClick);\n      };\n      _subscriptions.push(unsubscribe);\n      return unsubscribe;\n    };\n    const _createActor = function () {\n      let optionOverrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const shadow = _createShadow(mergedOptions);\n      const actor = Actor({\n        triggerLabel: mergedOptions.triggerLabel,\n        triggerAriaLabel: mergedOptions.triggerAriaLabel,\n        shadow,\n        styleNonce\n      });\n      _attachTo(actor.el, {\n        ...mergedOptions,\n        onFormOpen() {\n          actor.hide();\n        },\n        onFormClose() {\n          actor.show();\n        },\n        onFormSubmitted() {\n          actor.show();\n        }\n      });\n      return actor;\n    };\n    return {\n      name: 'Feedback',\n      setupOnce() {\n        if (!isBrowser() || !_options.autoInject) {\n          return;\n        }\n        if (DOCUMENT.readyState === 'loading') {\n          DOCUMENT.addEventListener('DOMContentLoaded', () => _createActor().appendToDom());\n        } else {\n          _createActor().appendToDom();\n        }\n      },\n      /**\n       * Adds click listener to the element to open a feedback dialog\n       *\n       * The returned function can be used to remove the click listener\n       */\n      attachTo: _attachTo,\n      /**\n       * Creates a new widget which is composed of a Button which triggers a Dialog.\n       * Accepts partial options to override any options passed to constructor.\n       */\n      createWidget() {\n        let optionOverrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        const actor = _createActor(mergeOptions(_options, optionOverrides));\n        actor.appendToDom();\n        return actor;\n      },\n      /**\n       * Creates a new Form which you can\n       * Accepts partial options to override any options passed to constructor.\n       */\n      async createForm() {\n        let optionOverrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return _loadAndRenderDialog(mergeOptions(_options, optionOverrides));\n      },\n      /**\n       * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n       */\n      remove() {\n        if (_shadow) {\n          _shadow.parentElement?.remove();\n          _shadow = null;\n        }\n        // Remove any lingering subscriptions\n        _subscriptions.forEach(sub => sub());\n        _subscriptions = [];\n      }\n    };\n  };\n  return feedbackIntegration;\n};\n\n/**\n * This is a small utility to get a type-safe instance of the Feedback integration.\n */\nfunction getFeedback() {\n  const client = getClient();\n  return client?.getIntegrationByName('Feedback');\n}\nvar n,\n  l$1,\n  u$1,\n  i$1,\n  o$1,\n  r$1,\n  f$1,\n  c$1 = {},\n  s$1 = [],\n  a$1 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,\n  h$1 = Array.isArray;\nfunction v$1(n, l) {\n  for (var u in l) n[u] = l[u];\n  return n;\n}\nfunction p$1(n) {\n  var l = n.parentNode;\n  l && l.removeChild(n);\n}\nfunction y$1(l, u, t) {\n  var i,\n    o,\n    r,\n    f = {};\n  for (r in u) \"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n  if (arguments.length > 2 && (f.children = arguments.length > 3 ? n.call(arguments, 2) : t), \"function\" == typeof l && null != l.defaultProps) for (r in l.defaultProps) void 0 === f[r] && (f[r] = l.defaultProps[r]);\n  return d$1(l, f, i, o, null);\n}\nfunction d$1(n, t, i, o, r) {\n  var f = {\n    type: n,\n    props: t,\n    key: i,\n    ref: o,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    constructor: void 0,\n    __v: null == r ? ++u$1 : r,\n    __i: -1,\n    __u: 0\n  };\n  return null == r && null != l$1.vnode && l$1.vnode(f), f;\n}\nfunction g$1(n) {\n  return n.children;\n}\nfunction b$1(n, l) {\n  this.props = n, this.context = l;\n}\nfunction m$1(n, l) {\n  if (null == l) return n.__ ? m$1(n.__, n.__i + 1) : null;\n  for (var u; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n  return \"function\" == typeof n.type ? m$1(n) : null;\n}\nfunction w$1(n, u, t) {\n  var i,\n    o = n.__v,\n    r = o.__e,\n    f = n.__P;\n  if (f) return (i = v$1({}, o)).__v = o.__v + 1, l$1.vnode && l$1.vnode(i), M(f, i, o, n.__n, void 0 !== f.ownerSVGElement, 32 & o.__u ? [r] : null, u, null == r ? m$1(o) : r, !!(32 & o.__u), t), i.__.__k[i.__i] = i, i.__d = void 0, i.__e != r && k$1(i), i;\n}\nfunction k$1(n) {\n  var l, u;\n  if (null != (n = n.__) && null != n.__c) {\n    for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) {\n      n.__e = n.__c.base = u.__e;\n      break;\n    }\n    return k$1(n);\n  }\n}\nfunction x$1(n) {\n  (!n.__d && (n.__d = true) && i$1.push(n) && !C$1.__r++ || o$1 !== l$1.debounceRendering) && ((o$1 = l$1.debounceRendering) || r$1)(C$1);\n}\nfunction C$1() {\n  var n,\n    u,\n    t,\n    o = [],\n    r = [];\n  for (i$1.sort(f$1); n = i$1.shift();) n.__d && (t = i$1.length, u = w$1(n, o, r) || u, 0 === t || i$1.length > t ? (j$1(o, u, r), r.length = o.length = 0, u = void 0, i$1.sort(f$1)) : u && l$1.__c && l$1.__c(u, s$1));\n  u && j$1(o, u, r), C$1.__r = 0;\n}\nfunction P$1(n, l, u, t, i, o, r, f, e, a, h) {\n  var v,\n    p,\n    y,\n    d,\n    _,\n    g = t && t.__k || s$1,\n    b = l.length;\n  for (u.__d = e, S(u, l, g), e = u.__d, v = 0; v < b; v++) null != (y = u.__k[v]) && \"boolean\" != typeof y && \"function\" != typeof y && (p = -1 === y.__i ? c$1 : g[y.__i] || c$1, y.__i = v, M(n, y, p, i, o, r, f, e, a, h), d = y.__e, y.ref && p.ref != y.ref && (p.ref && N(p.ref, null, y), h.push(y.ref, y.__c || d, y)), null == _ && null != d && (_ = d), 65536 & y.__u || p.__k === y.__k ? e = $(y, e, n) : \"function\" == typeof y.type && void 0 !== y.__d ? e = y.__d : d && (e = d.nextSibling), y.__d = void 0, y.__u &= -196609);\n  u.__d = e, u.__e = _;\n}\nfunction S(n, l, u) {\n  var t,\n    i,\n    o,\n    r,\n    f,\n    e = l.length,\n    c = u.length,\n    s = c,\n    a = 0;\n  for (n.__k = [], t = 0; t < e; t++) null != (i = n.__k[t] = null == (i = l[t]) || \"boolean\" == typeof i || \"function\" == typeof i ? null : \"string\" == typeof i || \"number\" == typeof i || \"bigint\" == typeof i || i.constructor == String ? d$1(null, i, null, null, i) : h$1(i) ? d$1(g$1, {\n    children: i\n  }, null, null, null) : void 0 === i.constructor && i.__b > 0 ? d$1(i.type, i.props, i.key, i.ref ? i.ref : null, i.__v) : i) ? (i.__ = n, i.__b = n.__b + 1, f = I(i, u, r = t + a, s), i.__i = f, o = null, -1 !== f && (s--, (o = u[f]) && (o.__u |= 131072)), null == o || null === o.__v ? (-1 == f && a--, \"function\" != typeof i.type && (i.__u |= 65536)) : f !== r && (f === r + 1 ? a++ : f > r ? s > e - r ? a += f - r : a-- : a = f < r && f == r - 1 ? f - r : 0, f !== t + a && (i.__u |= 65536))) : (o = u[t]) && null == o.key && o.__e && (o.__e == n.__d && (n.__d = m$1(o)), O(o, o, false), u[t] = null, s--);\n  if (s) for (t = 0; t < c; t++) null != (o = u[t]) && 0 == (131072 & o.__u) && (o.__e == n.__d && (n.__d = m$1(o)), O(o, o));\n}\nfunction $(n, l, u) {\n  var t, i;\n  if (\"function\" == typeof n.type) {\n    for (t = n.__k, i = 0; t && i < t.length; i++) t[i] && (t[i].__ = n, l = $(t[i], l, u));\n    return l;\n  }\n  n.__e != l && (u.insertBefore(n.__e, l || null), l = n.__e);\n  do {\n    l = l && l.nextSibling;\n  } while (null != l && 8 === l.nodeType);\n  return l;\n}\nfunction I(n, l, u, t) {\n  var i = n.key,\n    o = n.type,\n    r = u - 1,\n    f = u + 1,\n    e = l[u];\n  if (null === e || e && i == e.key && o === e.type) return u;\n  if (t > (null != e && 0 == (131072 & e.__u) ? 1 : 0)) for (; r >= 0 || f < l.length;) {\n    if (r >= 0) {\n      if ((e = l[r]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return r;\n      r--;\n    }\n    if (f < l.length) {\n      if ((e = l[f]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return f;\n      f++;\n    }\n  }\n  return -1;\n}\nfunction T$1(n, l, u) {\n  \"-\" === l[0] ? n.setProperty(l, null == u ? \"\" : u) : n[l] = null == u ? \"\" : \"number\" != typeof u || a$1.test(l) ? u : u + \"px\";\n}\nfunction A$1(n, l, u, t, i) {\n  var o;\n  n: if (\"style\" === l) {\n    if (\"string\" == typeof u) n.style.cssText = u;else {\n      if (\"string\" == typeof t && (n.style.cssText = t = \"\"), t) for (l in t) u && l in u || T$1(n.style, l, \"\");\n      if (u) for (l in u) t && u[l] === t[l] || T$1(n.style, l, u[l]);\n    }\n  } else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/(PointerCapture)$|Capture$/i, \"$1\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? t ? u.u = t.u : (u.u = Date.now(), n.addEventListener(l, o ? L : D$1, o)) : n.removeEventListener(l, o ? L : D$1, o);else {\n    if (i) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");else if (\"width\" !== l && \"height\" !== l && \"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && \"rowSpan\" !== l && \"colSpan\" !== l && \"role\" !== l && l in n) try {\n      n[l] = null == u ? \"\" : u;\n      break n;\n    } catch (n) {}\n    \"function\" == typeof u || (null == u || false === u && \"-\" !== l[4] ? n.removeAttribute(l) : n.setAttribute(l, u));\n  }\n}\nfunction D$1(n) {\n  if (this.l) {\n    var u = this.l[n.type + false];\n    if (n.t) {\n      if (n.t <= u.u) return;\n    } else n.t = Date.now();\n    return u(l$1.event ? l$1.event(n) : n);\n  }\n}\nfunction L(n) {\n  if (this.l) return this.l[n.type + true](l$1.event ? l$1.event(n) : n);\n}\nfunction M(n, u, t, i, o, r, f, e, c, s) {\n  var a,\n    p,\n    y,\n    d,\n    _,\n    m,\n    w,\n    k,\n    x,\n    C,\n    S,\n    $,\n    H,\n    I,\n    T,\n    A = u.type;\n  if (void 0 !== u.constructor) return null;\n  128 & t.__u && (c = !!(32 & t.__u), r = [e = u.__e = t.__e]), (a = l$1.__b) && a(u);\n  n: if (\"function\" == typeof A) try {\n    if (k = u.props, x = (a = A.contextType) && i[a.__c], C = a ? x ? x.props.value : a.__ : i, t.__c ? w = (p = u.__c = t.__c).__ = p.__E : (\"prototype\" in A && A.prototype.render ? u.__c = p = new A(k, C) : (u.__c = p = new b$1(k, C), p.constructor = A, p.render = q$1), x && x.sub(p), p.props = k, p.state || (p.state = {}), p.context = C, p.__n = i, y = p.__d = !0, p.__h = [], p._sb = []), null == p.__s && (p.__s = p.state), null != A.getDerivedStateFromProps && (p.__s == p.state && (p.__s = v$1({}, p.__s)), v$1(p.__s, A.getDerivedStateFromProps(k, p.__s))), d = p.props, _ = p.state, p.__v = u, y) null == A.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);else {\n      if (null == A.getDerivedStateFromProps && k !== d && null != p.componentWillReceiveProps && p.componentWillReceiveProps(k, C), !p.__e && (null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(k, p.__s, C) || u.__v === t.__v)) {\n        for (u.__v !== t.__v && (p.props = k, p.state = p.__s, p.__d = !1), u.__e = t.__e, u.__k = t.__k, u.__k.forEach(function (n) {\n          n && (n.__ = u);\n        }), S = 0; S < p._sb.length; S++) p.__h.push(p._sb[S]);\n        p._sb = [], p.__h.length && f.push(p);\n        break n;\n      }\n      null != p.componentWillUpdate && p.componentWillUpdate(k, p.__s, C), null != p.componentDidUpdate && p.__h.push(function () {\n        p.componentDidUpdate(d, _, m);\n      });\n    }\n    if (p.context = C, p.props = k, p.__P = n, p.__e = !1, $ = l$1.__r, H = 0, \"prototype\" in A && A.prototype.render) {\n      for (p.state = p.__s, p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), I = 0; I < p._sb.length; I++) p.__h.push(p._sb[I]);\n      p._sb = [];\n    } else do {\n      p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), p.state = p.__s;\n    } while (p.__d && ++H < 25);\n    p.state = p.__s, null != p.getChildContext && (i = v$1(v$1({}, i), p.getChildContext())), y || null == p.getSnapshotBeforeUpdate || (m = p.getSnapshotBeforeUpdate(d, _)), P$1(n, h$1(T = null != a && a.type === g$1 && null == a.key ? a.props.children : a) ? T : [T], u, t, i, o, r, f, e, c, s), p.base = u.__e, u.__u &= -161, p.__h.length && f.push(p), w && (p.__E = p.__ = null);\n  } catch (n) {\n    u.__v = null, c || null != r ? (u.__e = e, u.__u |= c ? 160 : 32, r[r.indexOf(e)] = null) : (u.__e = t.__e, u.__k = t.__k), l$1.__e(n, u, t);\n  } else null == r && u.__v === t.__v ? (u.__k = t.__k, u.__e = t.__e) : u.__e = z$1(t.__e, u, t, i, o, r, f, c, s);\n  (a = l$1.diffed) && a(u);\n}\nfunction j$1(n, u, t) {\n  for (var i = 0; i < t.length; i++) N(t[i], t[++i], t[++i]);\n  l$1.__c && l$1.__c(u, n), n.some(function (u) {\n    try {\n      n = u.__h, u.__h = [], n.some(function (n) {\n        n.call(u);\n      });\n    } catch (n) {\n      l$1.__e(n, u.__v);\n    }\n  });\n}\nfunction z$1(l, u, t, i, o, r, f, e, s) {\n  var a,\n    v,\n    y,\n    d,\n    _,\n    g,\n    b,\n    w = t.props,\n    k = u.props,\n    x = u.type;\n  if (\"svg\" === x && (o = true), null != r) for (a = 0; a < r.length; a++) if ((_ = r[a]) && \"setAttribute\" in _ == !!x && (x ? _.localName === x : 3 === _.nodeType)) {\n    l = _, r[a] = null;\n    break;\n  }\n  if (null == l) {\n    if (null === x) return document.createTextNode(k);\n    l = o ? document.createElementNS(\"http://www.w3.org/2000/svg\", x) : document.createElement(x, k.is && k), r = null, e = false;\n  }\n  if (null === x) w === k || e && l.data === k || (l.data = k);else {\n    if (r = r && n.call(l.childNodes), w = t.props || c$1, !e && null != r) for (w = {}, a = 0; a < l.attributes.length; a++) w[(_ = l.attributes[a]).name] = _.value;\n    for (a in w) _ = w[a], \"children\" == a || (\"dangerouslySetInnerHTML\" == a ? y = _ : \"key\" === a || a in k || A$1(l, a, null, _, o));\n    for (a in k) _ = k[a], \"children\" == a ? d = _ : \"dangerouslySetInnerHTML\" == a ? v = _ : \"value\" == a ? g = _ : \"checked\" == a ? b = _ : \"key\" === a || e && \"function\" != typeof _ || w[a] === _ || A$1(l, a, _, w[a], o);\n    if (v) e || y && (v.__html === y.__html || v.__html === l.innerHTML) || (l.innerHTML = v.__html), u.__k = [];else if (y && (l.innerHTML = \"\"), P$1(l, h$1(d) ? d : [d], u, t, i, o && \"foreignObject\" !== x, r, f, r ? r[0] : t.__k && m$1(t, 0), e, s), null != r) for (a = r.length; a--;) null != r[a] && p$1(r[a]);\n    e || (a = \"value\", void 0 !== g && (g !== l[a] || \"progress\" === x && !g || \"option\" === x && g !== w[a]) && A$1(l, a, g, w[a], false), a = \"checked\", void 0 !== b && b !== l[a] && A$1(l, a, b, w[a], false));\n  }\n  return l;\n}\nfunction N(n, u, t) {\n  try {\n    \"function\" == typeof n ? n(u) : n.current = u;\n  } catch (n) {\n    l$1.__e(n, t);\n  }\n}\nfunction O(n, u, t) {\n  var i, o;\n  if (l$1.unmount && l$1.unmount(n), (i = n.ref) && (i.current && i.current !== n.__e || N(i, null, u)), null != (i = n.__c)) {\n    if (i.componentWillUnmount) try {\n      i.componentWillUnmount();\n    } catch (n) {\n      l$1.__e(n, u);\n    }\n    i.base = i.__P = null, n.__c = void 0;\n  }\n  if (i = n.__k) for (o = 0; o < i.length; o++) i[o] && O(i[o], u, t || \"function\" != typeof n.type);\n  t || null == n.__e || p$1(n.__e), n.__ = n.__e = n.__d = void 0;\n}\nfunction q$1(n, l, u) {\n  return this.constructor(n, u);\n}\nfunction B$1(u, t, i) {\n  var o, r, f, e;\n  l$1.__ && l$1.__(u, t), r = (o = \"function\" == \"undefined\") ? null : t.__k, f = [], e = [], M(t, u = t.__k = y$1(g$1, null, [u]), r || c$1, c$1, void 0 !== t.ownerSVGElement, r ? null : t.firstChild ? n.call(t.childNodes) : null, f, r ? r.__e : t.firstChild, o, e), u.__d = void 0, j$1(f, u, e);\n}\nn = s$1.slice, l$1 = {\n  __e: function (n, l, u, t) {\n    for (var i, o, r; l = l.__;) if ((i = l.__c) && !i.__) try {\n      if ((o = i.constructor) && null != o.getDerivedStateFromError && (i.setState(o.getDerivedStateFromError(n)), r = i.__d), null != i.componentDidCatch && (i.componentDidCatch(n, t || {}), r = i.__d), r) return i.__E = i;\n    } catch (l) {\n      n = l;\n    }\n    throw n;\n  }\n}, u$1 = 0, b$1.prototype.setState = function (n, l) {\n  var u;\n  u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = v$1({}, this.state), \"function\" == typeof n && (n = n(v$1({}, u), this.props)), n && v$1(u, n), null != n && this.__v && (l && this._sb.push(l), x$1(this));\n}, b$1.prototype.forceUpdate = function (n) {\n  this.__v && (this.__e = true, n && this.__h.push(n), x$1(this));\n}, b$1.prototype.render = g$1, i$1 = [], r$1 = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, f$1 = function (n, l) {\n  return n.__v.__b - l.__v.__b;\n}, C$1.__r = 0;\nvar t,\n  r,\n  u,\n  i,\n  o = 0,\n  f = [],\n  c = [],\n  e = l$1,\n  a = e.__b,\n  v = e.__r,\n  l = e.diffed,\n  m = e.__c,\n  s = e.unmount,\n  d = e.__;\nfunction h(n, t) {\n  e.__h && e.__h(r, n, o || t), o = 0;\n  var u = r.__H || (r.__H = {\n    __: [],\n    __h: []\n  });\n  return n >= u.__.length && u.__.push({\n    __V: c\n  }), u.__[n];\n}\nfunction p(n) {\n  return o = 1, y(D, n);\n}\nfunction y(n, u, i) {\n  var o = h(t++, 2);\n  if (o.t = n, !o.__c && (o.__ = [i ? i(u) : D(void 0, u), function (n) {\n    var t = o.__N ? o.__N[0] : o.__[0],\n      r = o.t(t, n);\n    t !== r && (o.__N = [r, o.__[1]], o.__c.setState({}));\n  }], o.__c = r, !r.u)) {\n    var f = function (n, t, r) {\n      if (!o.__c.__H) return true;\n      var u = o.__c.__H.__.filter(function (n) {\n        return !!n.__c;\n      });\n      if (u.every(function (n) {\n        return !n.__N;\n      })) return !c || c.call(this, n, t, r);\n      var i = false;\n      return u.forEach(function (n) {\n        if (n.__N) {\n          var t = n.__[0];\n          n.__ = n.__N, n.__N = void 0, t !== n.__[0] && (i = true);\n        }\n      }), !(!i && o.__c.props === n) && (!c || c.call(this, n, t, r));\n    };\n    r.u = true;\n    var c = r.shouldComponentUpdate,\n      e = r.componentWillUpdate;\n    r.componentWillUpdate = function (n, t, r) {\n      if (this.__e) {\n        var u = c;\n        c = void 0, f(n, t, r), c = u;\n      }\n      e && e.call(this, n, t, r);\n    }, r.shouldComponentUpdate = f;\n  }\n  return o.__N || o.__;\n}\nfunction _(n, u) {\n  var i = h(t++, 3);\n  !e.__s && C(i.__H, u) && (i.__ = n, i.i = u, r.__H.__h.push(i));\n}\nfunction A(n, u) {\n  var i = h(t++, 4);\n  !e.__s && C(i.__H, u) && (i.__ = n, i.i = u, r.__h.push(i));\n}\nfunction F(n) {\n  return o = 5, q(function () {\n    return {\n      current: n\n    };\n  }, []);\n}\nfunction T(n, t, r) {\n  o = 6, A(function () {\n    return \"function\" == typeof n ? (n(t()), function () {\n      return n(null);\n    }) : n ? (n.current = t(), function () {\n      return n.current = null;\n    }) : void 0;\n  }, null == r ? r : r.concat(n));\n}\nfunction q(n, r) {\n  var u = h(t++, 7);\n  return C(u.__H, r) ? (u.__V = n(), u.i = r, u.__h = n, u.__V) : u.__;\n}\nfunction x(n, t) {\n  return o = 8, q(function () {\n    return n;\n  }, t);\n}\nfunction P(n) {\n  var u = r.context[n.__c],\n    i = h(t++, 9);\n  return i.c = n, u ? (null == i.__ && (i.__ = true, u.sub(r)), u.props.value) : n.__;\n}\nfunction V(n, t) {\n  e.useDebugValue && e.useDebugValue(t ? t(n) : n);\n}\nfunction b(n) {\n  var u = h(t++, 10),\n    i = p();\n  return u.__ = n, r.componentDidCatch || (r.componentDidCatch = function (n, t) {\n    u.__ && u.__(n, t), i[1](n);\n  }), [i[0], function () {\n    i[1](void 0);\n  }];\n}\nfunction g() {\n  var n = h(t++, 11);\n  if (!n.__) {\n    for (var u = r.__v; null !== u && !u.__m && null !== u.__;) u = u.__;\n    var i = u.__m || (u.__m = [0, 0]);\n    n.__ = \"P\" + i[0] + \"-\" + i[1]++;\n  }\n  return n.__;\n}\nfunction j() {\n  for (var n; n = f.shift();) if (n.__P && n.__H) try {\n    n.__H.__h.forEach(z), n.__H.__h.forEach(B), n.__H.__h = [];\n  } catch (t) {\n    n.__H.__h = [], e.__e(t, n.__v);\n  }\n}\ne.__b = function (n) {\n  r = null, a && a(n);\n}, e.__ = function (n, t) {\n  t.__k && t.__k.__m && (n.__m = t.__k.__m), d && d(n, t);\n}, e.__r = function (n) {\n  v && v(n), t = 0;\n  var i = (r = n.__c).__H;\n  i && (u === r ? (i.__h = [], r.__h = [], i.__.forEach(function (n) {\n    n.__N && (n.__ = n.__N), n.__V = c, n.__N = n.i = void 0;\n  })) : (i.__h.forEach(z), i.__h.forEach(B), i.__h = [], t = 0)), u = r;\n}, e.diffed = function (n) {\n  l && l(n);\n  var t = n.__c;\n  t && t.__H && (t.__H.__h.length && (1 !== f.push(t) && i === e.requestAnimationFrame || ((i = e.requestAnimationFrame) || w)(j)), t.__H.__.forEach(function (n) {\n    n.i && (n.__H = n.i), n.__V !== c && (n.__ = n.__V), n.i = void 0, n.__V = c;\n  })), u = r = null;\n}, e.__c = function (n, t) {\n  t.some(function (n) {\n    try {\n      n.__h.forEach(z), n.__h = n.__h.filter(function (n) {\n        return !n.__ || B(n);\n      });\n    } catch (r) {\n      t.some(function (n) {\n        n.__h && (n.__h = []);\n      }), t = [], e.__e(r, n.__v);\n    }\n  }), m && m(n, t);\n}, e.unmount = function (n) {\n  s && s(n);\n  var t,\n    r = n.__c;\n  r && r.__H && (r.__H.__.forEach(function (n) {\n    try {\n      z(n);\n    } catch (n) {\n      t = n;\n    }\n  }), r.__H = void 0, t && e.__e(t, r.__v));\n};\nvar k = \"function\" == typeof requestAnimationFrame;\nfunction w(n) {\n  var t,\n    r = function () {\n      clearTimeout(u), k && cancelAnimationFrame(t), setTimeout(n);\n    },\n    u = setTimeout(r, 100);\n  k && (t = requestAnimationFrame(r));\n}\nfunction z(n) {\n  var t = r,\n    u = n.__c;\n  \"function\" == typeof u && (n.__c = void 0, u()), r = t;\n}\nfunction B(n) {\n  var t = r;\n  n.__c = n.__(), r = t;\n}\nfunction C(n, t) {\n  return !n || n.length !== t.length || t.some(function (t, r) {\n    return t !== n[r];\n  });\n}\nfunction D(n, t) {\n  return \"function\" == typeof t ? t(n) : t;\n}\nconst hooks = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  useCallback: x,\n  useContext: P,\n  useDebugValue: V,\n  useEffect: _,\n  useErrorBoundary: b,\n  useId: g,\n  useImperativeHandle: T,\n  useLayoutEffect: A,\n  useMemo: q,\n  useReducer: y,\n  useRef: F,\n  useState: p\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst XMLNS$1 = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nfunction SentryLogo() {\n  const createElementNS = tagName => DOCUMENT.createElementNS(XMLNS$1, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'inherit'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z'\n  });\n  svg.appendChild(path);\n  return svg;\n}\nfunction DialogHeader(_ref5) {\n  let {\n    options\n  } = _ref5;\n  const logoHtml = q(() => ({\n    __html: SentryLogo().outerHTML\n  }), []);\n  return y$1('h2', {\n    class: \"dialog__header\"\n  }, y$1('span', {\n    class: \"dialog__title\"\n  }, options.formTitle), options.showBranding ? y$1('a', {\n    class: \"brand-link\",\n    target: \"_blank\",\n    href: \"https://sentry.io/welcome/\",\n    title: \"Powered by Sentry\",\n    rel: \"noopener noreferrer\",\n    dangerouslySetInnerHTML: logoHtml\n  }) : null);\n}\n\n/**\n * Validate that a given feedback submission has the required fields\n */\nfunction getMissingFields(feedback, props) {\n  const emptyFields = [];\n  if (props.isNameRequired && !feedback.name) {\n    emptyFields.push(props.nameLabel);\n  }\n  if (props.isEmailRequired && !feedback.email) {\n    emptyFields.push(props.emailLabel);\n  }\n  if (!feedback.message) {\n    emptyFields.push(props.messageLabel);\n  }\n  return emptyFields;\n}\nfunction retrieveStringValue(formData, key) {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\nfunction Form(_ref6) {\n  let {\n    options,\n    defaultEmail,\n    defaultName,\n    onFormClose,\n    onSubmit,\n    onSubmitSuccess,\n    onSubmitError,\n    showEmail,\n    showName,\n    screenshotInput\n  } = _ref6;\n  const {\n    tags,\n    addScreenshotButtonLabel,\n    removeScreenshotButtonLabel,\n    cancelButtonLabel,\n    emailLabel,\n    emailPlaceholder,\n    isEmailRequired,\n    isNameRequired,\n    messageLabel,\n    messagePlaceholder,\n    nameLabel,\n    namePlaceholder,\n    submitButtonLabel,\n    isRequiredLabel\n  } = options;\n  const [isSubmitting, setIsSubmitting] = p(false);\n  // TODO: set a ref on the form, and whenever an input changes call processForm() and setError()\n  const [error, setError] = p(null);\n  const [showScreenshotInput, setShowScreenshotInput] = p(false);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ScreenshotInputComponent = screenshotInput?.input;\n  const [screenshotError, setScreenshotError] = p(null);\n  const onScreenshotError = x(error => {\n    setScreenshotError(error);\n    setShowScreenshotInput(false);\n  }, []);\n  const hasAllRequiredFields = x(data => {\n    const missingFields = getMissingFields(data, {\n      emailLabel,\n      isEmailRequired,\n      isNameRequired,\n      messageLabel,\n      nameLabel\n    });\n    if (missingFields.length > 0) {\n      setError(`Please enter in the following required fields: ${missingFields.join(', ')}`);\n    } else {\n      setError(null);\n    }\n    return missingFields.length === 0;\n  }, [emailLabel, isEmailRequired, isNameRequired, messageLabel, nameLabel]);\n  const handleSubmit = x(async e => {\n    setIsSubmitting(true);\n    try {\n      e.preventDefault();\n      if (!(e.target instanceof HTMLFormElement)) {\n        return;\n      }\n      const formData = new FormData(e.target);\n      const attachment = await (screenshotInput && showScreenshotInput ? screenshotInput.value() : undefined);\n      const data = {\n        name: retrieveStringValue(formData, 'name'),\n        email: retrieveStringValue(formData, 'email'),\n        message: retrieveStringValue(formData, 'message'),\n        attachments: attachment ? [attachment] : undefined\n      };\n      if (!hasAllRequiredFields(data)) {\n        return;\n      }\n      try {\n        const eventId = await onSubmit({\n          name: data.name,\n          email: data.email,\n          message: data.message,\n          source: FEEDBACK_WIDGET_SOURCE,\n          tags\n        }, {\n          attachments: data.attachments\n        });\n        onSubmitSuccess(data, eventId);\n      } catch (error) {\n        DEBUG_BUILD && debug.error(error);\n        setError(error);\n        onSubmitError(error);\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [screenshotInput && showScreenshotInput, onSubmitSuccess, onSubmitError]);\n  return y$1('form', {\n    class: \"form\",\n    onSubmit: handleSubmit\n  }, ScreenshotInputComponent && showScreenshotInput ? y$1(ScreenshotInputComponent, {\n    onError: onScreenshotError\n  }) : null, y$1('fieldset', {\n    class: \"form__right\",\n    'data-sentry-feedback': true,\n    disabled: isSubmitting\n  }, y$1('div', {\n    class: \"form__top\"\n  }, error ? y$1('div', {\n    class: \"form__error-container\"\n  }, error) : null, showName ? y$1('label', {\n    for: \"name\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: nameLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: isNameRequired\n  }), y$1('input', {\n    class: \"form__input\",\n    defaultValue: defaultName,\n    id: \"name\",\n    name: \"name\",\n    placeholder: namePlaceholder,\n    required: isNameRequired,\n    type: \"text\"\n  })) : y$1('input', {\n    'aria-hidden': true,\n    value: defaultName,\n    name: \"name\",\n    type: \"hidden\"\n  }), showEmail ? y$1('label', {\n    for: \"email\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: emailLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: isEmailRequired\n  }), y$1('input', {\n    class: \"form__input\",\n    defaultValue: defaultEmail,\n    id: \"email\",\n    name: \"email\",\n    placeholder: emailPlaceholder,\n    required: isEmailRequired,\n    type: \"email\"\n  })) : y$1('input', {\n    'aria-hidden': true,\n    value: defaultEmail,\n    name: \"email\",\n    type: \"hidden\"\n  }), y$1('label', {\n    for: \"message\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: messageLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: true\n  }), y$1('textarea', {\n    autoFocus: true,\n    class: \"form__input form__input--textarea\",\n    id: \"message\",\n    name: \"message\",\n    placeholder: messagePlaceholder,\n    required: true,\n    rows: 5\n  })), ScreenshotInputComponent ? y$1('label', {\n    for: \"screenshot\",\n    class: \"form__label\"\n  }, y$1('button', {\n    class: \"btn btn--default\",\n    disabled: isSubmitting,\n    type: \"button\",\n    onClick: () => {\n      setScreenshotError(null);\n      setShowScreenshotInput(prev => !prev);\n    }\n  }, showScreenshotInput ? removeScreenshotButtonLabel : addScreenshotButtonLabel), screenshotError ? y$1('div', {\n    class: \"form__error-container\"\n  }, screenshotError.message) : null) : null), y$1('div', {\n    class: \"btn-group\"\n  }, y$1('button', {\n    class: \"btn btn--primary\",\n    disabled: isSubmitting,\n    type: \"submit\"\n  }, submitButtonLabel), y$1('button', {\n    class: \"btn btn--default\",\n    disabled: isSubmitting,\n    type: \"button\",\n    onClick: onFormClose\n  }, cancelButtonLabel))));\n}\nfunction LabelText(_ref7) {\n  let {\n    label,\n    isRequired,\n    isRequiredLabel\n  } = _ref7;\n  return y$1('span', {\n    class: \"form__label__text\"\n  }, label, isRequired && y$1('span', {\n    class: \"form__label__text--required\"\n  }, isRequiredLabel));\n}\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nfunction SuccessIcon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'inherit'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)'\n  });\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z'\n  });\n  svg.appendChild(g).append(path, path2);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return svg;\n}\nfunction Dialog(_ref8) {\n  let {\n    open,\n    onFormSubmitted,\n    ...props\n  } = _ref8;\n  const options = props.options;\n  const successIconHtml = q(() => ({\n    __html: SuccessIcon().outerHTML\n  }), []);\n  const [timeoutId, setTimeoutId] = p(null);\n  const handleOnSuccessClick = x(() => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      setTimeoutId(null);\n    }\n    onFormSubmitted();\n  }, [timeoutId]);\n  const onSubmitSuccess = x((data, eventId) => {\n    props.onSubmitSuccess(data, eventId);\n    setTimeoutId(setTimeout(() => {\n      onFormSubmitted();\n      setTimeoutId(null);\n    }, SUCCESS_MESSAGE_TIMEOUT));\n  }, [onFormSubmitted]);\n  return y$1(g$1, null, timeoutId ? y$1('div', {\n    class: \"success__position\",\n    onClick: handleOnSuccessClick\n  }, y$1('div', {\n    class: \"success__content\"\n  }, options.successMessageText, y$1('span', {\n    class: \"success__icon\",\n    dangerouslySetInnerHTML: successIconHtml\n  }))) : y$1('dialog', {\n    class: \"dialog\",\n    onClick: options.onFormClose,\n    open: open\n  }, y$1('div', {\n    class: \"dialog__position\"\n  }, y$1('div', {\n    class: \"dialog__content\",\n    onClick: e => {\n      // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n      e.stopPropagation();\n    }\n  }, y$1(DialogHeader, {\n    options: options\n  }), y$1(Form, {\n    ...props,\n    onSubmitSuccess: onSubmitSuccess\n  })))));\n}\nconst DIALOG = `\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n`;\nconst DIALOG_HEADER = `\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n`;\nconst FORM = `\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n`;\nconst BUTTON = `\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n`;\nconst SUCCESS = `\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n`;\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createDialogStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --dialog-inset: var(--inset);\n}\n\n${DIALOG}\n${DIALOG_HEADER}\n${FORM}\n${BUTTON}\n${SUCCESS}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nfunction getUser() {\n  const currentUser = getCurrentScope().getUser();\n  const isolationUser = getIsolationScope().getUser();\n  const globalUser = getGlobalScope().getUser();\n  if (currentUser && Object.keys(currentUser).length) {\n    return currentUser;\n  }\n  if (isolationUser && Object.keys(isolationUser).length) {\n    return isolationUser;\n  }\n  return globalUser;\n}\nconst feedbackModalIntegration = () => {\n  return {\n    name: 'FeedbackModal',\n    setupOnce() {},\n    createDialog: _ref9 => {\n      let {\n        options,\n        screenshotIntegration,\n        sendFeedback,\n        shadow\n      } = _ref9;\n      const shadowRoot = shadow;\n      const userKey = options.useSentryUser;\n      const user = getUser();\n      const el = DOCUMENT.createElement('div');\n      const style = createDialogStyles(options.styleNonce);\n      let originalOverflow = '';\n      const dialog = {\n        get el() {\n          return el;\n        },\n        appendToDom() {\n          if (!shadowRoot.contains(style) && !shadowRoot.contains(el)) {\n            shadowRoot.appendChild(style);\n            shadowRoot.appendChild(el);\n          }\n        },\n        removeFromDom() {\n          el.remove();\n          style.remove();\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n        open() {\n          renderContent(true);\n          options.onFormOpen?.();\n          getClient()?.emit('openFeedbackWidget');\n          originalOverflow = DOCUMENT.body.style.overflow;\n          DOCUMENT.body.style.overflow = 'hidden';\n        },\n        close() {\n          renderContent(false);\n          DOCUMENT.body.style.overflow = originalOverflow;\n        }\n      };\n      const screenshotInput = screenshotIntegration?.createInput({\n        h: y$1,\n        hooks,\n        dialog,\n        options\n      });\n      const renderContent = open => {\n        B$1(y$1(Dialog, {\n          options: options,\n          screenshotInput: screenshotInput,\n          showName: options.showName || options.isNameRequired,\n          showEmail: options.showEmail || options.isEmailRequired,\n          defaultName: userKey && user?.[userKey.name] || '',\n          defaultEmail: userKey && user?.[userKey.email] || '',\n          onFormClose: () => {\n            renderContent(false);\n            options.onFormClose?.();\n          },\n          onSubmit: sendFeedback,\n          onSubmitSuccess: (data, eventId) => {\n            renderContent(false);\n            options.onSubmitSuccess?.(data, eventId);\n          },\n          onSubmitError: error => {\n            options.onSubmitError?.(error);\n          },\n          onFormSubmitted: () => {\n            options.onFormSubmitted?.();\n          },\n          open: open\n        }), el);\n      };\n      return dialog;\n    }\n  };\n};\nfunction IconCloseFactory(_ref0) {\n  let {\n    h // eslint-disable-line @typescript-eslint/no-unused-vars\n  } = _ref0;\n  return function IconClose() {\n    return h('svg', {\n      'data-test-id': \"icon-close\",\n      viewBox: \"0 0 16 16\",\n      fill: \"#2B2233\",\n      height: \"25px\",\n      width: \"25px\"\n    }, h('circle', {\n      r: \"7\",\n      cx: \"8\",\n      cy: \"8\",\n      fill: \"white\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z\"\n    }));\n  };\n}\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createScreenshotInputStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  const surface200 = '#1A141F';\n  const gray100 = '#302735';\n  style.textContent = `\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${surface200};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${surface200} 8px,\n      ${surface200} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${gray100} 15px,\n      ${gray100} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nfunction ToolbarFactory(_ref1) {\n  let {\n    h // eslint-disable-line @typescript-eslint/no-unused-vars\n  } = _ref1;\n  return function Toolbar(_ref10) {\n    let {\n      action,\n      setAction\n    } = _ref10;\n    return h('div', {\n      class: \"editor__tool-container\"\n    }, h('div', {\n      class: \"editor__tool-bar\"\n    }, h('button', {\n      type: \"button\",\n      class: `editor__tool ${action === 'highlight' ? 'editor__tool--active' : ''}`,\n      onClick: () => {\n        setAction(action === 'highlight' ? '' : 'highlight');\n      }\n    }, \"Highlight\"), h('button', {\n      type: \"button\",\n      class: `editor__tool ${action === 'hide' ? 'editor__tool--active' : ''}`,\n      onClick: () => {\n        setAction(action === 'hide' ? '' : 'hide');\n      }\n    }, \"Hide\")));\n  };\n}\nfunction useTakeScreenshotFactory(_ref11) {\n  let {\n    hooks\n  } = _ref11;\n  function useDpi() {\n    const [dpi, setDpi] = hooks.useState(WINDOW.devicePixelRatio ?? 1);\n    hooks.useEffect(() => {\n      const onChange = () => {\n        setDpi(WINDOW.devicePixelRatio);\n      };\n      const media = matchMedia(`(resolution: ${WINDOW.devicePixelRatio}dppx)`);\n      media.addEventListener('change', onChange);\n      return () => {\n        media.removeEventListener('change', onChange);\n      };\n    }, []);\n    return dpi;\n  }\n  return function useTakeScreenshot(_ref12) {\n    let {\n      onBeforeScreenshot,\n      onScreenshot,\n      onAfterScreenshot,\n      onError\n    } = _ref12;\n    const dpi = useDpi();\n    hooks.useEffect(() => {\n      const takeScreenshot = async () => {\n        onBeforeScreenshot();\n\n        // Chrome will animate a top-bar which can shrink the window height by a\n        // few pixels. The exact amount depends on how fast it takes to exec\n        // the onloadedmetadata callback.\n        // https://stackoverflow.com/q/75833049\n        const stream = await NAVIGATOR.mediaDevices.getDisplayMedia({\n          video: {\n            width: WINDOW.innerWidth * dpi,\n            height: WINDOW.innerHeight * dpi\n          },\n          audio: false,\n          // @ts-expect-error experimental flags: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia#prefercurrenttab\n          monitorTypeSurfaces: 'exclude',\n          preferCurrentTab: true,\n          selfBrowserSurface: 'include',\n          surfaceSwitching: 'exclude'\n        });\n        const video = DOCUMENT.createElement('video');\n        await new Promise((resolve, reject) => {\n          video.srcObject = stream;\n          video.onloadedmetadata = () => {\n            onScreenshot(video, dpi);\n            stream.getTracks().forEach(track => track.stop());\n            resolve();\n          };\n          video.play().catch(reject);\n        });\n        onAfterScreenshot();\n      };\n      takeScreenshot().catch(onError);\n    }, []);\n  };\n}\nfunction drawRect(command, ctx, color) {\n  switch (command.type) {\n    case 'highlight':\n      {\n        // creates a shadow around\n        ctx.shadowColor = 'rgba(0, 0, 0, 0.7)';\n        ctx.shadowBlur = 50;\n\n        // draws a rectangle first with a shadow\n        ctx.fillStyle = color;\n        ctx.fillRect(command.x - 1, command.y - 1, command.w + 2, command.h + 2);\n\n        // cut out the inside of the rectangle\n        ctx.clearRect(command.x, command.y, command.w, command.h);\n        break;\n      }\n    case 'hide':\n      ctx.fillStyle = 'rgb(0, 0, 0)';\n      ctx.fillRect(command.x, command.y, command.w, command.h);\n      break;\n  }\n}\nfunction with2dContext(canvas, options, callback) {\n  if (!canvas) {\n    return;\n  }\n  const ctx = canvas.getContext('2d', options);\n  if (!ctx) {\n    return;\n  }\n  callback(canvas, ctx);\n}\nfunction paintImage(maybeDest, source) {\n  with2dContext(maybeDest, {\n    alpha: true\n  }, (destCanvas, destCtx) => {\n    destCtx.drawImage(source, 0, 0, source.width, source.height, 0, 0, destCanvas.width, destCanvas.height);\n  });\n}\n\n// Paint the array of drawCommands into a canvas.\n// Assuming this is the canvas foreground, and the background is cleaned.\nfunction paintForeground(maybeCanvas, strokeColor, drawCommands) {\n  with2dContext(maybeCanvas, {\n    alpha: true\n  }, (canvas, ctx) => {\n    // If there's anything to draw, then we'll first clear the canvas with\n    // a transparent grey background\n    if (drawCommands.length) {\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    drawCommands.forEach(command => {\n      drawRect(command, ctx, strokeColor);\n    });\n  });\n}\nfunction ScreenshotEditorFactory(_ref13) {\n  let {\n    h,\n    hooks,\n    outputBuffer,\n    dialog,\n    options\n  } = _ref13;\n  const useTakeScreenshot = useTakeScreenshotFactory({\n    hooks\n  });\n  const Toolbar = ToolbarFactory({\n    h\n  });\n  const IconClose = IconCloseFactory({\n    h\n  });\n  const editorStyleInnerText = {\n    __html: createScreenshotInputStyles(options.styleNonce).innerText\n  };\n  const dialogStyle = dialog.el.style;\n  const ScreenshotEditor = _ref14 => {\n    let {\n      screenshot\n    } = _ref14;\n    // Data for rendering:\n    const [action, setAction] = hooks.useState('highlight');\n    const [drawCommands, setDrawCommands] = hooks.useState([]);\n\n    // Refs to our html components:\n    const measurementRef = hooks.useRef(null);\n    const backgroundRef = hooks.useRef(null);\n    const foregroundRef = hooks.useRef(null);\n    const mouseRef = hooks.useRef(null);\n\n    // The size of our window, relative to the imageSource\n    const [scaleFactor, setScaleFactor] = hooks.useState(1);\n    const strokeColor = hooks.useMemo(() => {\n      const sentryFeedback = DOCUMENT.getElementById(options.id);\n      if (!sentryFeedback) {\n        return 'white';\n      }\n      const computedStyle = getComputedStyle(sentryFeedback);\n      return computedStyle.getPropertyValue('--button-primary-background') || computedStyle.getPropertyValue('--accent-background');\n    }, [options.id]);\n\n    // The initial resize, to measure the area and set the children to the correct size\n    hooks.useLayoutEffect(() => {\n      const handleResize = () => {\n        const measurementDiv = measurementRef.current;\n        if (!measurementDiv) {\n          return;\n        }\n        with2dContext(screenshot.canvas, {\n          alpha: false\n        }, canvas => {\n          const scale = Math.min(measurementDiv.clientWidth / canvas.width, measurementDiv.clientHeight / canvas.height);\n          setScaleFactor(scale);\n        });\n\n        // For Firefox, the canvas is not yet measured, so we need to wait for it to get the correct size\n        if (measurementDiv.clientHeight === 0 || measurementDiv.clientWidth === 0) {\n          setTimeout(handleResize, 0);\n        }\n      };\n      handleResize();\n      WINDOW.addEventListener('resize', handleResize);\n      return () => {\n        WINDOW.removeEventListener('resize', handleResize);\n      };\n    }, [screenshot]);\n\n    // Set the size of the canvas element to match our screenshot\n    const setCanvasSize = hooks.useCallback((maybeCanvas, scale) => {\n      with2dContext(maybeCanvas, {\n        alpha: true\n      }, (canvas, ctx) => {\n        // Must call `scale()` before setting `width` & `height`\n        ctx.scale(scale, scale);\n        canvas.width = screenshot.canvas.width;\n        canvas.height = screenshot.canvas.height;\n      });\n    }, [screenshot]);\n\n    // Draw the screenshot into the background\n    hooks.useEffect(() => {\n      setCanvasSize(backgroundRef.current, screenshot.dpi);\n      paintImage(backgroundRef.current, screenshot.canvas);\n    }, [screenshot]);\n\n    // Draw the commands into the foreground\n    hooks.useEffect(() => {\n      setCanvasSize(foregroundRef.current, screenshot.dpi);\n      with2dContext(foregroundRef.current, {\n        alpha: true\n      }, (canvas, ctx) => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n      paintForeground(foregroundRef.current, strokeColor, drawCommands);\n    }, [drawCommands, strokeColor]);\n\n    // Draw into the output outputBuffer\n    hooks.useEffect(() => {\n      setCanvasSize(outputBuffer, screenshot.dpi);\n      paintImage(outputBuffer, screenshot.canvas);\n      with2dContext(DOCUMENT.createElement('canvas'), {\n        alpha: true\n      }, (foreground, ctx) => {\n        ctx.scale(screenshot.dpi, screenshot.dpi); // The scale needs to be set before we set the width/height and paint\n        foreground.width = screenshot.canvas.width;\n        foreground.height = screenshot.canvas.height;\n        paintForeground(foreground, strokeColor, drawCommands);\n        paintImage(outputBuffer, foreground);\n      });\n    }, [drawCommands, screenshot, strokeColor]);\n    const handleMouseDown = e => {\n      if (!action || !mouseRef.current) {\n        return;\n      }\n      const boundingRect = mouseRef.current.getBoundingClientRect();\n      const startingPoint = {\n        type: action,\n        x: e.offsetX / scaleFactor,\n        y: e.offsetY / scaleFactor\n      };\n      const getDrawCommand = (startingPoint, e) => {\n        const x = (e.clientX - boundingRect.x) / scaleFactor;\n        const y = (e.clientY - boundingRect.y) / scaleFactor;\n        return {\n          type: startingPoint.type,\n          x: Math.min(startingPoint.x, x),\n          y: Math.min(startingPoint.y, y),\n          w: Math.abs(x - startingPoint.x),\n          h: Math.abs(y - startingPoint.y)\n        };\n      };\n      const handleMouseMove = e => {\n        with2dContext(foregroundRef.current, {\n          alpha: true\n        }, (canvas, ctx) => {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        });\n        paintForeground(foregroundRef.current, strokeColor, [...drawCommands, getDrawCommand(startingPoint, e)]);\n      };\n      const handleMouseUp = e => {\n        const drawCommand = getDrawCommand(startingPoint, e);\n\n        // Prevent just clicking onto the canvas, mouse has to move at least 1 pixel\n        if (drawCommand.w * scaleFactor >= 1 && drawCommand.h * scaleFactor >= 1) {\n          setDrawCommands(prev => [...prev, drawCommand]);\n        }\n        DOCUMENT.removeEventListener('mousemove', handleMouseMove);\n        DOCUMENT.removeEventListener('mouseup', handleMouseUp);\n      };\n      DOCUMENT.addEventListener('mousemove', handleMouseMove);\n      DOCUMENT.addEventListener('mouseup', handleMouseUp);\n    };\n    const deleteRect = hooks.useCallback(index => {\n      return e => {\n        e.preventDefault();\n        e.stopPropagation();\n        setDrawCommands(prev => {\n          const updatedRects = [...prev];\n          updatedRects.splice(index, 1);\n          return updatedRects;\n        });\n      };\n    }, []);\n    const dimensions = {\n      width: `${screenshot.canvas.width * scaleFactor}px`,\n      height: `${screenshot.canvas.height * scaleFactor}px`\n    };\n    const handleStopPropagation = e => {\n      e.stopPropagation();\n    };\n    return h('div', {\n      class: \"editor\"\n    }, h('style', {\n      nonce: options.styleNonce,\n      dangerouslySetInnerHTML: editorStyleInnerText\n    }), h('div', {\n      class: \"editor__image-container\"\n    }, h('div', {\n      class: \"editor__canvas-container\",\n      ref: measurementRef\n    }, h('canvas', {\n      ref: backgroundRef,\n      id: \"background\",\n      style: dimensions\n    }), h('canvas', {\n      ref: foregroundRef,\n      id: \"foreground\",\n      style: dimensions\n    }), h('div', {\n      ref: mouseRef,\n      onMouseDown: handleMouseDown,\n      style: dimensions\n    }, drawCommands.map((rect, index) => h('div', {\n      key: index,\n      class: \"editor__rect\",\n      style: {\n        top: `${rect.y * scaleFactor}px`,\n        left: `${rect.x * scaleFactor}px`,\n        width: `${rect.w * scaleFactor}px`,\n        height: `${rect.h * scaleFactor}px`\n      }\n    }, h('button', {\n      'aria-label': \"Remove\",\n      onClick: deleteRect(index),\n      onMouseDown: handleStopPropagation,\n      onMouseUp: handleStopPropagation,\n      type: \"button\"\n    }, h(IconClose, null))))))), h(Toolbar, {\n      action: action,\n      setAction: setAction\n    }));\n  };\n  return function Wrapper(_ref15) {\n    let {\n      onError\n    } = _ref15;\n    const [screenshot, setScreenshot] = hooks.useState();\n    useTakeScreenshot({\n      onBeforeScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'none';\n      }, []),\n      onScreenshot: hooks.useCallback((screenshotVideo, dpi) => {\n        // Stash the original screenshot image so we can (re)draw it multiple times\n        with2dContext(DOCUMENT.createElement('canvas'), {\n          alpha: false\n        }, (canvas, ctx) => {\n          ctx.scale(dpi, dpi); // The scale needs to be set before we set the width/height and paint\n          canvas.width = screenshotVideo.videoWidth;\n          canvas.height = screenshotVideo.videoHeight;\n          ctx.drawImage(screenshotVideo, 0, 0, canvas.width, canvas.height);\n          setScreenshot({\n            canvas,\n            dpi\n          });\n        });\n\n        // The output buffer, we only need to set the width/height on this once, it stays the same forever\n        outputBuffer.width = screenshotVideo.videoWidth;\n        outputBuffer.height = screenshotVideo.videoHeight;\n      }, []),\n      onAfterScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'block';\n      }, []),\n      onError: hooks.useCallback(error => {\n        dialogStyle.display = 'block';\n        onError(error);\n      }, [])\n    });\n    if (screenshot) {\n      return h(ScreenshotEditor, {\n        screenshot: screenshot\n      });\n    }\n    return h('div', null);\n  };\n}\nconst feedbackScreenshotIntegration = () => {\n  return {\n    name: 'FeedbackScreenshot',\n    setupOnce() {},\n    createInput: _ref16 => {\n      let {\n        h,\n        hooks,\n        dialog,\n        options\n      } = _ref16;\n      const outputBuffer = DOCUMENT.createElement('canvas');\n      return {\n        input: ScreenshotEditorFactory({\n          h: h,\n          hooks: hooks,\n          outputBuffer,\n          dialog,\n          options\n        }),\n        // eslint-disable-line @typescript-eslint/no-explicit-any\n\n        value: async () => {\n          const blob = await new Promise(resolve => {\n            outputBuffer.toBlob(resolve, 'image/png');\n          });\n          if (blob) {\n            const data = new Uint8Array(await blob.arrayBuffer());\n            const attachment = {\n              data,\n              filename: 'screenshot.png',\n              contentType: 'application/png'\n              // attachmentType?: string;\n            };\n            return attachment;\n          }\n          return undefined;\n        }\n      };\n    }\n  };\n};\nexport { buildFeedbackIntegration, feedbackModalIntegration, feedbackScreenshotIntegration, getFeedback, sendFeedback };","map":{"version":3,"names":["WINDOW","GLOBAL_OBJ","DOCUMENT","document","NAVIGATOR","navigator","TRIGGER_LABEL","CANCEL_BUTTON_LABEL","SUBMIT_BUTTON_LABEL","CONFIRM_BUTTON_LABEL","FORM_TITLE","EMAIL_PLACEHOLDER","EMAIL_LABEL","MESSAGE_PLACEHOLDER","MESSAGE_LABEL","NAME_PLACEHOLDER","NAME_LABEL","SUCCESS_MESSAGE_TEXT","IS_REQUIRED_LABEL","ADD_SCREENSHOT_LABEL","REMOVE_SCREENSHOT_LABEL","FEEDBACK_WIDGET_SOURCE","FEEDBACK_API_SOURCE","SUCCESS_MESSAGE_TIMEOUT","sendFeedback","params","hint","arguments","length","undefined","includeReplay","message","Error","client","getClient","tags","Object","keys","getCurrentScope","setTags","eventId","captureFeedback","source","url","getLocationHref","Promise","resolve","reject","timeout","setTimeout","cleanup","on","event","response","event_id","clearTimeout","statusCode","DEBUG_BUILD","__SENTRY_DEBUG__","isScreenshotSupported","test","userAgent","maxTouchPoints","isSecureContext","mergeOptions","defaultOptions","optionOverrides","onFormOpen","onFormClose","onSubmitSuccess","data","onSubmitError","error","onFormSubmitted","themeDark","themeLight","createActorStyles","styleNonce","style","createElement","textContent","setAttribute","setAttributesNS","el","attributes","entries","forEach","_ref","key","val","setAttributeNS","SIZE","XMLNS$2","FeedbackIcon","createElementNS","tagName","svg","width","height","viewBox","fill","g","clipPath","path","d","appendChild","speakerDefs","speakerClipPathDef","id","speakerRect","Actor","_ref2","triggerLabel","triggerAriaLabel","shadow","type","className","ariaHidden","ariaLabel","label","createTextNode","appendToDom","removeFromDom","remove","show","hide","PURPLE","DEFAULT_LIGHT","foreground","background","accentForeground","accentBackground","successColor","errorColor","border","boxShadow","outline","interactiveFilter","DEFAULT_DARK","getThemedCssVariables","theme","createMainStyles","_ref3","colorScheme","buildFeedbackIntegration","_ref4","lazyLoadIntegration","getModalIntegration","getScreenshotIntegration","feedbackIntegration","autoInject","showBranding","isEmailRequired","isNameRequired","showEmail","showName","enableScreenshot","useSentryUser","email","name","scriptNonce","addScreenshotButtonLabel","cancelButtonLabel","confirmButtonLabel","emailLabel","emailPlaceholder","formTitle","isRequiredLabel","messageLabel","messagePlaceholder","nameLabel","namePlaceholder","removeScreenshotButtonLabel","submitButtonLabel","successMessageText","_options","_shadow","_subscriptions","_createShadow","options","host","String","body","attachShadow","mode","_loadAndRenderDialog","screenshotRequired","modalIntegration","screenshotIntegration","modalIntegrationFn","addIntegration","debug","screenshotIntegrationFn","dialog","createDialog","close","_attachTo","mergedOptions","targetEl","querySelector","addEventListener","handleClick","open","unsubscribe","filter","sub","removeEventListener","push","_createActor","actor","setupOnce","isBrowser","readyState","attachTo","createWidget","createForm","parentElement","getFeedback","getIntegrationByName","n","l$1","u$1","i$1","o$1","r$1","f$1","c$1","s$1","a$1","h$1","Array","isArray","v$1","v","l","u","p$1","p","parentNode","removeChild","y$1","y","t","i","o","r","f","children","call","defaultProps","d$1","props","ref","__k","__","__b","__e","__d","__c","constructor","__v","__i","__u","vnode","g$1","b$1","b","context","m$1","m","w$1","w","__P","M","__n","ownerSVGElement","k$1","k","base","x$1","x","C$1","__r","debounceRendering","C","sort","shift","j$1","P$1","P","e","a","h","_","S","N","$","nextSibling","c","s","I","O","insertBefore","nodeType","T$1","T","setProperty","A$1","A","cssText","replace","toLowerCase","slice","Date","now","L","D$1","removeAttribute","D","H","contextType","value","__E","prototype","render","q$1","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","indexOf","z$1","diffed","j","some","z","localName","is","childNodes","__html","innerHTML","current","unmount","componentWillUnmount","q","B$1","B","firstChild","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","then","bind","__H","__V","__N","every","F","concat","V","useDebugValue","__m","requestAnimationFrame","cancelAnimationFrame","XMLNS$1","SentryLogo","transform","DialogHeader","_ref5","logoHtml","outerHTML","class","target","href","title","rel","dangerouslySetInnerHTML","getMissingFields","feedback","emptyFields","retrieveStringValue","formData","get","trim","Form","_ref6","defaultEmail","defaultName","onSubmit","screenshotInput","isSubmitting","setIsSubmitting","setError","showScreenshotInput","setShowScreenshotInput","ScreenshotInputComponent","input","screenshotError","setScreenshotError","onScreenshotError","hasAllRequiredFields","missingFields","join","handleSubmit","preventDefault","HTMLFormElement","FormData","attachment","attachments","onError","disabled","for","LabelText","isRequired","defaultValue","placeholder","required","autoFocus","rows","onClick","prev","_ref7","WIDTH","HEIGHT","XMLNS","SuccessIcon","path2","append","Dialog","_ref8","successIconHtml","timeoutId","setTimeoutId","handleOnSuccessClick","stopPropagation","DIALOG","DIALOG_HEADER","FORM","BUTTON","SUCCESS","createDialogStyles","getUser","currentUser","isolationUser","getIsolationScope","globalUser","getGlobalScope","feedbackModalIntegration","_ref9","shadowRoot","userKey","user","originalOverflow","contains","overflow","renderContent","emit","createInput","hooks","IconCloseFactory","_ref0","IconClose","cx","cy","strokeWidth","createScreenshotInputStyles","surface200","gray100","ToolbarFactory","_ref1","Toolbar","_ref10","action","setAction","useTakeScreenshotFactory","_ref11","useDpi","dpi","setDpi","useState","devicePixelRatio","useEffect","onChange","media","matchMedia","useTakeScreenshot","_ref12","onBeforeScreenshot","onScreenshot","onAfterScreenshot","takeScreenshot","stream","mediaDevices","getDisplayMedia","video","innerWidth","innerHeight","audio","monitorTypeSurfaces","preferCurrentTab","selfBrowserSurface","surfaceSwitching","srcObject","onloadedmetadata","getTracks","track","stop","play","catch","drawRect","command","ctx","color","shadowColor","shadowBlur","fillStyle","fillRect","clearRect","with2dContext","canvas","callback","getContext","paintImage","maybeDest","alpha","destCanvas","destCtx","drawImage","paintForeground","maybeCanvas","strokeColor","drawCommands","ScreenshotEditorFactory","_ref13","outputBuffer","editorStyleInnerText","innerText","dialogStyle","ScreenshotEditor","_ref14","screenshot","setDrawCommands","measurementRef","useRef","backgroundRef","foregroundRef","mouseRef","scaleFactor","setScaleFactor","useMemo","sentryFeedback","getElementById","computedStyle","getComputedStyle","getPropertyValue","useLayoutEffect","handleResize","measurementDiv","scale","Math","min","clientWidth","clientHeight","setCanvasSize","useCallback","handleMouseDown","boundingRect","getBoundingClientRect","startingPoint","offsetX","offsetY","getDrawCommand","clientX","clientY","abs","handleMouseMove","handleMouseUp","drawCommand","deleteRect","index","updatedRects","splice","dimensions","handleStopPropagation","nonce","onMouseDown","map","rect","top","left","onMouseUp","Wrapper","_ref15","setScreenshot","display","screenshotVideo","videoWidth","videoHeight","feedbackScreenshotIntegration","_ref16","blob","toBlob","Uint8Array","arrayBuffer","filename","contentType"],"sources":["/workspace/node_modules/@sentry-internal/feedback/src/constants/index.ts","/workspace/node_modules/@sentry-internal/feedback/src/core/sendFeedback.ts","/workspace/node_modules/@sentry-internal/feedback/src/util/debug-build.ts","/workspace/node_modules/@sentry-internal/feedback/src/util/isScreenshotSupported.ts","/workspace/node_modules/@sentry-internal/feedback/src/util/mergeOptions.ts","/workspace/node_modules/@sentry-internal/feedback/src/core/components/Actor.css.ts","/workspace/node_modules/@sentry-internal/feedback/src/util/setAttributesNS.ts","/workspace/node_modules/@sentry-internal/feedback/src/core/components/FeedbackIcon.ts","/workspace/node_modules/@sentry-internal/feedback/src/core/components/Actor.ts","/workspace/node_modules/@sentry-internal/feedback/src/core/createMainStyles.ts","/workspace/node_modules/@sentry-internal/feedback/src/core/integration.ts","/workspace/node_modules/@sentry-internal/feedback/src/core/getFeedback.ts","/workspace/node_modules/node_modules/preact/dist/preact.mjs","/workspace/node_modules/node_modules/preact/hooks/dist/hooks.mjs","/workspace/node_modules/@sentry-internal/feedback/src/modal/components/SentryLogo.ts","/workspace/node_modules/@sentry-internal/feedback/src/modal/components/DialogHeader.tsx","/workspace/node_modules/@sentry-internal/feedback/src/util/validate.ts","/workspace/node_modules/@sentry-internal/feedback/src/modal/components/Form.tsx","/workspace/node_modules/@sentry-internal/feedback/src/modal/components/SuccessIcon.ts","/workspace/node_modules/@sentry-internal/feedback/src/modal/components/Dialog.tsx","/workspace/node_modules/@sentry-internal/feedback/src/modal/components/Dialog.css.ts","/workspace/node_modules/@sentry-internal/feedback/src/modal/integration.tsx","/workspace/node_modules/@sentry-internal/feedback/src/screenshot/components/IconClose.tsx","/workspace/node_modules/@sentry-internal/feedback/src/screenshot/components/ScreenshotInput.css.ts","/workspace/node_modules/@sentry-internal/feedback/src/screenshot/components/Toolbar.tsx","/workspace/node_modules/@sentry-internal/feedback/src/screenshot/components/useTakeScreenshot.tsx","/workspace/node_modules/@sentry-internal/feedback/src/screenshot/components/ScreenshotEditor.tsx","/workspace/node_modules/@sentry-internal/feedback/src/screenshot/integration.ts"],"sourcesContent":["import { GLOBAL_OBJ } from '@sentry/core';\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nexport const WINDOW = GLOBAL_OBJ as typeof GLOBAL_OBJ & Window;\nexport const DOCUMENT = WINDOW.document;\nexport const NAVIGATOR = WINDOW.navigator;\n\nexport const TRIGGER_LABEL = 'Report a Bug';\nexport const CANCEL_BUTTON_LABEL = 'Cancel';\nexport const SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nexport const CONFIRM_BUTTON_LABEL = 'Confirm';\nexport const FORM_TITLE = 'Report a Bug';\nexport const EMAIL_PLACEHOLDER = 'your.email@example.org';\nexport const EMAIL_LABEL = 'Email';\nexport const MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nexport const MESSAGE_LABEL = 'Description';\nexport const NAME_PLACEHOLDER = 'Your Name';\nexport const NAME_LABEL = 'Name';\nexport const SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\nexport const IS_REQUIRED_LABEL = '(required)';\nexport const ADD_SCREENSHOT_LABEL = 'Add a screenshot';\nexport const REMOVE_SCREENSHOT_LABEL = 'Remove screenshot';\n\nexport const FEEDBACK_WIDGET_SOURCE = 'widget';\nexport const FEEDBACK_API_SOURCE = 'api';\n\nexport const SUCCESS_MESSAGE_TIMEOUT = 5000;\n","import type { Event, EventHint, SendFeedback, SendFeedbackParams, TransportMakeRequestResponse } from '@sentry/core';\nimport { captureFeedback, getClient, getCurrentScope, getLocationHref } from '@sentry/core';\nimport { FEEDBACK_API_SOURCE } from '../constants';\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nexport const sendFeedback: SendFeedback = (\n  params: SendFeedbackParams,\n  hint: EventHint & { includeReplay?: boolean } = { includeReplay: true },\n): Promise<string> => {\n  if (!params.message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  // We want to wait for the feedback to be sent (or not)\n  const client = getClient();\n\n  if (!client) {\n    throw new Error('No client setup, cannot send feedback.');\n  }\n\n  if (params.tags && Object.keys(params.tags).length) {\n    getCurrentScope().setTags(params.tags);\n  }\n  const eventId = captureFeedback(\n    {\n      source: FEEDBACK_API_SOURCE,\n      url: getLocationHref(),\n      ...params,\n    },\n    hint,\n  );\n\n  // We want to wait for the feedback to be sent (or not)\n  return new Promise<string>((resolve, reject) => {\n    // After 30s, we want to clear anyhow\n    const timeout = setTimeout(() => reject('Unable to determine if Feedback was correctly sent.'), 30_000);\n\n    const cleanup = client.on('afterSendEvent', (event: Event, response: TransportMakeRequestResponse) => {\n      if (event.event_id !== eventId) {\n        return;\n      }\n\n      clearTimeout(timeout);\n      cleanup();\n\n      // Require valid status codes, otherwise can assume feedback was not sent successfully\n      if (\n        response &&\n        typeof response.statusCode === 'number' &&\n        response.statusCode >= 200 &&\n        response.statusCode < 300\n      ) {\n        return resolve(eventId);\n      }\n\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 0) {\n        return reject(\n          'Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker.',\n        );\n      }\n\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 403) {\n        return reject(\n          'Unable to send Feedback. This could be because this domain is not in your list of allowed domains.',\n        );\n      }\n\n      return reject(\n        'Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker',\n      );\n    });\n  });\n};\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n","declare const __DEBUG_BUILD__: boolean;\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nexport const DEBUG_BUILD = __DEBUG_BUILD__;\n","import { NAVIGATOR } from '../constants';\n\n/**\n * Mobile browsers do not support `mediaDevices.getDisplayMedia` even though they have the api implemented\n * Instead they return things like `NotAllowedError` when called.\n *\n * It's simpler for us to browser sniff first, and avoid loading the integration if we can.\n *\n * https://stackoverflow.com/a/58879212\n * https://stackoverflow.com/a/3540295\n *\n * `mediaDevices.getDisplayMedia` is also only supported in secure contexts, and return a `mediaDevices is not supported` error, so we should also avoid loading the integration if we can.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia\n */\nexport function isScreenshotSupported(): boolean {\n  if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(NAVIGATOR.userAgent)) {\n    return false;\n  }\n  /**\n   * User agent on iPads show as Macintosh, so we need extra checks\n   *\n   * https://forums.developer.apple.com/forums/thread/119186\n   * https://stackoverflow.com/questions/60482650/how-to-detect-ipad-useragent-on-safari-browser\n   */\n  if (/Macintosh/i.test(NAVIGATOR.userAgent) && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 1) {\n    return false;\n  }\n  if (!isSecureContext) {\n    return false;\n  }\n  return true;\n}\n","import type { FeedbackFormData, FeedbackInternalOptions } from '@sentry/core';\nimport type { OptionalFeedbackConfiguration } from '../core/types';\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nexport function mergeOptions(\n  defaultOptions: FeedbackInternalOptions,\n  optionOverrides: OptionalFeedbackConfiguration,\n): FeedbackInternalOptions {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    tags: {\n      ...defaultOptions.tags,\n      ...optionOverrides.tags,\n    },\n    onFormOpen: () => {\n      optionOverrides.onFormOpen?.();\n      defaultOptions.onFormOpen?.();\n    },\n    onFormClose: () => {\n      optionOverrides.onFormClose?.();\n      defaultOptions.onFormClose?.();\n    },\n    onSubmitSuccess: (data: FeedbackFormData, eventId: string) => {\n      optionOverrides.onSubmitSuccess?.(data, eventId);\n      defaultOptions.onSubmitSuccess?.(data, eventId);\n    },\n    onSubmitError: (error: Error) => {\n      optionOverrides.onSubmitError?.(error);\n      defaultOptions.onSubmitError?.(error);\n    },\n    onFormSubmitted: () => {\n      optionOverrides.onFormSubmitted?.();\n      defaultOptions.onFormSubmitted?.();\n    },\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark,\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight,\n    },\n  };\n}\n","import { DOCUMENT } from '../../constants';\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nexport function createActorStyles(styleNonce?: string): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden=\"true\"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nexport function setAttributesNS<T extends SVGElement>(el: T, attributes: Record<string, string>): T {\n  Object.entries(attributes).forEach(([key, val]) => {\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\n","import { WINDOW } from '../../constants';\nimport { setAttributesNS } from '../../util/setAttributesNS';\n\nconst SIZE = 20;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nexport function FeedbackIcon(): SVGElement {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'var(--actor-color, var(--foreground))',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z',\n  });\n  svg.appendChild(g).appendChild(path);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return svg;\n}\n","import { DOCUMENT, TRIGGER_LABEL } from '../../constants';\nimport { createActorStyles } from './Actor.css';\nimport { FeedbackIcon } from './FeedbackIcon';\n\nexport interface ActorProps {\n  triggerLabel: string;\n  triggerAriaLabel: string;\n  shadow: ShadowRoot;\n  styleNonce?: string;\n}\n\nexport interface ActorComponent {\n  el: HTMLElement;\n\n  appendToDom: () => void;\n\n  removeFromDom: () => void;\n\n  show: () => void;\n\n  hide: () => void;\n}\n\n/**\n * The sentry-provided button to open the feedback modal\n */\nexport function Actor({ triggerLabel, triggerAriaLabel, shadow, styleNonce }: ActorProps): ActorComponent {\n  const el = DOCUMENT.createElement('button');\n  el.type = 'button';\n  el.className = 'widget__actor';\n  el.ariaHidden = 'false';\n  el.ariaLabel = triggerAriaLabel || triggerLabel || TRIGGER_LABEL;\n  el.appendChild(FeedbackIcon());\n  if (triggerLabel) {\n    const label = DOCUMENT.createElement('span');\n    label.appendChild(DOCUMENT.createTextNode(triggerLabel));\n    el.appendChild(label);\n  }\n\n  const style = createActorStyles(styleNonce);\n\n  return {\n    el,\n    appendToDom(): void {\n      shadow.appendChild(style);\n      shadow.appendChild(el);\n    },\n    removeFromDom(): void {\n      el.remove();\n      style.remove();\n    },\n    show(): void {\n      el.ariaHidden = 'false';\n    },\n    hide(): void {\n      el.ariaHidden = 'true';\n    },\n  };\n}\n","import type { FeedbackInternalOptions } from '@sentry/core';\nimport { DOCUMENT } from '../constants';\n\nconst PURPLE = 'rgba(88, 74, 192, 1)';\n\ninterface InternalTheme extends NonNullable<FeedbackInternalOptions['themeLight']> {\n  border: string;\n  interactiveFilter: string;\n}\n\nconst DEFAULT_LIGHT: InternalTheme = {\n  foreground: '#2b2233',\n  background: '#ffffff',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#268d75',\n  errorColor: '#df3338',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(95%)',\n};\nconst DEFAULT_DARK: InternalTheme = {\n  foreground: '#ebe6ef',\n  background: '#29232f',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#2da98c',\n  errorColor: '#f55459',\n  border: '1.5px solid rgba(235, 230, 239, 0.15)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(150%)',\n};\n\nfunction getThemedCssVariables(theme: InternalTheme): string {\n  return `\n  --foreground: ${theme.foreground};\n  --background: ${theme.background};\n  --accent-foreground: ${theme.accentForeground};\n  --accent-background: ${theme.accentBackground};\n  --success-color: ${theme.successColor};\n  --error-color: ${theme.errorColor};\n  --border: ${theme.border};\n  --box-shadow: ${theme.boxShadow};\n  --outline: ${theme.outline};\n  --interactive-filter: ${theme.interactiveFilter};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nexport function createMainStyles({\n  colorScheme,\n  themeDark,\n  themeLight,\n  styleNonce,\n}: FeedbackInternalOptions): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${colorScheme !== 'system' ? 'color-scheme: only light;' : ''}\n\n  ${getThemedCssVariables(\n    colorScheme === 'dark' ? { ...DEFAULT_DARK, ...themeDark } : { ...DEFAULT_LIGHT, ...themeLight },\n  )}\n}\n\n${\n  colorScheme === 'system'\n    ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables({ ...DEFAULT_DARK, ...themeDark })}\n  }\n}`\n    : ''\n}\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","import type {\n  FeedbackInternalOptions,\n  FeedbackModalIntegration,\n  FeedbackScreenshotIntegration,\n  Integration,\n  IntegrationFn,\n} from '@sentry/core';\nimport { addIntegration, debug, isBrowser } from '@sentry/core';\nimport {\n  ADD_SCREENSHOT_LABEL,\n  CANCEL_BUTTON_LABEL,\n  CONFIRM_BUTTON_LABEL,\n  DOCUMENT,\n  EMAIL_LABEL,\n  EMAIL_PLACEHOLDER,\n  FORM_TITLE,\n  IS_REQUIRED_LABEL,\n  MESSAGE_LABEL,\n  MESSAGE_PLACEHOLDER,\n  NAME_LABEL,\n  NAME_PLACEHOLDER,\n  REMOVE_SCREENSHOT_LABEL,\n  SUBMIT_BUTTON_LABEL,\n  SUCCESS_MESSAGE_TEXT,\n  TRIGGER_LABEL,\n} from '../constants';\nimport { DEBUG_BUILD } from '../util/debug-build';\nimport { isScreenshotSupported } from '../util/isScreenshotSupported';\nimport { mergeOptions } from '../util/mergeOptions';\nimport type { ActorComponent } from './components/Actor';\nimport { Actor } from './components/Actor';\nimport { createMainStyles } from './createMainStyles';\nimport { sendFeedback } from './sendFeedback';\nimport type { OptionalFeedbackConfiguration, OverrideFeedbackConfiguration } from './types';\n\ntype Unsubscribe = () => void;\n\n/**\n * Allow users to capture user feedback and send it to Sentry.\n */\n\ntype BuilderOptions =\n  | {\n      lazyLoadIntegration?: never;\n      getModalIntegration: () => IntegrationFn;\n      getScreenshotIntegration: () => IntegrationFn;\n    }\n  | {\n      // The type here should be `keyof typeof LazyLoadableIntegrations`, but that'll cause a cicrular\n      // dependency with @sentry/core\n      lazyLoadIntegration: (\n        name: 'feedbackModalIntegration' | 'feedbackScreenshotIntegration',\n        scriptNonce?: string,\n      ) => Promise<IntegrationFn>;\n      getModalIntegration?: never;\n      getScreenshotIntegration?: never;\n    };\n\nexport const buildFeedbackIntegration = ({\n  lazyLoadIntegration,\n  getModalIntegration,\n  getScreenshotIntegration,\n}: BuilderOptions): IntegrationFn<\n  Integration & {\n    attachTo(el: Element | string, optionOverrides?: OverrideFeedbackConfiguration): Unsubscribe;\n    createForm(\n      optionOverrides?: OverrideFeedbackConfiguration,\n    ): Promise<ReturnType<FeedbackModalIntegration['createDialog']>>;\n    createWidget(optionOverrides?: OverrideFeedbackConfiguration): ActorComponent;\n    remove(): void;\n  }\n> => {\n  const feedbackIntegration = (({\n    // FeedbackGeneralConfiguration\n    id = 'sentry-feedback',\n    autoInject = true,\n    showBranding = true,\n    isEmailRequired = false,\n    isNameRequired = false,\n    showEmail = true,\n    showName = true,\n    enableScreenshot = true,\n    useSentryUser = {\n      email: 'email',\n      name: 'username',\n    },\n    tags,\n    styleNonce,\n    scriptNonce,\n\n    // FeedbackThemeConfiguration\n    colorScheme = 'system',\n    themeLight = {},\n    themeDark = {},\n\n    // FeedbackTextConfiguration\n    addScreenshotButtonLabel = ADD_SCREENSHOT_LABEL,\n    cancelButtonLabel = CANCEL_BUTTON_LABEL,\n    confirmButtonLabel = CONFIRM_BUTTON_LABEL,\n    emailLabel = EMAIL_LABEL,\n    emailPlaceholder = EMAIL_PLACEHOLDER,\n    formTitle = FORM_TITLE,\n    isRequiredLabel = IS_REQUIRED_LABEL,\n    messageLabel = MESSAGE_LABEL,\n    messagePlaceholder = MESSAGE_PLACEHOLDER,\n    nameLabel = NAME_LABEL,\n    namePlaceholder = NAME_PLACEHOLDER,\n    removeScreenshotButtonLabel = REMOVE_SCREENSHOT_LABEL,\n    submitButtonLabel = SUBMIT_BUTTON_LABEL,\n    successMessageText = SUCCESS_MESSAGE_TEXT,\n    triggerLabel = TRIGGER_LABEL,\n    triggerAriaLabel = '',\n\n    // FeedbackCallbacks\n    onFormOpen,\n    onFormClose,\n    onSubmitSuccess,\n    onSubmitError,\n    onFormSubmitted,\n  }: OptionalFeedbackConfiguration = {}) => {\n    const _options = {\n      id,\n      autoInject,\n      showBranding,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      enableScreenshot,\n      useSentryUser,\n      tags,\n      styleNonce,\n      scriptNonce,\n\n      colorScheme,\n      themeDark,\n      themeLight,\n\n      triggerLabel,\n      triggerAriaLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      confirmButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n      isRequiredLabel,\n      addScreenshotButtonLabel,\n      removeScreenshotButtonLabel,\n\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n      onFormSubmitted,\n    };\n\n    let _shadow: ShadowRoot | null = null;\n    let _subscriptions: Unsubscribe[] = [];\n\n    /**\n     * Get the shadow root where we will append css\n     */\n    const _createShadow = (options: FeedbackInternalOptions): ShadowRoot => {\n      if (!_shadow) {\n        const host = DOCUMENT.createElement('div');\n        host.id = String(options.id);\n        DOCUMENT.body.appendChild(host);\n\n        _shadow = host.attachShadow({ mode: 'open' });\n        _shadow.appendChild(createMainStyles(options));\n      }\n      return _shadow as ShadowRoot;\n    };\n\n    const _loadAndRenderDialog = async (\n      options: FeedbackInternalOptions,\n    ): Promise<ReturnType<FeedbackModalIntegration['createDialog']>> => {\n      const screenshotRequired = options.enableScreenshot && isScreenshotSupported();\n\n      let modalIntegration: FeedbackModalIntegration;\n      let screenshotIntegration: FeedbackScreenshotIntegration | undefined;\n\n      try {\n        const modalIntegrationFn = getModalIntegration\n          ? getModalIntegration()\n          : await lazyLoadIntegration('feedbackModalIntegration', scriptNonce);\n        modalIntegration = modalIntegrationFn() as FeedbackModalIntegration;\n        addIntegration(modalIntegration);\n      } catch {\n        DEBUG_BUILD &&\n          debug.error(\n            '[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`.',\n          );\n        throw new Error('[Feedback] Missing feedback modal integration!');\n      }\n\n      try {\n        const screenshotIntegrationFn = screenshotRequired\n          ? getScreenshotIntegration\n            ? getScreenshotIntegration()\n            : await lazyLoadIntegration('feedbackScreenshotIntegration', scriptNonce)\n          : undefined;\n\n        if (screenshotIntegrationFn) {\n          screenshotIntegration = screenshotIntegrationFn() as FeedbackScreenshotIntegration;\n          addIntegration(screenshotIntegration);\n        }\n      } catch {\n        DEBUG_BUILD &&\n          debug.error('[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.');\n      }\n\n      const dialog = modalIntegration.createDialog({\n        options: {\n          ...options,\n          onFormClose: () => {\n            dialog?.close();\n            options.onFormClose?.();\n          },\n          onFormSubmitted: () => {\n            dialog?.close();\n            options.onFormSubmitted?.();\n          },\n        },\n        screenshotIntegration,\n        sendFeedback,\n        shadow: _createShadow(options),\n      });\n\n      return dialog;\n    };\n\n    const _attachTo = (el: Element | string, optionOverrides: OverrideFeedbackConfiguration = {}): Unsubscribe => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n\n      const targetEl =\n        typeof el === 'string' ? DOCUMENT.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n\n      if (!targetEl) {\n        DEBUG_BUILD && debug.error('[Feedback] Unable to attach to target element');\n        throw new Error('Unable to attach to target element');\n      }\n\n      let dialog: ReturnType<FeedbackModalIntegration['createDialog']> | null = null;\n      const handleClick = async (): Promise<void> => {\n        if (!dialog) {\n          dialog = await _loadAndRenderDialog({\n            ...mergedOptions,\n            onFormSubmitted: () => {\n              dialog?.removeFromDom();\n              mergedOptions.onFormSubmitted?.();\n            },\n          });\n        }\n        dialog.appendToDom();\n        dialog.open();\n      };\n      targetEl.addEventListener('click', handleClick);\n      const unsubscribe = (): void => {\n        _subscriptions = _subscriptions.filter(sub => sub !== unsubscribe);\n        dialog?.removeFromDom();\n        dialog = null;\n        targetEl.removeEventListener('click', handleClick);\n      };\n      _subscriptions.push(unsubscribe);\n      return unsubscribe;\n    };\n\n    const _createActor = (optionOverrides: OverrideFeedbackConfiguration = {}): ActorComponent => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const shadow = _createShadow(mergedOptions);\n      const actor = Actor({\n        triggerLabel: mergedOptions.triggerLabel,\n        triggerAriaLabel: mergedOptions.triggerAriaLabel,\n        shadow,\n        styleNonce,\n      });\n      _attachTo(actor.el, {\n        ...mergedOptions,\n        onFormOpen() {\n          actor.hide();\n        },\n        onFormClose() {\n          actor.show();\n        },\n        onFormSubmitted() {\n          actor.show();\n        },\n      });\n      return actor;\n    };\n\n    return {\n      name: 'Feedback',\n      setupOnce() {\n        if (!isBrowser() || !_options.autoInject) {\n          return;\n        }\n\n        if (DOCUMENT.readyState === 'loading') {\n          DOCUMENT.addEventListener('DOMContentLoaded', () => _createActor().appendToDom());\n        } else {\n          _createActor().appendToDom();\n        }\n      },\n\n      /**\n       * Adds click listener to the element to open a feedback dialog\n       *\n       * The returned function can be used to remove the click listener\n       */\n      attachTo: _attachTo,\n\n      /**\n       * Creates a new widget which is composed of a Button which triggers a Dialog.\n       * Accepts partial options to override any options passed to constructor.\n       */\n      createWidget(optionOverrides: OverrideFeedbackConfiguration = {}): ActorComponent {\n        const actor = _createActor(mergeOptions(_options, optionOverrides));\n        actor.appendToDom();\n        return actor;\n      },\n\n      /**\n       * Creates a new Form which you can\n       * Accepts partial options to override any options passed to constructor.\n       */\n      async createForm(\n        optionOverrides: OverrideFeedbackConfiguration = {},\n      ): Promise<ReturnType<FeedbackModalIntegration['createDialog']>> {\n        return _loadAndRenderDialog(mergeOptions(_options, optionOverrides));\n      },\n\n      /**\n       * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n       */\n      remove(): void {\n        if (_shadow) {\n          _shadow.parentElement?.remove();\n          _shadow = null;\n        }\n        // Remove any lingering subscriptions\n        _subscriptions.forEach(sub => sub());\n        _subscriptions = [];\n      },\n    };\n  }) satisfies IntegrationFn;\n\n  return feedbackIntegration;\n};\n","import { getClient } from '@sentry/core';\nimport type { buildFeedbackIntegration } from './integration';\n\ntype FeedbackIntegration = ReturnType<typeof buildFeedbackIntegration>;\n\n/**\n * This is a small utility to get a type-safe instance of the Feedback integration.\n */\nexport function getFeedback(): ReturnType<FeedbackIntegration> | undefined {\n  const client = getClient();\n  return client?.getIntegrationByName<ReturnType<FeedbackIntegration>>('Feedback');\n}\n","var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function w(n,u,t){var i,o=n.__v,r=o.__e,f=n.__P;if(f)return(i=v({},o)).__v=o.__v+1,l.vnode&&l.vnode(i),M(f,i,o,n.__n,void 0!==f.ownerSVGElement,32&o.__u?[r]:null,u,null==r?m(o):r,!!(32&o.__u),t),i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=r&&k(i),i}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function x(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!C.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(C)}function C(){var n,u,t,o=[],r=[];for(i.sort(f);n=i.shift();)n.__d&&(t=i.length,u=w(n,o,r)||u,0===t||i.length>t?(j(o,u,r),r.length=o.length=0,u=void 0,i.sort(f)):u&&l.__c&&l.__c(u,s));u&&j(o,u,r),C.__r=0}function P(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,S(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,M(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=$(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function S(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=I(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),O(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),O(o,o))}function $(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=$(t[i],l,u));return l}n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function I(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function A(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?L:D,o)):n.removeEventListener(l,o?L:D,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function D(n){if(this.l){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}}function L(n){if(this.l)return this.l[n.type+!0](l.event?l.event(n):n)}function M(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,w,k,x,C,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(k=u.props,x=(a=A.contextType)&&i[a.__c],C=a?x?x.props.value:a.__:i,t.__c?w=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(k,C):(u.__c=p=new b(k,C),p.constructor=A,p.render=q),x&&x.sub(p),p.props=k,p.state||(p.state={}),p.context=C,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(k,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&k!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(k,C),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(k,p.__s,C)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=k,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(k,p.__s,C),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=C,p.props=k,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),P(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),w&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function j(n,u,t){for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function z(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,w=t.props,k=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(k);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,k.is&&k),r=null,e=!1}if(null===x)w===k||e&&l.data===k||(l.data=k);else{if(r=r&&n.call(l.childNodes),w=t.props||c,!e&&null!=r)for(w={},a=0;a<l.attributes.length;a++)w[(_=l.attributes[a]).name]=_.value;for(a in w)_=w[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in k||A(l,a,null,_,o));for(a in k)_=k[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||w[a]===_||A(l,a,_,w[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),P(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==w[a])&&A(l,a,g,w[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&A(l,a,b,w[a],!1))}return l}function N(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function O(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&O(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],M(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),u.__d=void 0,j(f,u,e)}function E(n,l){B(n,l,E)}function F(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,x(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),x(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),x(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},C.__r=0,e=0;export{b as Component,g as Fragment,F as cloneElement,G as createContext,y as createElement,_ as createRef,y as h,E as hydrate,t as isValidElement,l as options,B as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n,a=e.__b,v=e.__r,l=e.diffed,m=e.__c,s=e.unmount,d=e.__;function h(n,t){e.__h&&e.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({__V:c}),u.__[n]}function p(n){return o=1,y(D,n)}function y(n,u,i){var o=h(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function _(n,u){var i=h(t++,3);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__H.__h.push(i))}function A(n,u){var i=h(t++,4);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__h.push(i))}function F(n){return o=5,q(function(){return{current:n}},[])}function T(n,t,r){o=6,A(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function q(n,r){var u=h(t++,7);return C(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function x(n,t){return o=8,q(function(){return n},t)}function P(n){var u=r.context[n.__c],i=h(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function V(n,t){e.useDebugValue&&e.useDebugValue(t?t(n):n)}function b(n){var u=h(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=h(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],e.__e(t,n.__v)}}e.__b=function(n){r=null,a&&a(n)},e.__=function(n,t){t.__k&&t.__k.__m&&(n.__m=t.__k.__m),d&&d(n,t)},e.__r=function(n){v&&v(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},e.diffed=function(n){l&&l(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===e.requestAnimationFrame||((i=e.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},e.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],e.__e(r,n.__v)}}),m&&m(n,t)},e.unmount=function(n){s&&s(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&e.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{x as useCallback,P as useContext,V as useDebugValue,_ as useEffect,b as useErrorBoundary,g as useId,T as useImperativeHandle,A as useLayoutEffect,q as useMemo,y as useReducer,F as useRef,p as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import { DOCUMENT } from '../../constants';\nimport { setAttributesNS } from '../../util/setAttributesNS';\n\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nexport function SentryLogo(): SVGElement {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    DOCUMENT.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'inherit',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z',\n  });\n  svg.appendChild(path);\n\n  return svg;\n}\n","import type { FeedbackInternalOptions } from '@sentry/core';\nimport type { VNode } from 'preact';\nimport { h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport { useMemo } from 'preact/hooks';\nimport { SentryLogo } from './SentryLogo';\n\nexport interface Props {\n  options: FeedbackInternalOptions;\n}\n\nexport function DialogHeader({ options }: Props): VNode {\n  const logoHtml = useMemo(() => ({ __html: SentryLogo().outerHTML }), []);\n\n  return (\n    <h2 class=\"dialog__header\">\n      <span class=\"dialog__title\">{options.formTitle}</span>\n      {options.showBranding ? (\n        <a\n          class=\"brand-link\"\n          target=\"_blank\"\n          href=\"https://sentry.io/welcome/\"\n          title=\"Powered by Sentry\"\n          rel=\"noopener noreferrer\"\n          dangerouslySetInnerHTML={logoHtml}\n        />\n      ) : null}\n    </h2>\n  );\n}\n","import type { FeedbackFormData, FeedbackInternalOptions } from '@sentry/core';\n\nexport type Props = Pick<\n  FeedbackInternalOptions,\n  'emailLabel' | 'isEmailRequired' | 'isNameRequired' | 'messageLabel' | 'nameLabel'\n>;\n\n/**\n * Validate that a given feedback submission has the required fields\n */\nexport function getMissingFields(feedback: FeedbackFormData, props: Props): string[] {\n  const emptyFields = [];\n  if (props.isNameRequired && !feedback.name) {\n    emptyFields.push(props.nameLabel);\n  }\n  if (props.isEmailRequired && !feedback.email) {\n    emptyFields.push(props.emailLabel);\n  }\n  if (!feedback.message) {\n    emptyFields.push(props.messageLabel);\n  }\n\n  return emptyFields;\n}\n","import type {\n  FeedbackFormData,\n  FeedbackInternalOptions,\n  FeedbackScreenshotIntegration,\n  SendFeedback,\n} from '@sentry/core';\nimport { debug } from '@sentry/core';\nimport type { JSX, VNode } from 'preact';\nimport { h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport { useCallback, useState } from 'preact/hooks';\nimport { FEEDBACK_WIDGET_SOURCE } from '../../constants';\nimport { DEBUG_BUILD } from '../../util/debug-build';\nimport { getMissingFields } from '../../util/validate';\n\nexport interface Props extends Pick<FeedbackInternalOptions, 'showEmail' | 'showName'> {\n  options: FeedbackInternalOptions;\n  defaultEmail: string;\n  defaultName: string;\n  onFormClose: () => void;\n  onSubmit: SendFeedback;\n  onSubmitSuccess: (data: FeedbackFormData, eventId: string) => void;\n  onSubmitError: (error: Error) => void;\n  screenshotInput: ReturnType<FeedbackScreenshotIntegration['createInput']> | undefined;\n}\n\nfunction retrieveStringValue(formData: FormData, key: string): string {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\n\nexport function Form({\n  options,\n  defaultEmail,\n  defaultName,\n\n  onFormClose,\n  onSubmit,\n  onSubmitSuccess,\n  onSubmitError,\n  showEmail,\n  showName,\n  screenshotInput,\n}: Props): VNode {\n  const {\n    tags,\n    addScreenshotButtonLabel,\n    removeScreenshotButtonLabel,\n    cancelButtonLabel,\n    emailLabel,\n    emailPlaceholder,\n    isEmailRequired,\n    isNameRequired,\n    messageLabel,\n    messagePlaceholder,\n    nameLabel,\n    namePlaceholder,\n    submitButtonLabel,\n    isRequiredLabel,\n  } = options;\n  const [isSubmitting, setIsSubmitting] = useState<boolean>(false);\n  // TODO: set a ref on the form, and whenever an input changes call processForm() and setError()\n  const [error, setError] = useState<null | string>(null);\n\n  const [showScreenshotInput, setShowScreenshotInput] = useState(false);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ScreenshotInputComponent: any = screenshotInput?.input;\n\n  const [screenshotError, setScreenshotError] = useState<null | Error>(null);\n  const onScreenshotError = useCallback((error: Error) => {\n    setScreenshotError(error);\n    setShowScreenshotInput(false);\n  }, []);\n\n  const hasAllRequiredFields = useCallback(\n    (data: FeedbackFormData) => {\n      const missingFields = getMissingFields(data, {\n        emailLabel,\n        isEmailRequired,\n        isNameRequired,\n        messageLabel,\n        nameLabel,\n      });\n\n      if (missingFields.length > 0) {\n        setError(`Please enter in the following required fields: ${missingFields.join(', ')}`);\n      } else {\n        setError(null);\n      }\n\n      return missingFields.length === 0;\n    },\n    [emailLabel, isEmailRequired, isNameRequired, messageLabel, nameLabel],\n  );\n\n  const handleSubmit = useCallback(\n    async (e: JSX.TargetedSubmitEvent<HTMLFormElement>) => {\n      setIsSubmitting(true);\n      try {\n        e.preventDefault();\n        if (!(e.target instanceof HTMLFormElement)) {\n          return;\n        }\n        const formData = new FormData(e.target);\n        const attachment = await (screenshotInput && showScreenshotInput ? screenshotInput.value() : undefined);\n\n        const data: FeedbackFormData = {\n          name: retrieveStringValue(formData, 'name'),\n          email: retrieveStringValue(formData, 'email'),\n          message: retrieveStringValue(formData, 'message'),\n          attachments: attachment ? [attachment] : undefined,\n        };\n\n        if (!hasAllRequiredFields(data)) {\n          return;\n        }\n\n        try {\n          const eventId = await onSubmit(\n            {\n              name: data.name,\n              email: data.email,\n              message: data.message,\n              source: FEEDBACK_WIDGET_SOURCE,\n              tags,\n            },\n            { attachments: data.attachments },\n          );\n          onSubmitSuccess(data, eventId);\n        } catch (error) {\n          DEBUG_BUILD && debug.error(error);\n          setError(error as string);\n          onSubmitError(error as Error);\n        }\n      } finally {\n        setIsSubmitting(false);\n      }\n    },\n    [screenshotInput && showScreenshotInput, onSubmitSuccess, onSubmitError],\n  );\n\n  return (\n    <form class=\"form\" onSubmit={handleSubmit}>\n      {ScreenshotInputComponent && showScreenshotInput ? (\n        <ScreenshotInputComponent onError={onScreenshotError} />\n      ) : null}\n\n      <fieldset class=\"form__right\" data-sentry-feedback={true} disabled={isSubmitting}>\n        <div class=\"form__top\">\n          {error ? <div class=\"form__error-container\">{error}</div> : null}\n\n          {showName ? (\n            <label for=\"name\" class=\"form__label\">\n              <LabelText label={nameLabel} isRequiredLabel={isRequiredLabel} isRequired={isNameRequired} />\n              <input\n                class=\"form__input\"\n                defaultValue={defaultName}\n                id=\"name\"\n                name=\"name\"\n                placeholder={namePlaceholder}\n                required={isNameRequired}\n                type=\"text\"\n              />\n            </label>\n          ) : (\n            <input aria-hidden value={defaultName} name=\"name\" type=\"hidden\" />\n          )}\n\n          {showEmail ? (\n            <label for=\"email\" class=\"form__label\">\n              <LabelText label={emailLabel} isRequiredLabel={isRequiredLabel} isRequired={isEmailRequired} />\n              <input\n                class=\"form__input\"\n                defaultValue={defaultEmail}\n                id=\"email\"\n                name=\"email\"\n                placeholder={emailPlaceholder}\n                required={isEmailRequired}\n                type=\"email\"\n              ></input>\n            </label>\n          ) : (\n            <input aria-hidden value={defaultEmail} name=\"email\" type=\"hidden\" />\n          )}\n\n          <label for=\"message\" class=\"form__label\">\n            <LabelText label={messageLabel} isRequiredLabel={isRequiredLabel} isRequired />\n            <textarea\n              autoFocus\n              class=\"form__input form__input--textarea\"\n              id=\"message\"\n              name=\"message\"\n              placeholder={messagePlaceholder}\n              required={true}\n              rows={5}\n            />\n          </label>\n\n          {ScreenshotInputComponent ? (\n            <label for=\"screenshot\" class=\"form__label\">\n              <button\n                class=\"btn btn--default\"\n                disabled={isSubmitting}\n                type=\"button\"\n                onClick={() => {\n                  setScreenshotError(null);\n                  setShowScreenshotInput(prev => !prev);\n                }}\n              >\n                {showScreenshotInput ? removeScreenshotButtonLabel : addScreenshotButtonLabel}\n              </button>\n              {screenshotError ? <div class=\"form__error-container\">{screenshotError.message}</div> : null}\n            </label>\n          ) : null}\n        </div>\n        <div class=\"btn-group\">\n          <button class=\"btn btn--primary\" disabled={isSubmitting} type=\"submit\">\n            {submitButtonLabel}\n          </button>\n          <button class=\"btn btn--default\" disabled={isSubmitting} type=\"button\" onClick={onFormClose}>\n            {cancelButtonLabel}\n          </button>\n        </div>\n      </fieldset>\n    </form>\n  );\n}\n\nfunction LabelText({\n  label,\n  isRequired,\n  isRequiredLabel,\n}: {\n  label: string;\n  isRequired: boolean;\n  isRequiredLabel: string;\n}): VNode {\n  return (\n    <span class=\"form__label__text\">\n      {label}\n      {isRequired && <span class=\"form__label__text--required\">{isRequiredLabel}</span>}\n    </span>\n  );\n}\n","import { WINDOW } from '../../constants';\nimport { setAttributesNS } from '../../util/setAttributesNS';\n\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nexport function SuccessIcon(): SVGElement {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'inherit',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)',\n  });\n\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z',\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z',\n  });\n\n  svg.appendChild(g).append(path, path2);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return svg;\n}\n","import type { FeedbackFormData, FeedbackInternalOptions } from '@sentry/core';\nimport type { VNode } from 'preact';\nimport { Fragment, h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { SUCCESS_MESSAGE_TIMEOUT } from '../../constants';\nimport type { Props as HeaderProps } from './DialogHeader';\nimport { DialogHeader } from './DialogHeader';\nimport type { Props as FormProps } from './Form';\nimport { Form } from './Form';\nimport { SuccessIcon } from './SuccessIcon';\n\ninterface Props extends HeaderProps, FormProps {\n  onFormSubmitted: () => void;\n  open: boolean;\n  options: FeedbackInternalOptions;\n}\n\nexport function Dialog({ open, onFormSubmitted, ...props }: Props): VNode {\n  const options = props.options;\n  const successIconHtml = useMemo(() => ({ __html: SuccessIcon().outerHTML }), []);\n\n  const [timeoutId, setTimeoutId] = useState<NodeJS.Timeout | null>(null);\n\n  const handleOnSuccessClick = useCallback(() => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      setTimeoutId(null);\n    }\n    onFormSubmitted();\n  }, [timeoutId]);\n\n  const onSubmitSuccess = useCallback(\n    (data: FeedbackFormData, eventId: string) => {\n      props.onSubmitSuccess(data, eventId);\n      setTimeoutId(\n        setTimeout(() => {\n          onFormSubmitted();\n          setTimeoutId(null);\n        }, SUCCESS_MESSAGE_TIMEOUT),\n      );\n    },\n    [onFormSubmitted],\n  );\n\n  return (\n    <Fragment>\n      {timeoutId ? (\n        <div class=\"success__position\" onClick={handleOnSuccessClick}>\n          <div class=\"success__content\">\n            {options.successMessageText}\n            <span class=\"success__icon\" dangerouslySetInnerHTML={successIconHtml} />\n          </div>\n        </div>\n      ) : (\n        <dialog class=\"dialog\" onClick={options.onFormClose} open={open}>\n          <div class=\"dialog__position\">\n            <div\n              class=\"dialog__content\"\n              onClick={e => {\n                // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n                e.stopPropagation();\n              }}\n            >\n              <DialogHeader options={options} />\n              <Form {...props} onSubmitSuccess={onSubmitSuccess} />\n            </div>\n          </div>\n        </dialog>\n      )}\n    </Fragment>\n  );\n}\n","import { DOCUMENT } from '../../constants';\n\nconst DIALOG = `\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n`;\n\nconst DIALOG_HEADER = `\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n`;\n\nconst FORM = `\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n`;\n\nconst BUTTON = `\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n`;\n\nconst SUCCESS = `\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n`;\n\n/**\n * Creates <style> element for widget dialog\n */\nexport function createDialogStyles(styleNonce?: string): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n\n  style.textContent = `\n:host {\n  --dialog-inset: var(--inset);\n}\n\n${DIALOG}\n${DIALOG_HEADER}\n${FORM}\n${BUTTON}\n${SUCCESS}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","import type { FeedbackFormData, FeedbackModalIntegration, IntegrationFn, User } from '@sentry/core';\nimport { getClient, getCurrentScope, getGlobalScope, getIsolationScope } from '@sentry/core';\nimport { h, render } from 'preact';\nimport * as hooks from 'preact/hooks';\nimport { DOCUMENT } from '../constants';\nimport { Dialog } from './components/Dialog';\nimport { createDialogStyles } from './components/Dialog.css';\n\nfunction getUser(): User | undefined {\n  const currentUser = getCurrentScope().getUser();\n  const isolationUser = getIsolationScope().getUser();\n  const globalUser = getGlobalScope().getUser();\n  if (currentUser && Object.keys(currentUser).length) {\n    return currentUser;\n  }\n  if (isolationUser && Object.keys(isolationUser).length) {\n    return isolationUser;\n  }\n  return globalUser;\n}\n\nexport const feedbackModalIntegration = ((): FeedbackModalIntegration => {\n  return {\n    name: 'FeedbackModal',\n    setupOnce() {},\n    createDialog: ({ options, screenshotIntegration, sendFeedback, shadow }) => {\n      const shadowRoot = shadow as unknown as ShadowRoot;\n      const userKey = options.useSentryUser;\n      const user = getUser();\n\n      const el = DOCUMENT.createElement('div');\n      const style = createDialogStyles(options.styleNonce);\n\n      let originalOverflow = '';\n      const dialog: ReturnType<FeedbackModalIntegration['createDialog']> = {\n        get el() {\n          return el;\n        },\n        appendToDom(): void {\n          if (!shadowRoot.contains(style) && !shadowRoot.contains(el)) {\n            shadowRoot.appendChild(style);\n            shadowRoot.appendChild(el);\n          }\n        },\n        removeFromDom(): void {\n          el.remove();\n          style.remove();\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n        open() {\n          renderContent(true);\n          options.onFormOpen?.();\n          getClient()?.emit('openFeedbackWidget');\n          originalOverflow = DOCUMENT.body.style.overflow;\n          DOCUMENT.body.style.overflow = 'hidden';\n        },\n        close() {\n          renderContent(false);\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n      };\n\n      const screenshotInput = screenshotIntegration?.createInput({ h, hooks, dialog, options });\n\n      const renderContent = (open: boolean): void => {\n        render(\n          <Dialog\n            options={options}\n            screenshotInput={screenshotInput}\n            showName={options.showName || options.isNameRequired}\n            showEmail={options.showEmail || options.isEmailRequired}\n            defaultName={(userKey && user?.[userKey.name]) || ''}\n            defaultEmail={(userKey && user?.[userKey.email]) || ''}\n            onFormClose={() => {\n              renderContent(false);\n              options.onFormClose?.();\n            }}\n            onSubmit={sendFeedback}\n            onSubmitSuccess={(data: FeedbackFormData, eventId: string) => {\n              renderContent(false);\n              options.onSubmitSuccess?.(data, eventId);\n            }}\n            onSubmitError={(error: Error) => {\n              options.onSubmitError?.(error);\n            }}\n            onFormSubmitted={() => {\n              options.onFormSubmitted?.();\n            }}\n            open={open}\n          />,\n          el,\n        );\n      };\n\n      return dialog;\n    },\n  };\n}) satisfies IntegrationFn;\n","import type { h as hType, VNode } from 'preact';\n\ninterface FactoryParams {\n  h: typeof hType;\n}\n\nexport default function IconCloseFactory({\n  h, // eslint-disable-line @typescript-eslint/no-unused-vars\n}: FactoryParams) {\n  return function IconClose(): VNode {\n    return (\n      <svg data-test-id=\"icon-close\" viewBox=\"0 0 16 16\" fill=\"#2B2233\" height=\"25px\" width=\"25px\">\n        <circle r=\"7\" cx=\"8\" cy=\"8\" fill=\"white\" />\n        <path\n          strokeWidth=\"1.5\"\n          d=\"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z\"\n        ></path>\n        <path\n          strokeWidth=\"1.5\"\n          d=\"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z\"\n        ></path>\n        <path\n          strokeWidth=\"1.5\"\n          d=\"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z\"\n        ></path>\n      </svg>\n    );\n  };\n}\n","import { DOCUMENT } from '../../constants';\n\n/**\n * Creates <style> element for widget dialog\n */\nexport function createScreenshotInputStyles(styleNonce?: string): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n\n  const surface200 = '#1A141F';\n  const gray100 = '#302735';\n\n  style.textContent = `\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${surface200};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${surface200} 8px,\n      ${surface200} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${gray100} 15px,\n      ${gray100} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","import type { h as hType, VNode } from 'preact';\nimport type * as Hooks from 'preact/hooks';\n\ninterface FactoryParams {\n  h: typeof hType;\n}\n\nexport default function ToolbarFactory({\n  h, // eslint-disable-line @typescript-eslint/no-unused-vars\n}: FactoryParams) {\n  return function Toolbar({\n    action,\n    setAction,\n  }: {\n    action: 'highlight' | 'hide' | '';\n    setAction: Hooks.StateUpdater<'highlight' | 'hide' | ''>;\n  }): VNode {\n    return (\n      <div class=\"editor__tool-container\">\n        <div class=\"editor__tool-bar\">\n          <button\n            type=\"button\"\n            class={`editor__tool ${action === 'highlight' ? 'editor__tool--active' : ''}`}\n            onClick={() => {\n              setAction(action === 'highlight' ? '' : 'highlight');\n            }}\n          >\n            Highlight\n          </button>\n          <button\n            type=\"button\"\n            class={`editor__tool ${action === 'hide' ? 'editor__tool--active' : ''}`}\n            onClick={() => {\n              setAction(action === 'hide' ? '' : 'hide');\n            }}\n          >\n            Hide\n          </button>\n        </div>\n      </div>\n    );\n  };\n}\n","import type * as Hooks from 'preact/hooks';\nimport { DOCUMENT, NAVIGATOR, WINDOW } from '../../constants';\n\ninterface FactoryParams {\n  hooks: typeof Hooks;\n}\n\ninterface Props {\n  onBeforeScreenshot: () => void;\n  onScreenshot: (imageSource: HTMLVideoElement, dpi: number) => void;\n  onAfterScreenshot: () => void;\n  onError: (error: Error) => void;\n}\n\ntype UseTakeScreenshot = ({ onBeforeScreenshot, onScreenshot, onAfterScreenshot, onError }: Props) => void;\n\nexport function useTakeScreenshotFactory({ hooks }: FactoryParams): UseTakeScreenshot {\n  function useDpi(): number {\n    const [dpi, setDpi] = hooks.useState<number>(WINDOW.devicePixelRatio ?? 1);\n    hooks.useEffect(() => {\n      const onChange = (): void => {\n        setDpi(WINDOW.devicePixelRatio);\n      };\n      const media = matchMedia(`(resolution: ${WINDOW.devicePixelRatio}dppx)`);\n      media.addEventListener('change', onChange);\n      return () => {\n        media.removeEventListener('change', onChange);\n      };\n    }, []);\n\n    return dpi;\n  }\n\n  return function useTakeScreenshot({ onBeforeScreenshot, onScreenshot, onAfterScreenshot, onError }: Props) {\n    const dpi = useDpi();\n\n    hooks.useEffect(() => {\n      const takeScreenshot = async (): Promise<void> => {\n        onBeforeScreenshot();\n\n        // Chrome will animate a top-bar which can shrink the window height by a\n        // few pixels. The exact amount depends on how fast it takes to exec\n        // the onloadedmetadata callback.\n        // https://stackoverflow.com/q/75833049\n        const stream = await NAVIGATOR.mediaDevices.getDisplayMedia({\n          video: {\n            width: WINDOW.innerWidth * dpi,\n            height: WINDOW.innerHeight * dpi,\n          },\n          audio: false,\n          // @ts-expect-error experimental flags: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia#prefercurrenttab\n          monitorTypeSurfaces: 'exclude',\n          preferCurrentTab: true,\n          selfBrowserSurface: 'include',\n          surfaceSwitching: 'exclude',\n        });\n\n        const video = DOCUMENT.createElement('video');\n        await new Promise<void>((resolve, reject) => {\n          video.srcObject = stream;\n          video.onloadedmetadata = () => {\n            onScreenshot(video, dpi);\n            stream.getTracks().forEach(track => track.stop());\n            resolve();\n          };\n          video.play().catch(reject);\n        });\n        onAfterScreenshot();\n      };\n\n      takeScreenshot().catch(onError);\n    }, []);\n  };\n}\n","import type { FeedbackInternalOptions, FeedbackModalIntegration } from '@sentry/core';\nimport type { ComponentType, h as hType, VNode } from 'preact';\nimport { h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport type * as Hooks from 'preact/hooks';\nimport { DOCUMENT, WINDOW } from '../../constants';\nimport IconCloseFactory from './IconClose';\nimport { createScreenshotInputStyles } from './ScreenshotInput.css';\nimport ToolbarFactory from './Toolbar';\nimport { useTakeScreenshotFactory } from './useTakeScreenshot';\n\ninterface FactoryParams {\n  h: typeof hType;\n  hooks: typeof Hooks;\n\n  /**\n   * A ref to a Canvas Element that serves as our \"value\" or image output.\n   */\n  outputBuffer: HTMLCanvasElement;\n\n  /**\n   * A reference to the whole dialog (the parent of this component) so that we\n   * can show/hide it and take a clean screenshot of the webpage.\n   */\n  dialog: ReturnType<FeedbackModalIntegration['createDialog']>;\n\n  /**\n   * The whole options object.\n   *\n   * Needed to set nonce and id values for editor specific styles\n   */\n  options: FeedbackInternalOptions;\n}\n\ninterface Props {\n  onError: (error: Error) => void;\n}\n\ntype MaybeCanvas = HTMLCanvasElement | null;\ntype Screenshot = { canvas: HTMLCanvasElement; dpi: number };\n\ntype DrawType = 'highlight' | 'hide' | '';\ninterface DrawCommand {\n  type: DrawType;\n  x: number;\n  y: number;\n  h: number;\n  w: number;\n}\n\nfunction drawRect(command: DrawCommand, ctx: CanvasRenderingContext2D, color: string): void {\n  switch (command.type) {\n    case 'highlight': {\n      // creates a shadow around\n      ctx.shadowColor = 'rgba(0, 0, 0, 0.7)';\n      ctx.shadowBlur = 50;\n\n      // draws a rectangle first with a shadow\n      ctx.fillStyle = color;\n      ctx.fillRect(command.x - 1, command.y - 1, command.w + 2, command.h + 2);\n\n      // cut out the inside of the rectangle\n      ctx.clearRect(command.x, command.y, command.w, command.h);\n\n      break;\n    }\n    case 'hide':\n      ctx.fillStyle = 'rgb(0, 0, 0)';\n      ctx.fillRect(command.x, command.y, command.w, command.h);\n\n      break;\n    default:\n      break;\n  }\n}\n\nfunction with2dContext(\n  canvas: MaybeCanvas,\n  options: CanvasRenderingContext2DSettings,\n  callback: (canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D) => void,\n): void {\n  if (!canvas) {\n    return;\n  }\n  const ctx = canvas.getContext('2d', options);\n  if (!ctx) {\n    return;\n  }\n  callback(canvas, ctx);\n}\n\nfunction paintImage(maybeDest: MaybeCanvas, source: HTMLCanvasElement): void {\n  with2dContext(maybeDest, { alpha: true }, (destCanvas, destCtx) => {\n    destCtx.drawImage(source, 0, 0, source.width, source.height, 0, 0, destCanvas.width, destCanvas.height);\n  });\n}\n\n// Paint the array of drawCommands into a canvas.\n// Assuming this is the canvas foreground, and the background is cleaned.\nfunction paintForeground(maybeCanvas: MaybeCanvas, strokeColor: string, drawCommands: DrawCommand[]): void {\n  with2dContext(maybeCanvas, { alpha: true }, (canvas, ctx) => {\n    // If there's anything to draw, then we'll first clear the canvas with\n    // a transparent grey background\n    if (drawCommands.length) {\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n\n    drawCommands.forEach(command => {\n      drawRect(command, ctx, strokeColor);\n    });\n  });\n}\n\nexport function ScreenshotEditorFactory({\n  h,\n  hooks,\n  outputBuffer,\n  dialog,\n  options,\n}: FactoryParams): ComponentType<Props> {\n  const useTakeScreenshot = useTakeScreenshotFactory({ hooks });\n  const Toolbar = ToolbarFactory({ h });\n  const IconClose = IconCloseFactory({ h });\n  const editorStyleInnerText = { __html: createScreenshotInputStyles(options.styleNonce).innerText };\n\n  const dialogStyle = (dialog.el as HTMLElement).style;\n\n  const ScreenshotEditor = ({ screenshot }: { screenshot: Screenshot }): VNode => {\n    // Data for rendering:\n    const [action, setAction] = hooks.useState<DrawType>('highlight');\n    const [drawCommands, setDrawCommands] = hooks.useState<DrawCommand[]>([]);\n\n    // Refs to our html components:\n    const measurementRef = hooks.useRef<HTMLDivElement | null>(null);\n    const backgroundRef = hooks.useRef<MaybeCanvas>(null);\n    const foregroundRef = hooks.useRef<MaybeCanvas>(null);\n    const mouseRef = hooks.useRef<HTMLDivElement | null>(null);\n\n    // The size of our window, relative to the imageSource\n    const [scaleFactor, setScaleFactor] = hooks.useState<number>(1);\n\n    const strokeColor = hooks.useMemo((): string => {\n      const sentryFeedback = DOCUMENT.getElementById(options.id);\n      if (!sentryFeedback) {\n        return 'white';\n      }\n      const computedStyle = getComputedStyle(sentryFeedback);\n      return (\n        computedStyle.getPropertyValue('--button-primary-background') ||\n        computedStyle.getPropertyValue('--accent-background')\n      );\n    }, [options.id]);\n\n    // The initial resize, to measure the area and set the children to the correct size\n    hooks.useLayoutEffect(() => {\n      const handleResize = (): void => {\n        const measurementDiv = measurementRef.current;\n        if (!measurementDiv) {\n          return;\n        }\n\n        with2dContext(screenshot.canvas, { alpha: false }, canvas => {\n          const scale = Math.min(\n            measurementDiv.clientWidth / canvas.width,\n            measurementDiv.clientHeight / canvas.height,\n          );\n          setScaleFactor(scale);\n        });\n\n        // For Firefox, the canvas is not yet measured, so we need to wait for it to get the correct size\n        if (measurementDiv.clientHeight === 0 || measurementDiv.clientWidth === 0) {\n          setTimeout(handleResize, 0);\n        }\n      };\n\n      handleResize();\n      WINDOW.addEventListener('resize', handleResize);\n      return () => {\n        WINDOW.removeEventListener('resize', handleResize);\n      };\n    }, [screenshot]);\n\n    // Set the size of the canvas element to match our screenshot\n    const setCanvasSize = hooks.useCallback(\n      (maybeCanvas: MaybeCanvas, scale: number): void => {\n        with2dContext(maybeCanvas, { alpha: true }, (canvas, ctx) => {\n          // Must call `scale()` before setting `width` & `height`\n          ctx.scale(scale, scale);\n          canvas.width = screenshot.canvas.width;\n          canvas.height = screenshot.canvas.height;\n        });\n      },\n      [screenshot],\n    );\n\n    // Draw the screenshot into the background\n    hooks.useEffect(() => {\n      setCanvasSize(backgroundRef.current, screenshot.dpi);\n      paintImage(backgroundRef.current, screenshot.canvas);\n    }, [screenshot]);\n\n    // Draw the commands into the foreground\n    hooks.useEffect(() => {\n      setCanvasSize(foregroundRef.current, screenshot.dpi);\n      with2dContext(foregroundRef.current, { alpha: true }, (canvas, ctx) => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n      paintForeground(foregroundRef.current, strokeColor, drawCommands);\n    }, [drawCommands, strokeColor]);\n\n    // Draw into the output outputBuffer\n    hooks.useEffect(() => {\n      setCanvasSize(outputBuffer, screenshot.dpi);\n      paintImage(outputBuffer, screenshot.canvas);\n      with2dContext(DOCUMENT.createElement('canvas'), { alpha: true }, (foreground, ctx) => {\n        ctx.scale(screenshot.dpi, screenshot.dpi); // The scale needs to be set before we set the width/height and paint\n        foreground.width = screenshot.canvas.width;\n        foreground.height = screenshot.canvas.height;\n        paintForeground(foreground, strokeColor, drawCommands);\n        paintImage(outputBuffer, foreground);\n      });\n    }, [drawCommands, screenshot, strokeColor]);\n\n    const handleMouseDown = (e: MouseEvent): void => {\n      if (!action || !mouseRef.current) {\n        return;\n      }\n\n      const boundingRect = mouseRef.current.getBoundingClientRect();\n      const startingPoint: DrawCommand = {\n        type: action,\n        x: e.offsetX / scaleFactor,\n        y: e.offsetY / scaleFactor,\n        w: 0,\n        h: 0,\n      };\n\n      const getDrawCommand = (startingPoint: DrawCommand, e: MouseEvent): DrawCommand => {\n        const x = (e.clientX - boundingRect.x) / scaleFactor;\n        const y = (e.clientY - boundingRect.y) / scaleFactor;\n        return {\n          type: startingPoint.type,\n          x: Math.min(startingPoint.x, x),\n          y: Math.min(startingPoint.y, y),\n          w: Math.abs(x - startingPoint.x),\n          h: Math.abs(y - startingPoint.y),\n        } as DrawCommand;\n      };\n\n      const handleMouseMove = (e: MouseEvent): void => {\n        with2dContext(foregroundRef.current, { alpha: true }, (canvas, ctx) => {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        });\n        paintForeground(foregroundRef.current, strokeColor, [...drawCommands, getDrawCommand(startingPoint, e)]);\n      };\n\n      const handleMouseUp = (e: MouseEvent): void => {\n        const drawCommand = getDrawCommand(startingPoint, e);\n\n        // Prevent just clicking onto the canvas, mouse has to move at least 1 pixel\n        if (drawCommand.w * scaleFactor >= 1 && drawCommand.h * scaleFactor >= 1) {\n          setDrawCommands(prev => [...prev, drawCommand]);\n        }\n        DOCUMENT.removeEventListener('mousemove', handleMouseMove);\n        DOCUMENT.removeEventListener('mouseup', handleMouseUp);\n      };\n\n      DOCUMENT.addEventListener('mousemove', handleMouseMove);\n      DOCUMENT.addEventListener('mouseup', handleMouseUp);\n    };\n\n    const deleteRect = hooks.useCallback((index: number): hType.JSX.MouseEventHandler<HTMLButtonElement> => {\n      return (e: MouseEvent): void => {\n        e.preventDefault();\n        e.stopPropagation();\n        setDrawCommands(prev => {\n          const updatedRects = [...prev];\n          updatedRects.splice(index, 1);\n          return updatedRects;\n        });\n      };\n    }, []);\n\n    const dimensions = {\n      width: `${screenshot.canvas.width * scaleFactor}px`,\n      height: `${screenshot.canvas.height * scaleFactor}px`,\n    };\n\n    const handleStopPropagation = (e: MouseEvent): void => {\n      e.stopPropagation();\n    };\n\n    return (\n      <div class=\"editor\">\n        <style nonce={options.styleNonce} dangerouslySetInnerHTML={editorStyleInnerText} />\n        <div class=\"editor__image-container\">\n          <div class=\"editor__canvas-container\" ref={measurementRef}>\n            <canvas ref={backgroundRef} id=\"background\" style={dimensions} />\n            <canvas ref={foregroundRef} id=\"foreground\" style={dimensions} />\n            <div ref={mouseRef} onMouseDown={handleMouseDown} style={dimensions}>\n              {drawCommands.map((rect, index) => (\n                <div\n                  key={index}\n                  class=\"editor__rect\"\n                  style={{\n                    top: `${rect.y * scaleFactor}px`,\n                    left: `${rect.x * scaleFactor}px`,\n                    width: `${rect.w * scaleFactor}px`,\n                    height: `${rect.h * scaleFactor}px`,\n                  }}\n                >\n                  <button\n                    aria-label=\"Remove\"\n                    onClick={deleteRect(index)}\n                    onMouseDown={handleStopPropagation}\n                    onMouseUp={handleStopPropagation}\n                    type=\"button\"\n                  >\n                    <IconClose />\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n        <Toolbar action={action} setAction={setAction} />\n      </div>\n    );\n  };\n\n  return function Wrapper({ onError }: Props): VNode {\n    const [screenshot, setScreenshot] = hooks.useState<undefined | Screenshot>();\n\n    useTakeScreenshot({\n      onBeforeScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'none';\n      }, []),\n      onScreenshot: hooks.useCallback((screenshotVideo: HTMLVideoElement, dpi: number) => {\n        // Stash the original screenshot image so we can (re)draw it multiple times\n        with2dContext(DOCUMENT.createElement('canvas'), { alpha: false }, (canvas, ctx) => {\n          ctx.scale(dpi, dpi); // The scale needs to be set before we set the width/height and paint\n          canvas.width = screenshotVideo.videoWidth;\n          canvas.height = screenshotVideo.videoHeight;\n          ctx.drawImage(screenshotVideo, 0, 0, canvas.width, canvas.height);\n\n          setScreenshot({ canvas, dpi });\n        });\n\n        // The output buffer, we only need to set the width/height on this once, it stays the same forever\n        outputBuffer.width = screenshotVideo.videoWidth;\n        outputBuffer.height = screenshotVideo.videoHeight;\n      }, []),\n      onAfterScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'block';\n      }, []),\n      onError: hooks.useCallback(error => {\n        dialogStyle.display = 'block';\n        onError(error);\n      }, []),\n    });\n\n    if (screenshot) {\n      return <ScreenshotEditor screenshot={screenshot} />;\n    }\n\n    return <div />;\n  };\n}\n","import type { Attachment, FeedbackScreenshotIntegration, IntegrationFn } from '@sentry/core';\nimport type { h as hType } from 'preact';\nimport type * as Hooks from 'preact/hooks';\nimport { DOCUMENT } from '../constants';\nimport { ScreenshotEditorFactory } from './components/ScreenshotEditor';\n\nexport const feedbackScreenshotIntegration = ((): FeedbackScreenshotIntegration => {\n  return {\n    name: 'FeedbackScreenshot',\n    setupOnce() {},\n    createInput: ({ h, hooks, dialog, options }) => {\n      const outputBuffer = DOCUMENT.createElement('canvas');\n\n      return {\n        input: ScreenshotEditorFactory({\n          h: h as typeof hType,\n          hooks: hooks as typeof Hooks,\n          outputBuffer,\n          dialog,\n          options,\n        }) as any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\n        value: async () => {\n          const blob = await new Promise<Parameters<BlobCallback>[0]>(resolve => {\n            outputBuffer.toBlob(resolve, 'image/png');\n          });\n          if (blob) {\n            const data = new Uint8Array(await blob.arrayBuffer());\n            const attachment: Attachment = {\n              data,\n              filename: 'screenshot.png',\n              contentType: 'application/png',\n              // attachmentType?: string;\n            };\n            return attachment;\n          }\n          return undefined;\n        },\n      };\n    },\n  };\n}) satisfies IntegrationFn;\n"],"mappings":";;AAEA;AACA;AACA;AACO,MAAMA,MAAA,GAASC,UAAA;AACf,MAAMC,QAAA,GAAWF,MAAM,CAACG,QAAQ;AAChC,MAAMC,SAAA,GAAYJ,MAAM,CAACK,SAAS;AAElC,MAAMC,aAAA,GAAgB,cAAc;AACpC,MAAMC,mBAAA,GAAsB,QAAQ;AACpC,MAAMC,mBAAA,GAAsB,iBAAiB;AAC7C,MAAMC,oBAAA,GAAuB,SAAS;AACtC,MAAMC,UAAA,GAAa,cAAc;AACjC,MAAMC,iBAAA,GAAoB,wBAAwB;AAClD,MAAMC,WAAA,GAAc,OAAO;AAC3B,MAAMC,mBAAA,GAAsB,sCAAsC;AAClE,MAAMC,aAAA,GAAgB,aAAa;AACnC,MAAMC,gBAAA,GAAmB,WAAW;AACpC,MAAMC,UAAA,GAAa,MAAM;AACzB,MAAMC,oBAAA,GAAuB,4BAA4B;AACzD,MAAMC,iBAAA,GAAoB,YAAY;AACtC,MAAMC,oBAAA,GAAuB,kBAAkB;AAC/C,MAAMC,uBAAA,GAA0B,mBAAmB;AAEnD,MAAMC,sBAAA,GAAyB,QAAQ;AACvC,MAAMC,mBAAA,GAAsB,KAAK;AAEjC,MAAMC,uBAAA,GAA0B,IAAI;;ACxB3C;AACA;AACA;AACO,MAAMC,YAAY,GAAiB,SAAAA,CACxCC,MAAM,EAEc;EAAA,IADpBC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA4C;IAAEG,aAAa,EAAE;EAAA,CAAM;EAEvE,IAAI,CAACL,MAAM,CAACM,OAAO,EAAE;IACnB,MAAM,IAAIC,KAAK,CAAC,8CAA8C,CAAC;EACnE;;EAEA;EACE,MAAMC,MAAA,GAASC,SAAS,EAAE;EAE1B,IAAI,CAACD,MAAM,EAAE;IACX,MAAM,IAAID,KAAK,CAAC,wCAAwC,CAAC;EAC7D;EAEE,IAAIP,MAAM,CAACU,IAAA,IAAQC,MAAM,CAACC,IAAI,CAACZ,MAAM,CAACU,IAAI,CAAC,CAACP,MAAM,EAAE;IAClDU,eAAe,EAAE,CAACC,OAAO,CAACd,MAAM,CAACU,IAAI,CAAC;EAC1C;EACE,MAAMK,OAAA,GAAUC,eAAe,CAC7B;IACEC,MAAM,EAAEpB,mBAAmB;IAC3BqB,GAAG,EAAEC,eAAe,EAAE;IACtB,GAAGnB;EACT,CAAK,EACDC,IACJ,CAAG;;EAEH;EACE,OAAO,IAAImB,OAAO,CAAS,CAACC,OAAO,EAAEC,MAAM,KAAK;IAClD;IACI,MAAMC,OAAA,GAAUC,UAAU,CAAC,MAAMF,MAAM,CAAC,qDAAqD,CAAC,EAAE,KAAM,CAAC;IAEvG,MAAMG,OAAA,GAAUjB,MAAM,CAACkB,EAAE,CAAC,gBAAgB,EAAE,CAACC,KAAK,EAASC,QAAQ,KAAmC;MACpG,IAAID,KAAK,CAACE,QAAA,KAAad,OAAO,EAAE;QAC9B;MACR;MAEMe,YAAY,CAACP,OAAO,CAAC;MACrBE,OAAO,EAAE;;MAEf;MACM,IACEG,QAAA,IACA,OAAOA,QAAQ,CAACG,UAAA,KAAe,YAC/BH,QAAQ,CAACG,UAAA,IAAc,OACvBH,QAAQ,CAACG,UAAA,GAAa,KACtB;QACA,OAAOV,OAAO,CAACN,OAAO,CAAC;MAC/B;MAEM,IAAIa,QAAA,IAAY,OAAOA,QAAQ,CAACG,UAAA,KAAe,YAAYH,QAAQ,CAACG,UAAA,KAAe,CAAC,EAAE;QACpF,OAAOT,MAAM,CACX,qGACV,CAAS;MACT;MAEM,IAAIM,QAAA,IAAY,OAAOA,QAAQ,CAACG,UAAA,KAAe,YAAYH,QAAQ,CAACG,UAAA,KAAe,GAAG,EAAE;QACtF,OAAOT,MAAM,CACX,oGACV,CAAS;MACT;MAEM,OAAOA,MAAM,CACX,0GACR,CAAO;IACP,CAAK,CAAC;EACN,CAAG,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClHA;AACA;AACA;AACA;AACA;AACO,MAAMU,WAAA,GAAc,OAAAC,gBAAA,oBAAAA,gBAAe;;ACL1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,qBAAqBA,CAAA,EAAY;EAC/C,IAAI,gEAAgE,CAACC,IAAI,CAACxD,SAAS,CAACyD,SAAS,CAAC,EAAE;IAC9F,OAAO,KAAK;EAChB;EACA;AACA;AACA;AACA;AACA;AACA;EACE,IAAI,YAAY,CAACD,IAAI,CAACxD,SAAS,CAACyD,SAAS,KAAKzD,SAAS,CAAC0D,cAAA,IAAkB1D,SAAS,CAAC0D,cAAA,GAAiB,CAAC,EAAE;IACtG,OAAO,KAAK;EAChB;EACE,IAAI,CAACC,eAAe,EAAE;IACpB,OAAO,KAAK;EAChB;EACE,OAAO,IAAI;AACb;;AC7BA;AACA;AACA;AACO,SAASC,YAAYA,CAC1BC,cAAc,EACdC,eAAe,EACU;EACzB,OAAO;IACL,GAAGD,cAAc;IACjB,GAAGC,eAAe;IAClB/B,IAAI,EAAE;MACJ,GAAG8B,cAAc,CAAC9B,IAAI;MACtB,GAAG+B,eAAe,CAAC/B;IACzB,CAAK;IACDgC,UAAU,EAAEA,CAAA,KAAM;MAChBD,eAAe,CAACC,UAAU,IAAI;MAC9BF,cAAc,CAACE,UAAU,IAAI;IACnC,CAAK;IACDC,WAAW,EAAEA,CAAA,KAAM;MACjBF,eAAe,CAACE,WAAW,IAAI;MAC/BH,cAAc,CAACG,WAAW,IAAI;IACpC,CAAK;IACDC,eAAe,EAAEA,CAACC,IAAI,EAAoB9B,OAAO,KAAa;MAC5D0B,eAAe,CAACG,eAAe,GAAGC,IAAI,EAAE9B,OAAO,CAAC;MAChDyB,cAAc,CAACI,eAAe,GAAGC,IAAI,EAAE9B,OAAO,CAAC;IACrD,CAAK;IACD+B,aAAa,EAAGC,KAAK,IAAY;MAC/BN,eAAe,CAACK,aAAa,GAAGC,KAAK,CAAC;MACtCP,cAAc,CAACM,aAAa,GAAGC,KAAK,CAAC;IAC3C,CAAK;IACDC,eAAe,EAAEA,CAAA,KAAM;MACrBP,eAAe,CAACO,eAAe,IAAI;MACnCR,cAAc,CAACQ,eAAe,IAAI;IACxC,CAAK;IACDC,SAAS,EAAE;MACT,GAAGT,cAAc,CAACS,SAAS;MAC3B,GAAGR,eAAe,CAACQ;IACzB,CAAK;IACDC,UAAU,EAAE;MACV,GAAGV,cAAc,CAACU,UAAU;MAC5B,GAAGT,eAAe,CAACS;IACzB;EACA,CAAG;AACH;;AC5CA;AACA;AACA;AACO,SAASC,iBAAiBA,CAACC,UAAU,EAA6B;EACvE,MAAMC,KAAA,GAAQ5E,QAAQ,CAAC6E,aAAa,CAAC,OAAO,CAAC;EAC7CD,KAAK,CAACE,WAAA,GAAc;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;EAEC,IAAIH,UAAU,EAAE;IACdC,KAAK,CAACG,YAAY,CAAC,OAAO,EAAEJ,UAAU,CAAC;EAC3C;EAEE,OAAOC,KAAK;AACd;;ACjEA;AACA;AACA;AACO,SAASI,eAAeA,CAAuBC,EAAE,EAAKC,UAAU,EAA6B;EAClGhD,MAAM,CAACiD,OAAO,CAACD,UAAU,CAAC,CAACE,OAAO,CAACC,IAAA,IAAgB;IAAA,IAAf,CAACC,GAAG,EAAEC,GAAG,CAAC,GAAAF,IAAA;IAC5CJ,EAAE,CAACO,cAAc,CAAC,IAAI,EAAEF,GAAG,EAAEC,GAAG,CAAC;EACrC,CAAG,CAAC;EACF,OAAON,EAAE;AACX;ACLA,MAAMQ,IAAA,GAAO,EAAE;AACf,MAAMC,OAAA,GAAQ,4BAA4B;;AAE1C;AACA;AACA;AACO,SAASC,YAAYA,CAAA,EAAe;EACzC,MAAMC,eAAA,GAAyDC,OAAO,IACpE/F,MAAM,CAACG,QAAQ,CAAC2F,eAAe,CAACF,OAAK,EAAEG,OAAO,CAAC;EACjD,MAAMC,GAAA,GAAMd,eAAe,CAACY,eAAe,CAAC,KAAK,CAAC,EAAE;IAClDG,KAAK,EAAE,GAACN,IAAA;IACAO,MAAA,KAAAP,IAAA;IACAQ,OAAA,SAAAR,IAAA,IAAAA,IAAA;IACAS,IAAA;EACA;EAEA,MAAAC,CAAA,GAAAnB,eAAA,CAAAY,eAAA;IACAQ,QAAA;EACA;EAEA,MAAAC,IAAA,GAAArB,eAAA,CAAAY,eAAA;IACA;IACA;IACAU,CAAA;EACA;EACAR,GAAA,CAAAS,WAAA,CAAAJ,CAAA,EAAAI,WAAA,CAAAF,IAAA;EAEA,MAAAG,WAAA,GAAAZ,eAAA;EACA,MAAAa,kBAAA,GAAAzB,eAAA,CAAAY,eAAA;IACAc,EAAA;EACA;EAEA,MAAAC,WAAA,GAAA3B,eAAA,CAAAY,eAAA;IACAG,KAAA,KAAAN,IAAA;IACAO,MAAA,KAAAP,IAAA;IACAS,IAAA;EACA;EAEAO,kBAAA,CAAAF,WAAA,CAAAI,WAAA;EACAH,WAAA,CAAAD,WAAA,CAAAE,kBAAA;EAEAX,GAAA,CAAAS,WAAA,CAAAC,WAAA,EAAAD,WAAA,CAAAE,kBAAA,EAAAF,WAAA,CAAAI,WAAA;EAEA,OAAAb,GAAA;AACA;;ACxBZ;AACA;AACA;AACO,SAASc,KAAKA,CAAAC,KAAA,EAAqF;EAAA,IAApF;IAAEC,YAAY;IAAEC,gBAAgB;IAAEC,MAAM;IAAErC;EAAA,CAAY,GAAAkC,KAAA;EAC1E,MAAM5B,EAAA,GAAKjF,QAAQ,CAAC6E,aAAa,CAAC,QAAQ,CAAC;EAC3CI,EAAE,CAACgC,IAAA,GAAO,QAAQ;EAClBhC,EAAE,CAACiC,SAAA,GAAY,eAAe;EAC9BjC,EAAE,CAACkC,UAAA,GAAa,OAAO;EACvBlC,EAAE,CAACmC,SAAA,GAAYL,gBAAA,IAAoBD,YAAA,IAAgB1G,aAAa;EAChE6E,EAAE,CAACsB,WAAW,CAACZ,YAAY,EAAE,CAAC;EAC9B,IAAImB,YAAY,EAAE;IAChB,MAAMO,KAAA,GAAQrH,QAAQ,CAAC6E,aAAa,CAAC,MAAM,CAAC;IAC5CwC,KAAK,CAACd,WAAW,CAACvG,QAAQ,CAACsH,cAAc,CAACR,YAAY,CAAC,CAAC;IACxD7B,EAAE,CAACsB,WAAW,CAACc,KAAK,CAAC;EACzB;EAEE,MAAMzC,KAAA,GAAQF,iBAAiB,CAACC,UAAU,CAAC;EAE3C,OAAO;IACLM,EAAE;IACFsC,WAAWA,CAAA,EAAS;MAClBP,MAAM,CAACT,WAAW,CAAC3B,KAAK,CAAC;MACzBoC,MAAM,CAACT,WAAW,CAACtB,EAAE,CAAC;IAC5B,CAAK;IACDuC,aAAaA,CAAA,EAAS;MACpBvC,EAAE,CAACwC,MAAM,EAAE;MACX7C,KAAK,CAAC6C,MAAM,EAAE;IACpB,CAAK;IACDC,IAAIA,CAAA,EAAS;MACXzC,EAAE,CAACkC,UAAA,GAAa,OAAO;IAC7B,CAAK;IACDQ,IAAIA,CAAA,EAAS;MACX1C,EAAE,CAACkC,UAAA,GAAa,MAAM;IAC5B;EACA,CAAG;AACH;ACvDA,MAAMS,MAAA,GAAS,sBAAsB;AAOrC,MAAMC,aAAa,GAAkB;EACnCC,UAAU,EAAE,SAAS;EACrBC,UAAU,EAAE,SAAS;EACrBC,gBAAgB,EAAE,OAAO;EACzBC,gBAAgB,EAAEL,MAAM;EACxBM,YAAY,EAAE,SAAS;EACvBC,UAAU,EAAE,SAAS;EACrBC,MAAM,EAAE,oCAAoC;EAC5CC,SAAS,EAAE,yCAAyC;EACpDC,OAAO,EAAE,mCAAmC;EAC5CC,iBAAiB,EAAE;AACrB,CAAC;AACD,MAAMC,YAAY,GAAkB;EAClCV,UAAU,EAAE,SAAS;EACrBC,UAAU,EAAE,SAAS;EACrBC,gBAAgB,EAAE,OAAO;EACzBC,gBAAgB,EAAEL,MAAM;EACxBM,YAAY,EAAE,SAAS;EACvBC,UAAU,EAAE,SAAS;EACrBC,MAAM,EAAE,uCAAuC;EAC/CC,SAAS,EAAE,yCAAyC;EACpDC,OAAO,EAAE,mCAAmC;EAC5CC,iBAAiB,EAAE;AACrB,CAAC;AAED,SAASE,qBAAqBA,CAACC,KAAK,EAAyB;EAC3D,OAAO;AACT,kBAAkBA,KAAK,CAACZ,UAAU;AAClC,kBAAkBY,KAAK,CAACX,UAAU;AAClC,yBAAyBW,KAAK,CAACV,gBAAgB;AAC/C,yBAAyBU,KAAK,CAACT,gBAAgB;AAC/C,qBAAqBS,KAAK,CAACR,YAAY;AACvC,mBAAmBQ,KAAK,CAACP,UAAU;AACnC,cAAcO,KAAK,CAACN,MAAM;AAC1B,kBAAkBM,KAAK,CAACL,SAAS;AACjC,eAAeK,KAAK,CAACJ,OAAO;AAC5B,0BAA0BI,KAAK,CAACH,iBAAiB;AACjD,GAAG;AACH;;AAEA;AACA;AACA;AACO,SAASI,gBAAgBA,CAAAC,KAAA,EAKc;EAAA,IALb;IAC/BC,WAAW;IACXrE,SAAS;IACTC,UAAU;IACVE;EACF,CAAC,GAAAiE,KAAA;EACC,MAAMhE,KAAA,GAAQ5E,QAAQ,CAAC6E,aAAa,CAAC,OAAO,CAAC;EAC7CD,KAAK,CAACE,WAAA,GAAc;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,IAAI+D,WAAA,KAAgB,WAAW,8BAA8B,EAAE;;AAE/D,IAAIJ,qBAAqB,CACrBI,WAAA,KAAgB,SAAS;IAAE,GAAGL,YAAY;IAAE,GAAGhE;EAAA,CAAU,GAAI;IAAE,GAAGqD,aAAa;IAAE,GAAGpD;EAAA,CACxF,CAAG;AACH;;AAEA,EACEoE,WAAA,KAAgB,WACZ;AACN;AACA;AACA,MAAMJ,qBAAqB,CAAC;IAAE,GAAGD,YAAY;IAAE,GAAGhE;EAAA,CAAW,CAAC;AAC9D;AACA,EAAC,GACK;AACN;AACA,CACC;EAEC,IAAIG,UAAU,EAAE;IACdC,KAAK,CAACG,YAAY,CAAC,OAAO,EAAEJ,UAAU,CAAC;EAC3C;EAEE,OAAOC,KAAK;AACd;ACxCO,MAAMkE,wBAAA,GAA2BC,KAAA,IAanC;EAAA,IAboC;IACvCC,mBAAmB;IACnBC,mBAAmB;IACnBC;EACF,IAAAH,KAAA;EAUE,MAAMI,mBAAA,GAAuB,SAAAA,CAAA,EA+Ca;IAAA,IA/CZ;MAChC;MACIzC,EAAA,GAAK,iBAAiB;MACtB0C,UAAA,GAAa,IAAI;MACjBC,YAAA,GAAe,IAAI;MACnBC,eAAA,GAAkB,KAAK;MACvBC,cAAA,GAAiB,KAAK;MACtBC,SAAA,GAAY,IAAI;MAChBC,QAAA,GAAW,IAAI;MACfC,gBAAA,GAAmB,IAAI;MACvBC,aAAA,GAAgB;QACdC,KAAK,EAAE,OAAO;QACdC,IAAI,EAAE;MACZ,CAAK;MACD5H,IAAI;MACJ0C,UAAU;MACVmF,WAAW;MAEf;MACIjB,WAAA,GAAc,QAAQ;MACtBpE,UAAA,GAAa,EAAE;MACfD,SAAA,GAAY,EAAE;MAElB;MACIuF,wBAAA,GAA2B9I,oBAAoB;MAC/C+I,iBAAA,GAAoB3J,mBAAmB;MACvC4J,kBAAA,GAAqB1J,oBAAoB;MACzC2J,UAAA,GAAaxJ,WAAW;MACxByJ,gBAAA,GAAmB1J,iBAAiB;MACpC2J,SAAA,GAAY5J,UAAU;MACtB6J,eAAA,GAAkBrJ,iBAAiB;MACnCsJ,YAAA,GAAe1J,aAAa;MAC5B2J,kBAAA,GAAqB5J,mBAAmB;MACxC6J,SAAA,GAAY1J,UAAU;MACtB2J,eAAA,GAAkB5J,gBAAgB;MAClC6J,2BAAA,GAA8BxJ,uBAAuB;MACrDyJ,iBAAA,GAAoBrK,mBAAmB;MACvCsK,kBAAA,GAAqB7J,oBAAoB;MACzC+F,YAAA,GAAe1G,aAAa;MAC5B2G,gBAAA,GAAmB,EAAE;MAEzB;MACI9C,UAAU;MACVC,WAAW;MACXC,eAAe;MACfE,aAAa;MACbE;IACJ,CAAG,GAAA9C,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAkC,EAAE;IACnC,MAAMoJ,QAAA,GAAW;MACfnE,EAAE;MACF0C,UAAU;MACVC,YAAY;MACZC,eAAe;MACfC,cAAc;MACdC,SAAS;MACTC,QAAQ;MACRC,gBAAgB;MAChBC,aAAa;MACb1H,IAAI;MACJ0C,UAAU;MACVmF,WAAW;MAEXjB,WAAW;MACXrE,SAAS;MACTC,UAAU;MAEVqC,YAAY;MACZC,gBAAgB;MAChBiD,iBAAiB;MACjBW,iBAAiB;MACjBV,kBAAkB;MAClBG,SAAS;MACTF,UAAU;MACVC,gBAAgB;MAChBG,YAAY;MACZC,kBAAkB;MAClBC,SAAS;MACTC,eAAe;MACfG,kBAAkB;MAClBP,eAAe;MACfN,wBAAwB;MACxBW,2BAA2B;MAE3BxG,WAAW;MACXD,UAAU;MACVI,aAAa;MACbF,eAAe;MACfI;IACN,CAAK;IAED,IAAIuG,OAAO,GAAsB,IAAI;IACrC,IAAIC,cAAc,GAAkB,EAAE;;IAE1C;AACA;AACA;IACI,MAAMC,aAAA,GAAiBC,OAAO,IAA0C;MACtE,IAAI,CAACH,OAAO,EAAE;QACZ,MAAMI,IAAA,GAAOlL,QAAQ,CAAC6E,aAAa,CAAC,KAAK,CAAC;QAC1CqG,IAAI,CAACxE,EAAA,GAAKyE,MAAM,CAACF,OAAO,CAACvE,EAAE,CAAC;QAC5B1G,QAAQ,CAACoL,IAAI,CAAC7E,WAAW,CAAC2E,IAAI,CAAC;QAE/BJ,OAAA,GAAUI,IAAI,CAACG,YAAY,CAAC;UAAEC,IAAI,EAAE;QAAA,CAAQ,CAAC;QAC7CR,OAAO,CAACvE,WAAW,CAACoC,gBAAgB,CAACsC,OAAO,CAAC,CAAC;MACtD;MACM,OAAOH,OAAA;IACb,CAAK;IAED,MAAMS,oBAAA,GAAuB,MAC3BN,OAAO,IAC2D;MAClE,MAAMO,kBAAA,GAAqBP,OAAO,CAACvB,gBAAA,IAAoBjG,qBAAqB,EAAE;MAE9E,IAAIgI,gBAAgB;MACpB,IAAIC,qBAAqB;MAEzB,IAAI;QACF,MAAMC,kBAAA,GAAqB1C,mBAAA,GACvBA,mBAAmB,KACnB,MAAMD,mBAAmB,CAAC,0BAA0B,EAAEc,WAAW,CAAC;QACtE2B,gBAAA,GAAmBE,kBAAkB,EAAC;QACtCC,cAAc,CAACH,gBAAgB,CAAC;MACxC,EAAQ,MAAM;QACNlI,WAAA,IACEsI,KAAK,CAACvH,KAAK,CACT,wHACZ,CAAW;QACH,MAAM,IAAIxC,KAAK,CAAC,gDAAgD,CAAC;MACzE;MAEM,IAAI;QACF,MAAMgK,uBAAA,GAA0BN,kBAAA,GAC5BtC,wBAAA,GACEA,wBAAwB,KACxB,MAAMF,mBAAmB,CAAC,+BAA+B,EAAEc,WAAW,IACxEnI,SAAS;QAEb,IAAImK,uBAAuB,EAAE;UAC3BJ,qBAAA,GAAwBI,uBAAuB,EAAC;UAChDF,cAAc,CAACF,qBAAqB,CAAC;QAC/C;MACA,EAAQ,MAAM;QACNnI,WAAA,IACEsI,KAAK,CAACvH,KAAK,CAAC,qFAAqF,CAAC;MAC5G;MAEM,MAAMyH,MAAA,GAASN,gBAAgB,CAACO,YAAY,CAAC;QAC3Cf,OAAO,EAAE;UACP,GAAGA,OAAO;UACV/G,WAAW,EAAEA,CAAA,KAAM;YACjB6H,MAAM,EAAEE,KAAK,EAAE;YACfhB,OAAO,CAAC/G,WAAW,IAAI;UACnC,CAAW;UACDK,eAAe,EAAEA,CAAA,KAAM;YACrBwH,MAAM,EAAEE,KAAK,EAAE;YACfhB,OAAO,CAAC1G,eAAe,IAAI;UACvC;QACA,CAAS;QACDmH,qBAAqB;QACrBpK,YAAY;QACZ0F,MAAM,EAAEgE,aAAa,CAACC,OAAO;MACrC,CAAO,CAAC;MAEF,OAAOc,MAAM;IACnB,CAAK;IAED,MAAMG,SAAA,GAAY,SAAAA,CAACjH,EAAE,EAAyF;MAAA,IAArEjB,eAAe,GAAAvC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAkC,EAAE;MAC1F,MAAM0K,aAAA,GAAgBrI,YAAY,CAAC+G,QAAQ,EAAE7G,eAAe,CAAC;MAE7D,MAAMoI,QAAA,GACJ,OAAOnH,EAAA,KAAO,WAAWjF,QAAQ,CAACqM,aAAa,CAACpH,EAAE,IAAI,OAAOA,EAAE,CAACqH,gBAAA,KAAqB,aAAarH,EAAA,GAAK,IAAI;MAE7G,IAAI,CAACmH,QAAQ,EAAE;QACb7I,WAAA,IAAesI,KAAK,CAACvH,KAAK,CAAC,+CAA+C,CAAC;QAC3E,MAAM,IAAIxC,KAAK,CAAC,oCAAoC,CAAC;MAC7D;MAEM,IAAIiK,MAAM,GAAgE,IAAI;MAC9E,MAAMQ,WAAA,GAAc,MAAAA,CAAA,KAA2B;QAC7C,IAAI,CAACR,MAAM,EAAE;UACXA,MAAA,GAAS,MAAMR,oBAAoB,CAAC;YAClC,GAAGY,aAAa;YAChB5H,eAAe,EAAEA,CAAA,KAAM;cACrBwH,MAAM,EAAEvE,aAAa,EAAE;cACvB2E,aAAa,CAAC5H,eAAe,IAAI;YAC/C;UACA,CAAW,CAAC;QACZ;QACQwH,MAAM,CAACxE,WAAW,EAAE;QACpBwE,MAAM,CAACS,IAAI,EAAE;MACrB,CAAO;MACDJ,QAAQ,CAACE,gBAAgB,CAAC,OAAO,EAAEC,WAAW,CAAC;MAC/C,MAAME,WAAA,GAAcA,CAAA,KAAY;QAC9B1B,cAAA,GAAiBA,cAAc,CAAC2B,MAAM,CAACC,GAAA,IAAOA,GAAA,KAAQF,WAAW,CAAC;QAClEV,MAAM,EAAEvE,aAAa,EAAE;QACvBuE,MAAA,GAAS,IAAI;QACbK,QAAQ,CAACQ,mBAAmB,CAAC,OAAO,EAAEL,WAAW,CAAC;MAC1D,CAAO;MACDxB,cAAc,CAAC8B,IAAI,CAACJ,WAAW,CAAC;MAChC,OAAOA,WAAW;IACxB,CAAK;IAED,MAAMK,YAAA,GAAe,SAAAA,CAAA,EAAyE;MAAA,IAAxE9I,eAAe,GAAAvC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAkC,EAAE;MACvE,MAAM0K,aAAA,GAAgBrI,YAAY,CAAC+G,QAAQ,EAAE7G,eAAe,CAAC;MAC7D,MAAMgD,MAAA,GAASgE,aAAa,CAACmB,aAAa,CAAC;MAC3C,MAAMY,KAAA,GAAQnG,KAAK,CAAC;QAClBE,YAAY,EAAEqF,aAAa,CAACrF,YAAY;QACxCC,gBAAgB,EAAEoF,aAAa,CAACpF,gBAAgB;QAChDC,MAAM;QACNrC;MACR,CAAO,CAAC;MACFuH,SAAS,CAACa,KAAK,CAAC9H,EAAE,EAAE;QAClB,GAAGkH,aAAa;QAChBlI,UAAUA,CAAA,EAAG;UACX8I,KAAK,CAACpF,IAAI,EAAE;QACtB,CAAS;QACDzD,WAAWA,CAAA,EAAG;UACZ6I,KAAK,CAACrF,IAAI,EAAE;QACtB,CAAS;QACDnD,eAAeA,CAAA,EAAG;UAChBwI,KAAK,CAACrF,IAAI,EAAE;QACtB;MACA,CAAO,CAAC;MACF,OAAOqF,KAAK;IAClB,CAAK;IAED,OAAO;MACLlD,IAAI,EAAE,UAAU;MAChBmD,SAASA,CAAA,EAAG;QACV,IAAI,CAACC,SAAS,EAAC,IAAK,CAACpC,QAAQ,CAACzB,UAAU,EAAE;UACxC;QACV;QAEQ,IAAIpJ,QAAQ,CAACkN,UAAA,KAAe,SAAS,EAAE;UACrClN,QAAQ,CAACsM,gBAAgB,CAAC,kBAAkB,EAAE,MAAMQ,YAAY,EAAE,CAACvF,WAAW,EAAE,CAAC;QAC3F,OAAe;UACLuF,YAAY,EAAE,CAACvF,WAAW,EAAE;QACtC;MACA,CAAO;MAEP;AACA;AACA;AACA;AACA;MACM4F,QAAQ,EAAEjB,SAAS;MAEzB;AACA;AACA;AACA;MACMkB,YAAYA,CAAA,EAAsE;QAAA,IAArEpJ,eAAe,GAAAvC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAkC,EAAE;QAC9D,MAAMsL,KAAA,GAAQD,YAAY,CAAChJ,YAAY,CAAC+G,QAAQ,EAAE7G,eAAe,CAAC,CAAC;QACnE+I,KAAK,CAACxF,WAAW,EAAE;QACnB,OAAOwF,KAAK;MACpB,CAAO;MAEP;AACA;AACA;AACA;MACM,MAAMM,UAAUA,CAAA,EAEiD;QAAA,IAD/DrJ,eAAe,GAAAvC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAkC,EAAE;QAEnD,OAAO8J,oBAAoB,CAACzH,YAAY,CAAC+G,QAAQ,EAAE7G,eAAe,CAAC,CAAC;MAC5E,CAAO;MAEP;AACA;AACA;MACMyD,MAAMA,CAAA,EAAS;QACb,IAAIqD,OAAO,EAAE;UACXA,OAAO,CAACwC,aAAa,EAAE7F,MAAM,EAAE;UAC/BqD,OAAA,GAAU,IAAI;QACxB;QACA;QACQC,cAAc,CAAC3F,OAAO,CAACuH,GAAA,IAAOA,GAAG,EAAE,CAAC;QACpC5B,cAAA,GAAiB,EAAE;MAC3B;IACA,CAAK;EACL,CAAG;EAED,OAAO5B,mBAAmB;AAC5B;;AC9VA;AACA;AACA;AACO,SAASoE,WAAWA,CAAA,EAAgD;EACzE,MAAMxL,MAAA,GAASC,SAAS,EAAE;EAC1B,OAAOD,MAAM,EAAEyL,oBAAoB,CAAkC,UAAU,CAAC;AAClF;ACXA,IAAIC,CAAC;EAACC,GAAC;EAACC,GAAC;EAAGC,GAAC;EAACC,GAAC;EAACC,GAAC;EAACC,GAAC;EAAGC,GAAC,GAAC,EAAE;EAACC,GAAC,GAAC,EAAE;EAACC,GAAC,GAAC,mEAAmE;EAACC,GAAC,GAACC,KAAK,CAACC,OAAA;AAAQ,SAASC,GAACC,CAACd,CAAC,EAACe,CAAC,EAAC;EAAC,KAAI,IAAIC,CAAA,IAAKD,CAAC,EAACf,CAAC,CAACgB,CAAC,CAAC,GAACD,CAAC,CAACC,CAAC,CAAC;EAAC,OAAOhB,CAAC;AAAA;AAAC,SAASiB,GAACC,CAAClB,CAAC,EAAC;EAAC,IAAIe,CAAC,GAACf,CAAC,CAACmB,UAAU;EAACJ,CAAC,IAAEA,CAAC,CAACK,WAAW,CAACpB,CAAC;AAAC;AAAC,SAASqB,GAACC,CAACP,CAAC,EAACC,CAAC,EAACO,CAAC,EAAC;EAAC,IAAIC,CAAC;IAACC,CAAC;IAACC,CAAC;IAACC,CAAC,GAAC,EAAE;EAAC,KAAID,CAAA,IAAKV,CAAC,EAAC,KAAK,IAAEU,CAAC,GAACF,CAAC,GAACR,CAAC,CAACU,CAAC,CAAC,GAAC,KAAK,IAAEA,CAAC,GAACD,CAAC,GAACT,CAAC,CAACU,CAAC,CAAC,GAACC,CAAC,CAACD,CAAC,CAAC,GAACV,CAAC,CAACU,CAAC,CAAC;EAAC,IAAG1N,SAAS,CAACC,MAAM,GAAC,CAAC,KAAG0N,CAAC,CAACC,QAAQ,GAAC5N,SAAS,CAACC,MAAM,GAAC,CAAC,GAAC+L,CAAC,CAAC6B,IAAI,CAAC7N,SAAS,EAAC,CAAC,CAAC,GAACuN,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOR,CAAC,IAAE,IAAI,IAAEA,CAAC,CAACe,YAAY,EAAC,KAAIJ,CAAA,IAAKX,CAAC,CAACe,YAAY,EAAC,MAAM,KAAGH,CAAC,CAACD,CAAC,CAAC,KAAGC,CAAC,CAACD,CAAC,CAAC,GAACX,CAAC,CAACe,YAAY,CAACJ,CAAC,CAAC,CAAC;EAAC,OAAOK,GAAC,CAAChB,CAAC,EAACY,CAAC,EAACH,CAAC,EAACC,CAAC,EAAC,IAAI,CAAC;AAAA;AAAC,SAASM,GAAClJ,CAACmH,CAAC,EAACuB,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIC,CAAC,GAAC;IAACnI,IAAI,EAACwG,CAAC;IAACgC,KAAK,EAACT,CAAC;IAAC1J,GAAG,EAAC2J,CAAC;IAACS,GAAG,EAACR,CAAC;IAACS,GAAG,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,GAAG,EAAC,CAAC;IAACC,GAAG,EAAC,IAAI;IAACC,GAAG,EAAC,MAAM;IAACC,GAAG,EAAC,IAAI;IAACC,WAAW,EAAC,MAAM;IAACC,GAAG,EAAC,IAAI,IAAEf,CAAC,GAAC,EAAExB,GAAC,GAACwB,CAAC;IAACgB,GAAG,EAAC,EAAE;IAACC,GAAG,EAAC;EAAC,CAAC;EAAC,OAAO,IAAI,IAAEjB,CAAC,IAAE,IAAI,IAAEzB,GAAC,CAAC2C,KAAK,IAAE3C,GAAC,CAAC2C,KAAK,CAACjB,CAAC,CAAC,EAACA,CAAC;AAAA;AAAmC,SAASkB,GAACnK,CAACsH,CAAC,EAAC;EAAC,OAAOA,CAAC,CAAC4B,QAAQ;AAAA;AAAC,SAASkB,GAACC,CAAC/C,CAAC,EAACe,CAAC,EAAC;EAAC,IAAI,CAACiB,KAAK,GAAChC,CAAC,EAAC,IAAI,CAACgD,OAAO,GAACjC,CAAA;AAAC;AAAC,SAASkC,GAACC,CAAClD,CAAC,EAACe,CAAC,EAAC;EAAC,IAAG,IAAI,IAAEA,CAAC,EAAC,OAAOf,CAAC,CAACmC,EAAE,GAACc,GAAC,CAACjD,CAAC,CAACmC,EAAE,EAACnC,CAAC,CAAC0C,GAAG,GAAC,CAAC,CAAC,GAAC,IAAI;EAAC,KAAI,IAAI1B,CAAC,EAACD,CAAC,GAACf,CAAC,CAACkC,GAAG,CAACjO,MAAM,EAAC8M,CAAC,EAAE,EAAC,IAAG,IAAI,KAAGC,CAAC,GAAChB,CAAC,CAACkC,GAAG,CAACnB,CAAC,CAAC,CAAC,IAAE,IAAI,IAAEC,CAAC,CAACqB,GAAG,EAAC,OAAOrB,CAAC,CAACqB,GAAG;EAAC,OAAM,UAAU,IAAE,OAAOrC,CAAC,CAACxG,IAAI,GAACyJ,GAAC,CAACjD,CAAC,CAAC,GAAC,IAAI;AAAA;AAAC,SAASmD,GAACC,CAACpD,CAAC,EAACgB,CAAC,EAACO,CAAC,EAAC;EAAC,IAAIC,CAAC;IAACC,CAAC,GAACzB,CAAC,CAACyC,GAAG;IAACf,CAAC,GAACD,CAAC,CAACY,GAAG;IAACV,CAAC,GAAC3B,CAAC,CAACqD,GAAG;EAAC,IAAG1B,CAAC,EAAC,OAAM,CAACH,CAAC,GAACX,GAAC,CAAC,EAAE,EAACY,CAAC,CAAC,EAAEgB,GAAG,GAAChB,CAAC,CAACgB,GAAG,GAAC,CAAC,EAACxC,GAAC,CAAC2C,KAAK,IAAE3C,GAAC,CAAC2C,KAAK,CAACpB,CAAC,CAAC,EAAC8B,CAAC,CAAC3B,CAAC,EAACH,CAAC,EAACC,CAAC,EAACzB,CAAC,CAACuD,GAAG,EAAC,MAAM,KAAG5B,CAAC,CAAC6B,eAAe,EAAC,EAAE,GAAC/B,CAAC,CAACkB,GAAG,GAAC,CAACjB,CAAC,CAAC,GAAC,IAAI,EAACV,CAAC,EAAC,IAAI,IAAEU,CAAC,GAACuB,GAAC,CAACxB,CAAC,CAAC,GAACC,CAAC,EAAC,CAAC,EAAE,EAAE,GAACD,CAAC,CAACkB,GAAG,CAAC,EAACpB,CAAC,CAAC,EAACC,CAAC,CAACW,EAAE,CAACD,GAAG,CAACV,CAAC,CAACkB,GAAG,CAAC,GAAClB,CAAC,EAACA,CAAC,CAACc,GAAG,GAAC,MAAM,EAACd,CAAC,CAACa,GAAG,IAAEX,CAAC,IAAE+B,GAAC,CAACjC,CAAC,CAAC,EAACA,CAAC;AAAA;AAAC,SAASiC,GAACC,CAAC1D,CAAC,EAAC;EAAC,IAAIe,CAAC,EAACC,CAAC;EAAC,IAAG,IAAI,KAAGhB,CAAC,GAACA,CAAC,CAACmC,EAAE,CAAC,IAAE,IAAI,IAAEnC,CAAC,CAACuC,GAAG,EAAC;IAAC,KAAIvC,CAAC,CAACqC,GAAG,GAACrC,CAAC,CAACuC,GAAG,CAACoB,IAAI,GAAC,IAAI,EAAC5C,CAAC,GAAC,CAAC,EAACA,CAAC,GAACf,CAAC,CAACkC,GAAG,CAACjO,MAAM,EAAC8M,CAAC,EAAE,EAAC,IAAG,IAAI,KAAGC,CAAC,GAAChB,CAAC,CAACkC,GAAG,CAACnB,CAAC,CAAC,CAAC,IAAE,IAAI,IAAEC,CAAC,CAACqB,GAAG,EAAC;MAACrC,CAAC,CAACqC,GAAG,GAACrC,CAAC,CAACuC,GAAG,CAACoB,IAAI,GAAC3C,CAAC,CAACqB,GAAG;MAAC;IAAK;IAAC,OAAOoB,GAAC,CAACzD,CAAC,CAAC;EAAA;AAAC;AAAC,SAAS4D,GAACC,CAAC7D,CAAC,EAAC;EAAC,CAAC,CAACA,CAAC,CAACsC,GAAG,KAAGtC,CAAC,CAACsC,GAAG,GAAC,IAAE,CAAC,IAAEnC,GAAC,CAACf,IAAI,CAACY,CAAC,CAAC,IAAE,CAAC8D,GAAC,CAACC,GAAG,EAAE,IAAE3D,GAAC,KAAGH,GAAC,CAAC+D,iBAAiB,KAAG,CAAC,CAAC5D,GAAC,GAACH,GAAC,CAAC+D,iBAAiB,KAAG3D,GAAC,EAAEyD,GAAC;AAAC;AAAC,SAASA,GAACG,CAAA,EAAE;EAAC,IAAIjE,CAAC;IAACgB,CAAC;IAACO,CAAC;IAACE,CAAC,GAAC,EAAE;IAACC,CAAC,GAAC,EAAE;EAAC,KAAIvB,GAAC,CAAC+D,IAAI,CAAC5D,GAAC,CAAC,EAACN,CAAC,GAACG,GAAC,CAACgE,KAAK,EAAE,GAAEnE,CAAC,CAACsC,GAAG,KAAGf,CAAC,GAACpB,GAAC,CAAClM,MAAM,EAAC+M,CAAC,GAACmC,GAAC,CAACnD,CAAC,EAACyB,CAAC,EAACC,CAAC,CAAC,IAAEV,CAAC,EAAC,CAAC,KAAGO,CAAC,IAAEpB,GAAC,CAAClM,MAAM,GAACsN,CAAC,IAAE6C,GAAC,CAAC3C,CAAC,EAACT,CAAC,EAACU,CAAC,CAAC,EAACA,CAAC,CAACzN,MAAM,GAACwN,CAAC,CAACxN,MAAM,GAAC,CAAC,EAAC+M,CAAC,GAAC,MAAM,EAACb,GAAC,CAAC+D,IAAI,CAAC5D,GAAC,CAAC,IAAEU,CAAC,IAAEf,GAAC,CAACsC,GAAG,IAAEtC,GAAC,CAACsC,GAAG,CAACvB,CAAC,EAACR,GAAC,CAAC,CAAC;EAACQ,CAAC,IAAEoD,GAAC,CAAC3C,CAAC,EAACT,CAAC,EAACU,CAAC,CAAC,EAACoC,GAAC,CAACC,GAAG,GAAC;AAAC;AAAC,SAASM,GAACC,CAACtE,CAAC,EAACe,CAAC,EAACC,CAAC,EAACO,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC4C,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;EAAC,IAAI3D,CAAC;IAACI,CAAC;IAACI,CAAC;IAACzI,CAAC;IAAC6L,CAAC;IAAChM,CAAC,GAAC6I,CAAC,IAAEA,CAAC,CAACW,GAAG,IAAE1B,GAAC;IAACuC,CAAC,GAAChC,CAAC,CAAC9M,MAAM;EAAC,KAAI+M,CAAC,CAACsB,GAAG,GAACiC,CAAC,EAACI,CAAC,CAAC3D,CAAC,EAACD,CAAC,EAACrI,CAAC,CAAC,EAAC6L,CAAC,GAACvD,CAAC,CAACsB,GAAG,EAACxB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACiC,CAAC,EAACjC,CAAC,EAAE,EAAC,IAAI,KAAGQ,CAAC,GAACN,CAAC,CAACkB,GAAG,CAACpB,CAAC,CAAC,CAAC,IAAE,SAAS,IAAE,OAAOQ,CAAC,IAAE,UAAU,IAAE,OAAOA,CAAC,KAAGJ,CAAC,GAAC,EAAE,KAAGI,CAAC,CAACoB,GAAG,GAACnC,GAAC,GAAC7H,CAAC,CAAC4I,CAAC,CAACoB,GAAG,CAAC,IAAEnC,GAAC,EAACe,CAAC,CAACoB,GAAG,GAAC5B,CAAC,EAACwC,CAAC,CAACtD,CAAC,EAACsB,CAAC,EAACJ,CAAC,EAACM,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC4C,CAAC,EAACC,CAAC,EAACC,CAAC,CAAC,EAAC5L,CAAC,GAACyI,CAAC,CAACe,GAAG,EAACf,CAAC,CAACW,GAAG,IAAEf,CAAC,CAACe,GAAG,IAAEX,CAAC,CAACW,GAAG,KAAGf,CAAC,CAACe,GAAG,IAAE2C,CAAC,CAAC1D,CAAC,CAACe,GAAG,EAAC,IAAI,EAACX,CAAC,CAAC,EAACmD,CAAC,CAACrF,IAAI,CAACkC,CAAC,CAACW,GAAG,EAACX,CAAC,CAACiB,GAAG,IAAE1J,CAAC,EAACyI,CAAC,CAAC,CAAC,EAAC,IAAI,IAAEoD,CAAC,IAAE,IAAI,IAAE7L,CAAC,KAAG6L,CAAC,GAAC7L,CAAC,CAAC,EAAC,KAAK,GAACyI,CAAC,CAACqB,GAAG,IAAEzB,CAAC,CAACgB,GAAG,KAAGZ,CAAC,CAACY,GAAG,GAACqC,CAAC,GAACM,CAAC,CAACvD,CAAC,EAACiD,CAAC,EAACvE,CAAC,CAAC,GAAC,UAAU,IAAE,OAAOsB,CAAC,CAAC9H,IAAI,IAAE,MAAM,KAAG8H,CAAC,CAACgB,GAAG,GAACiC,CAAC,GAACjD,CAAC,CAACgB,GAAG,GAACzJ,CAAC,KAAG0L,CAAC,GAAC1L,CAAC,CAACiM,WAAW,CAAC,EAACxD,CAAC,CAACgB,GAAG,GAAC,MAAM,EAAChB,CAAC,CAACqB,GAAG,IAAE,OAAO,CAAC;EAAC3B,CAAC,CAACsB,GAAG,GAACiC,CAAC,EAACvD,CAAC,CAACqB,GAAG,GAACqC,CAAA;AAAC;AAAC,SAASC,CAACA,CAAC3E,CAAC,EAACe,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIO,CAAC;IAACC,CAAC;IAACC,CAAC;IAACC,CAAC;IAACC,CAAC;IAAC4C,CAAC,GAACxD,CAAC,CAAC9M,MAAM;IAAC8Q,CAAC,GAAC/D,CAAC,CAAC/M,MAAM;IAAC+Q,CAAC,GAACD,CAAC;IAACP,CAAC,GAAC,CAAC;EAAC,KAAIxE,CAAC,CAACkC,GAAG,GAAC,EAAE,EAACX,CAAC,GAAC,CAAC,EAACA,CAAC,GAACgD,CAAC,EAAChD,CAAC,EAAE,EAAC,IAAI,KAAGC,CAAC,GAACxB,CAAC,CAACkC,GAAG,CAACX,CAAC,CAAC,GAAC,IAAI,KAAGC,CAAC,GAACT,CAAC,CAACQ,CAAC,CAAC,CAAC,IAAE,SAAS,IAAE,OAAOC,CAAC,IAAE,UAAU,IAAE,OAAOA,CAAC,GAAC,IAAI,GAAC,QAAQ,IAAE,OAAOA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,IAAEA,CAAC,CAACgB,WAAW,IAAE9E,MAAM,GAACqE,GAAC,CAAC,IAAI,EAACP,CAAC,EAAC,IAAI,EAAC,IAAI,EAACA,CAAC,CAAC,GAACd,GAAC,CAACc,CAAC,CAAC,GAACO,GAAC,CAACc,GAAC,EAAC;IAACjB,QAAQ,EAACJ;EAAC,CAAC,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,GAAC,MAAM,KAAGA,CAAC,CAACgB,WAAW,IAAEhB,CAAC,CAACY,GAAG,GAAC,CAAC,GAACL,GAAC,CAACP,CAAC,CAAChI,IAAI,EAACgI,CAAC,CAACQ,KAAK,EAACR,CAAC,CAAC3J,GAAG,EAAC2J,CAAC,CAACS,GAAG,GAACT,CAAC,CAACS,GAAG,GAAC,IAAI,EAACT,CAAC,CAACiB,GAAG,CAAC,GAACjB,CAAC,CAAC,IAAEA,CAAC,CAACW,EAAE,GAACnC,CAAC,EAACwB,CAAC,CAACY,GAAG,GAACpC,CAAC,CAACoC,GAAG,GAAC,CAAC,EAACT,CAAC,GAACsD,CAAC,CAACzD,CAAC,EAACR,CAAC,EAACU,CAAC,GAACH,CAAC,GAACiD,CAAC,EAACQ,CAAC,CAAC,EAACxD,CAAC,CAACkB,GAAG,GAACf,CAAC,EAACF,CAAC,GAAC,IAAI,EAAC,EAAE,KAAGE,CAAC,KAAGqD,CAAC,EAAE,EAAC,CAACvD,CAAC,GAACT,CAAC,CAACW,CAAC,CAAC,MAAIF,CAAC,CAACkB,GAAG,IAAE,MAAM,CAAC,CAAC,EAAC,IAAI,IAAElB,CAAC,IAAE,IAAI,KAAGA,CAAC,CAACgB,GAAG,IAAE,EAAE,IAAEd,CAAC,IAAE6C,CAAC,EAAE,EAAC,UAAU,IAAE,OAAOhD,CAAC,CAAChI,IAAI,KAAGgI,CAAC,CAACmB,GAAG,IAAE,KAAK,CAAC,IAAEhB,CAAC,KAAGD,CAAC,KAAGC,CAAC,KAAGD,CAAC,GAAC,CAAC,GAAC8C,CAAC,EAAE,GAAC7C,CAAC,GAACD,CAAC,GAACsD,CAAC,GAACT,CAAC,GAAC7C,CAAC,GAAC8C,CAAC,IAAE7C,CAAC,GAACD,CAAC,GAAC8C,CAAC,EAAE,GAACA,CAAC,GAAC7C,CAAC,GAACD,CAAC,IAAEC,CAAC,IAAED,CAAC,GAAC,CAAC,GAACC,CAAC,GAACD,CAAC,GAAC,CAAC,EAACC,CAAC,KAAGJ,CAAC,GAACiD,CAAC,KAAGhD,CAAC,CAACmB,GAAG,IAAE,KAAK,CAAC,CAAC,IAAE,CAAClB,CAAC,GAACT,CAAC,CAACO,CAAC,CAAC,KAAG,IAAI,IAAEE,CAAC,CAAC5J,GAAG,IAAE4J,CAAC,CAACY,GAAG,KAAGZ,CAAC,CAACY,GAAG,IAAErC,CAAC,CAACsC,GAAG,KAAGtC,CAAC,CAACsC,GAAG,GAACW,GAAC,CAACxB,CAAC,CAAC,CAAC,EAACyD,CAAC,CAACzD,CAAC,EAACA,CAAC,EAAC,KAAE,CAAC,EAACT,CAAC,CAACO,CAAC,CAAC,GAAC,IAAI,EAACyD,CAAC,EAAE,CAAC;EAAC,IAAGA,CAAC,EAAC,KAAIzD,CAAC,GAAC,CAAC,EAACA,CAAC,GAACwD,CAAC,EAACxD,CAAC,EAAE,EAAC,IAAI,KAAGE,CAAC,GAACT,CAAC,CAACO,CAAC,CAAC,CAAC,IAAE,CAAC,KAAG,MAAM,GAACE,CAAC,CAACkB,GAAG,CAAC,KAAGlB,CAAC,CAACY,GAAG,IAAErC,CAAC,CAACsC,GAAG,KAAGtC,CAAC,CAACsC,GAAG,GAACW,GAAC,CAACxB,CAAC,CAAC,CAAC,EAACyD,CAAC,CAACzD,CAAC,EAACA,CAAC,CAAC;AAAC;AAAC,SAASoD,CAACA,CAAC7E,CAAC,EAACe,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIO,CAAC,EAACC,CAAC;EAAC,IAAG,UAAU,IAAE,OAAOxB,CAAC,CAACxG,IAAI,EAAC;IAAC,KAAI+H,CAAC,GAACvB,CAAC,CAACkC,GAAG,EAACV,CAAC,GAAC,CAAC,EAACD,CAAC,IAAEC,CAAC,GAACD,CAAC,CAACtN,MAAM,EAACuN,CAAC,EAAE,EAACD,CAAC,CAACC,CAAC,CAAC,KAAGD,CAAC,CAACC,CAAC,CAAC,CAACW,EAAE,GAACnC,CAAC,EAACe,CAAC,GAAC8D,CAAC,CAACtD,CAAC,CAACC,CAAC,CAAC,EAACT,CAAC,EAACC,CAAC,CAAC,CAAC;IAAC,OAAOD,CAAC;EAAA;EAACf,CAAC,CAACqC,GAAG,IAAEtB,CAAC,KAAGC,CAAC,CAACmE,YAAY,CAACnF,CAAC,CAACqC,GAAG,EAACtB,CAAC,IAAE,IAAI,CAAC,EAACA,CAAC,GAACf,CAAC,CAACqC,GAAG,CAAC;EAAC,GAAE;IAACtB,CAAC,GAACA,CAAC,IAAEA,CAAC,CAAC+D,WAAA;EAAW,CAAC,QAAM,IAAI,IAAE/D,CAAC,IAAE,CAAC,KAAGA,CAAC,CAACqE,QAAQ;EAAE,OAAOrE,CAAC;AAAA;AAA6G,SAASkE,CAACA,CAACjF,CAAC,EAACe,CAAC,EAACC,CAAC,EAACO,CAAC,EAAC;EAAC,IAAIC,CAAC,GAACxB,CAAC,CAACnI,GAAG;IAAC4J,CAAC,GAACzB,CAAC,CAACxG,IAAI;IAACkI,CAAC,GAACV,CAAC,GAAC,CAAC;IAACW,CAAC,GAACX,CAAC,GAAC,CAAC;IAACuD,CAAC,GAACxD,CAAC,CAACC,CAAC,CAAC;EAAC,IAAG,IAAI,KAAGuD,CAAC,IAAEA,CAAC,IAAE/C,CAAC,IAAE+C,CAAC,CAAC1M,GAAG,IAAE4J,CAAC,KAAG8C,CAAC,CAAC/K,IAAI,EAAC,OAAOwH,CAAC;EAAC,IAAGO,CAAC,IAAE,IAAI,IAAEgD,CAAC,IAAE,CAAC,KAAG,MAAM,GAACA,CAAC,CAAC5B,GAAG,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,EAAC,OAAKjB,CAAC,IAAE,CAAC,IAAEC,CAAC,GAACZ,CAAC,CAAC9M,MAAM,GAAE;IAAC,IAAGyN,CAAC,IAAE,CAAC,EAAC;MAAC,IAAG,CAAC6C,CAAC,GAACxD,CAAC,CAACW,CAAC,CAAC,KAAG,CAAC,KAAG,MAAM,GAAC6C,CAAC,CAAC5B,GAAG,CAAC,IAAEnB,CAAC,IAAE+C,CAAC,CAAC1M,GAAG,IAAE4J,CAAC,KAAG8C,CAAC,CAAC/K,IAAI,EAAC,OAAOkI,CAAC;MAACA,CAAC;IAAE;IAAC,IAAGC,CAAC,GAACZ,CAAC,CAAC9M,MAAM,EAAC;MAAC,IAAG,CAACsQ,CAAC,GAACxD,CAAC,CAACY,CAAC,CAAC,KAAG,CAAC,KAAG,MAAM,GAAC4C,CAAC,CAAC5B,GAAG,CAAC,IAAEnB,CAAC,IAAE+C,CAAC,CAAC1M,GAAG,IAAE4J,CAAC,KAAG8C,CAAC,CAAC/K,IAAI,EAAC,OAAOmI,CAAC;MAACA,CAAC;IAAE;EAAC;EAAC,OAAM,EAAE;AAAA;AAAC,SAAS0D,GAACC,CAACtF,CAAC,EAACe,CAAC,EAACC,CAAC,EAAC;EAAC,GAAG,KAAGD,CAAC,CAAC,CAAC,CAAC,GAACf,CAAC,CAACuF,WAAW,CAACxE,CAAC,EAAC,IAAI,IAAEC,CAAC,GAAC,EAAE,GAACA,CAAC,CAAC,GAAChB,CAAC,CAACe,CAAC,CAAC,GAAC,IAAI,IAAEC,CAAC,GAAC,EAAE,GAAC,QAAQ,IAAE,OAAOA,CAAC,IAAEP,GAAC,CAACxK,IAAI,CAAC8K,CAAC,CAAC,GAACC,CAAC,GAACA,CAAC,GAAC;AAAI;AAAC,SAASwE,GAACC,CAACzF,CAAC,EAACe,CAAC,EAACC,CAAC,EAACO,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIC,CAAC;EAACzB,CAAC,EAAC,IAAG,OAAO,KAAGe,CAAC;IAAC,IAAG,QAAQ,IAAE,OAAOC,CAAC,EAAChB,CAAC,CAAC7I,KAAK,CAACuO,OAAO,GAAC1E,CAAC,CAAC,KAAI;MAAC,IAAG,QAAQ,IAAE,OAAOO,CAAC,KAAGvB,CAAC,CAAC7I,KAAK,CAACuO,OAAO,GAACnE,CAAC,GAAC,EAAE,CAAC,EAACA,CAAC,EAAC,KAAIR,CAAA,IAAKQ,CAAC,EAACP,CAAC,IAAED,CAAA,IAAKC,CAAC,IAAEqE,GAAC,CAACrF,CAAC,CAAC7I,KAAK,EAAC4J,CAAC,EAAC,EAAE,CAAC;MAAC,IAAGC,CAAC,EAAC,KAAID,CAAA,IAAKC,CAAC,EAACO,CAAC,IAAEP,CAAC,CAACD,CAAC,CAAC,KAAGQ,CAAC,CAACR,CAAC,CAAC,IAAEsE,GAAC,CAACrF,CAAC,CAAC7I,KAAK,EAAC4J,CAAC,EAACC,CAAC,CAACD,CAAC,CAAC;IAAC;EAAC,OAAK,IAAG,GAAG,KAAGA,CAAC,CAAC,CAAC,CAAC,IAAE,GAAG,KAAGA,CAAC,CAAC,CAAC,CAAC,EAACU,CAAC,GAACV,CAAC,MAAIA,CAAC,GAACA,CAAC,CAAC4E,OAAO,CAAC,6BAA6B,EAAC,IAAI,CAAC,CAAC,EAAC5E,CAAC,GAACA,CAAC,CAAC6E,WAAW,EAAE,IAAG5F,CAAC,GAACe,CAAC,CAAC6E,WAAW,EAAE,CAACC,KAAK,CAAC,CAAC,CAAC,GAAC9E,CAAC,CAAC8E,KAAK,CAAC,CAAC,CAAC,EAAC7F,CAAC,CAACe,CAAC,KAAGf,CAAC,CAACe,CAAC,GAAC,EAAE,CAAC,EAACf,CAAC,CAACe,CAAC,CAACA,CAAC,GAACU,CAAC,CAAC,GAACT,CAAC,EAACA,CAAC,GAACO,CAAC,GAACP,CAAC,CAACA,CAAC,GAACO,CAAC,CAACP,CAAC,IAAEA,CAAC,CAACA,CAAC,GAAC8E,IAAI,CAACC,GAAG,EAAE,EAAC/F,CAAC,CAACnB,gBAAgB,CAACkC,CAAC,EAACU,CAAC,GAACuE,CAAC,GAACC,GAAC,EAACxE,CAAC,CAAC,CAAC,GAACzB,CAAC,CAACb,mBAAmB,CAAC4B,CAAC,EAACU,CAAC,GAACuE,CAAC,GAACC,GAAC,EAACxE,CAAC,CAAC,CAAC,KAAI;IAAC,IAAGD,CAAC,EAACT,CAAC,GAACA,CAAC,CAAC4E,OAAO,CAAC,aAAa,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,QAAQ,EAAC,GAAG,CAAC,CAAC,KAAK,IAAG,OAAO,KAAG5E,CAAC,IAAE,QAAQ,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAE,SAAS,KAAGA,CAAC,IAAE,SAAS,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAEA,CAAA,IAAKf,CAAC,EAAC,IAAG;MAACA,CAAC,CAACe,CAAC,CAAC,GAAC,IAAI,IAAEC,CAAC,GAAC,EAAE,GAACA,CAAC;MAAC,MAAMhB,CAAC;IAAA,CAAC,QAAMA,CAAC,EAAC;IAAE,UAAU,IAAE,OAAOgB,CAAC,KAAG,IAAI,IAAEA,CAAC,IAAE,KAAE,KAAGA,CAAC,IAAE,GAAG,KAAGD,CAAC,CAAC,CAAC,CAAC,GAACf,CAAC,CAACkG,eAAe,CAACnF,CAAC,CAAC,GAACf,CAAC,CAAC1I,YAAY,CAACyJ,CAAC,EAACC,CAAC,CAAC;EAAC;AAAC;AAAC,SAASiF,GAACE,CAACnG,CAAC,EAAC;EAAC,IAAG,IAAI,CAACe,CAAC,EAAC;IAAC,IAAIC,CAAC,GAAC,IAAI,CAACD,CAAC,CAACf,CAAC,CAACxG,IAAI,GAAC,KAAE,CAAC;IAAC,IAAGwG,CAAC,CAACuB,CAAC,EAAC;MAAC,IAAGvB,CAAC,CAACuB,CAAC,IAAEP,CAAC,CAACA,CAAC,EAAC;IAAM,CAAC,MAAKhB,CAAC,CAACuB,CAAC,GAACuE,IAAI,CAACC,GAAG,EAAE;IAAC,OAAO/E,CAAC,CAACf,GAAC,CAACxK,KAAK,GAACwK,GAAC,CAACxK,KAAK,CAACuK,CAAC,CAAC,GAACA,CAAC,CAAC;EAAA;AAAC;AAAC,SAASgG,CAACA,CAAChG,CAAC,EAAC;EAAC,IAAG,IAAI,CAACe,CAAC,EAAC,OAAO,IAAI,CAACA,CAAC,CAACf,CAAC,CAACxG,IAAI,GAAC,IAAE,CAAC,CAACyG,GAAC,CAACxK,KAAK,GAACwK,GAAC,CAACxK,KAAK,CAACuK,CAAC,CAAC,GAACA,CAAC,CAAC;AAAA;AAAC,SAASsD,CAACA,CAACtD,CAAC,EAACgB,CAAC,EAACO,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC4C,CAAC,EAACQ,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIR,CAAC;IAACtD,CAAC;IAACI,CAAC;IAACzI,CAAC;IAAC6L,CAAC;IAACxB,CAAC;IAACE,CAAC;IAACM,CAAC;IAACG,CAAC;IAACI,CAAC;IAACU,CAAC;IAACE,CAAC;IAACuB,CAAC;IAACnB,CAAC;IAACK,CAAC;IAACG,CAAC,GAACzE,CAAC,CAACxH,IAAI;EAAC,IAAG,MAAM,KAAGwH,CAAC,CAACwB,WAAW,EAAC,OAAO,IAAI;EAAC,GAAG,GAACjB,CAAC,CAACoB,GAAG,KAAGoC,CAAC,GAAC,CAAC,EAAE,EAAE,GAACxD,CAAC,CAACoB,GAAG,CAAC,EAACjB,CAAC,GAAC,CAAC6C,CAAC,GAACvD,CAAC,CAACqB,GAAG,GAACd,CAAC,CAACc,GAAG,CAAC,CAAC,EAAC,CAACmC,CAAC,GAACvE,GAAC,CAACmC,GAAG,KAAGoC,CAAC,CAACxD,CAAC,CAAC;EAAChB,CAAC,EAAC,IAAG,UAAU,IAAE,OAAOyF,CAAC,EAAC,IAAG;IAAC,IAAG/B,CAAC,GAAC1C,CAAC,CAACgB,KAAK,EAAC6B,CAAC,GAAC,CAACW,CAAC,GAACiB,CAAC,CAACY,WAAW,KAAG7E,CAAC,CAACgD,CAAC,CAACjC,GAAG,CAAC,EAAC0B,CAAC,GAACO,CAAC,GAACX,CAAC,GAACA,CAAC,CAAC7B,KAAK,CAACsE,KAAK,GAAC9B,CAAC,CAACrC,EAAE,GAACX,CAAC,EAACD,CAAC,CAACgB,GAAG,GAACa,CAAC,GAAC,CAAClC,CAAC,GAACF,CAAC,CAACuB,GAAG,GAAChB,CAAC,CAACgB,GAAG,EAAEJ,EAAE,GAACjB,CAAC,CAACqF,GAAG,IAAE,WAAW,IAAGd,CAAC,IAAEA,CAAC,CAACe,SAAS,CAACC,MAAM,GAACzF,CAAC,CAACuB,GAAG,GAACrB,CAAC,GAAC,IAAIuE,CAAC,CAAC/B,CAAC,EAACO,CAAC,CAAC,IAAEjD,CAAC,CAACuB,GAAG,GAACrB,CAAC,GAAC,IAAI4B,GAAC,CAACY,CAAC,EAACO,CAAC,CAAC,EAAC/C,CAAC,CAACsB,WAAW,GAACiD,CAAC,EAACvE,CAAC,CAACuF,MAAM,GAACC,GAAC,CAAC,EAAC7C,CAAC,IAAEA,CAAC,CAAC3E,GAAG,CAACgC,CAAC,CAAC,EAACA,CAAC,CAACc,KAAK,GAAC0B,CAAC,EAACxC,CAAC,CAACyF,KAAK,KAAGzF,CAAC,CAACyF,KAAK,GAAC,EAAE,CAAC,EAACzF,CAAC,CAAC8B,OAAO,GAACiB,CAAC,EAAC/C,CAAC,CAACqC,GAAG,GAAC/B,CAAC,EAACF,CAAC,GAACJ,CAAC,CAACoB,GAAG,GAAC,CAAC,CAAC,EAACpB,CAAC,CAAC0F,GAAG,GAAC,EAAE,EAAC1F,CAAC,CAAC2F,GAAG,GAAC,EAAE,CAAC,EAAC,IAAI,IAAE3F,CAAC,CAAC4F,GAAG,KAAG5F,CAAC,CAAC4F,GAAG,GAAC5F,CAAC,CAACyF,KAAK,CAAC,EAAC,IAAI,IAAElB,CAAC,CAACsB,wBAAwB,KAAG7F,CAAC,CAAC4F,GAAG,IAAE5F,CAAC,CAACyF,KAAK,KAAGzF,CAAC,CAAC4F,GAAG,GAACjG,GAAC,CAAC,EAAE,EAACK,CAAC,CAAC4F,GAAG,CAAC,CAAC,EAACjG,GAAC,CAACK,CAAC,CAAC4F,GAAG,EAACrB,CAAC,CAACsB,wBAAwB,CAACrD,CAAC,EAACxC,CAAC,CAAC4F,GAAG,CAAC,CAAC,CAAC,EAACjO,CAAC,GAACqI,CAAC,CAACc,KAAK,EAAC0C,CAAC,GAACxD,CAAC,CAACyF,KAAK,EAACzF,CAAC,CAACuB,GAAG,GAACzB,CAAC,EAACM,CAAC,EAAC,IAAI,IAAEmE,CAAC,CAACsB,wBAAwB,IAAE,IAAI,IAAE7F,CAAC,CAAC8F,kBAAkB,IAAE9F,CAAC,CAAC8F,kBAAkB,EAAE,EAAC,IAAI,IAAE9F,CAAC,CAAC+F,iBAAiB,IAAE/F,CAAC,CAAC0F,GAAG,CAACxH,IAAI,CAAC8B,CAAC,CAAC+F,iBAAiB,CAAC,CAAC,KAAI;MAAC,IAAG,IAAI,IAAExB,CAAC,CAACsB,wBAAwB,IAAErD,CAAC,KAAG7K,CAAC,IAAE,IAAI,IAAEqI,CAAC,CAACgG,yBAAyB,IAAEhG,CAAC,CAACgG,yBAAyB,CAACxD,CAAC,EAACO,CAAC,CAAC,EAAC,CAAC/C,CAAC,CAACmB,GAAG,KAAG,IAAI,IAAEnB,CAAC,CAACiG,qBAAqB,IAAE,CAAC,CAAC,KAAGjG,CAAC,CAACiG,qBAAqB,CAACzD,CAAC,EAACxC,CAAC,CAAC4F,GAAG,EAAC7C,CAAC,CAAC,IAAEjD,CAAC,CAACyB,GAAG,KAAGlB,CAAC,CAACkB,GAAG,CAAC,EAAC;QAAC,KAAIzB,CAAC,CAACyB,GAAG,KAAGlB,CAAC,CAACkB,GAAG,KAAGvB,CAAC,CAACc,KAAK,GAAC0B,CAAC,EAACxC,CAAC,CAACyF,KAAK,GAACzF,CAAC,CAAC4F,GAAG,EAAC5F,CAAC,CAACoB,GAAG,GAAC,CAAC,CAAC,CAAC,EAACtB,CAAC,CAACqB,GAAG,GAACd,CAAC,CAACc,GAAG,EAACrB,CAAC,CAACkB,GAAG,GAACX,CAAC,CAACW,GAAG,EAAClB,CAAC,CAACkB,GAAG,CAACvK,OAAO,CAAC,UAASqI,CAAC,EAAC;UAACA,CAAC,KAAGA,CAAC,CAACmC,EAAE,GAACnB,CAAC;QAAC,CAAC,CAAC,EAAC2D,CAAC,GAAC,CAAC,EAACA,CAAC,GAACzD,CAAC,CAAC2F,GAAG,CAAC5S,MAAM,EAAC0Q,CAAC,EAAE,EAACzD,CAAC,CAAC0F,GAAG,CAACxH,IAAI,CAAC8B,CAAC,CAAC2F,GAAG,CAAClC,CAAC,CAAC,CAAC;QAACzD,CAAC,CAAC2F,GAAG,GAAC,EAAE,EAAC3F,CAAC,CAAC0F,GAAG,CAAC3S,MAAM,IAAE0N,CAAC,CAACvC,IAAI,CAAC8B,CAAC,CAAC;QAAC,MAAMlB,CAAC;MAAA;MAAC,IAAI,IAAEkB,CAAC,CAACkG,mBAAmB,IAAElG,CAAC,CAACkG,mBAAmB,CAAC1D,CAAC,EAACxC,CAAC,CAAC4F,GAAG,EAAC7C,CAAC,CAAC,EAAC,IAAI,IAAE/C,CAAC,CAACmG,kBAAkB,IAAEnG,CAAC,CAAC0F,GAAG,CAACxH,IAAI,CAAC,YAAU;QAAC8B,CAAC,CAACmG,kBAAkB,CAACxO,CAAC,EAAC6L,CAAC,EAACxB,CAAC;MAAC,CAAC;IAAC;IAAC,IAAGhC,CAAC,CAAC8B,OAAO,GAACiB,CAAC,EAAC/C,CAAC,CAACc,KAAK,GAAC0B,CAAC,EAACxC,CAAC,CAACmC,GAAG,GAACrD,CAAC,EAACkB,CAAC,CAACmB,GAAG,GAAC,CAAC,CAAC,EAACwC,CAAC,GAAC5E,GAAC,CAAC8D,GAAG,EAACqC,CAAC,GAAC,CAAC,EAAC,WAAW,IAAGX,CAAC,IAAEA,CAAC,CAACe,SAAS,CAACC,MAAM,EAAC;MAAC,KAAIvF,CAAC,CAACyF,KAAK,GAACzF,CAAC,CAAC4F,GAAG,EAAC5F,CAAC,CAACoB,GAAG,GAAC,CAAC,CAAC,EAACuC,CAAC,IAAEA,CAAC,CAAC7D,CAAC,CAAC,EAACwD,CAAC,GAACtD,CAAC,CAACuF,MAAM,CAACvF,CAAC,CAACc,KAAK,EAACd,CAAC,CAACyF,KAAK,EAACzF,CAAC,CAAC8B,OAAO,CAAC,EAACiC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC/D,CAAC,CAAC2F,GAAG,CAAC5S,MAAM,EAACgR,CAAC,EAAE,EAAC/D,CAAC,CAAC0F,GAAG,CAACxH,IAAI,CAAC8B,CAAC,CAAC2F,GAAG,CAAC5B,CAAC,CAAC,CAAC;MAAC/D,CAAC,CAAC2F,GAAG,GAAC;IAAE,CAAC,MAAK,GAAE;MAAC3F,CAAC,CAACoB,GAAG,GAAC,CAAC,CAAC,EAACuC,CAAC,IAAEA,CAAC,CAAC7D,CAAC,CAAC,EAACwD,CAAC,GAACtD,CAAC,CAACuF,MAAM,CAACvF,CAAC,CAACc,KAAK,EAACd,CAAC,CAACyF,KAAK,EAACzF,CAAC,CAAC8B,OAAO,CAAC,EAAC9B,CAAC,CAACyF,KAAK,GAACzF,CAAC,CAAC4F,GAAA;IAAG,CAAC,QAAM5F,CAAC,CAACoB,GAAG,IAAE,EAAE8D,CAAC,GAAC,EAAE;IAAElF,CAAC,CAACyF,KAAK,GAACzF,CAAC,CAAC4F,GAAG,EAAC,IAAI,IAAE5F,CAAC,CAACoG,eAAe,KAAG9F,CAAC,GAACX,GAAC,CAACA,GAAC,CAAC,EAAE,EAACW,CAAC,CAAC,EAACN,CAAC,CAACoG,eAAe,EAAE,CAAC,CAAC,EAAChG,CAAC,IAAE,IAAI,IAAEJ,CAAC,CAACqG,uBAAuB,KAAGrE,CAAC,GAAChC,CAAC,CAACqG,uBAAuB,CAAC1O,CAAC,EAAC6L,CAAC,CAAC,CAAC,EAACL,GAAC,CAACrE,CAAC,EAACU,GAAC,CAAC4E,CAAC,GAAC,IAAI,IAAEd,CAAC,IAAEA,CAAC,CAAChL,IAAI,KAAGqJ,GAAC,IAAE,IAAI,IAAE2B,CAAC,CAAC3M,GAAG,GAAC2M,CAAC,CAACxC,KAAK,CAACJ,QAAQ,GAAC4C,CAAC,CAAC,GAACc,CAAC,GAAC,CAACA,CAAC,CAAC,EAACtE,CAAC,EAACO,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC4C,CAAC,EAACQ,CAAC,EAACC,CAAC,CAAC,EAAC9D,CAAC,CAACyC,IAAI,GAAC3C,CAAC,CAACqB,GAAG,EAACrB,CAAC,CAAC2B,GAAG,IAAE,CAAC,GAAG,EAACzB,CAAC,CAAC0F,GAAG,CAAC3S,MAAM,IAAE0N,CAAC,CAACvC,IAAI,CAAC8B,CAAC,CAAC,EAACkC,CAAC,KAAGlC,CAAC,CAACqF,GAAG,GAACrF,CAAC,CAACiB,EAAE,GAAC,IAAI;EAAC,CAAC,QAAMnC,CAAC,EAAC;IAACgB,CAAC,CAACyB,GAAG,GAAC,IAAI,EAACsC,CAAC,IAAE,IAAI,IAAErD,CAAC,IAAEV,CAAC,CAACqB,GAAG,GAACkC,CAAC,EAACvD,CAAC,CAAC2B,GAAG,IAAEoC,CAAC,GAAC,GAAG,GAAC,EAAE,EAACrD,CAAC,CAACA,CAAC,CAAC8F,OAAO,CAACjD,CAAC,CAAC,CAAC,GAAC,IAAI,KAAGvD,CAAC,CAACqB,GAAG,GAACd,CAAC,CAACc,GAAG,EAACrB,CAAC,CAACkB,GAAG,GAACX,CAAC,CAACW,GAAG,CAAC,EAACjC,GAAC,CAACoC,GAAG,CAACrC,CAAC,EAACgB,CAAC,EAACO,CAAC;EAAC,CAAC,MAAK,IAAI,IAAEG,CAAC,IAAEV,CAAC,CAACyB,GAAG,KAAGlB,CAAC,CAACkB,GAAG,IAAEzB,CAAC,CAACkB,GAAG,GAACX,CAAC,CAACW,GAAG,EAAClB,CAAC,CAACqB,GAAG,GAACd,CAAC,CAACc,GAAG,IAAErB,CAAC,CAACqB,GAAG,GAACoF,GAAC,CAAClG,CAAC,CAACc,GAAG,EAACrB,CAAC,EAACO,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACoD,CAAC,EAACC,CAAC,CAAC;EAAC,CAACR,CAAC,GAACvE,GAAC,CAACyH,MAAM,KAAGlD,CAAC,CAACxD,CAAC;AAAC;AAAC,SAASoD,GAACuD,CAAC3H,CAAC,EAACgB,CAAC,EAACO,CAAC,EAAC;EAAC,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACD,CAAC,CAACtN,MAAM,EAACuN,CAAC,EAAE,EAACoD,CAAC,CAACrD,CAAC,CAACC,CAAC,CAAC,EAACD,CAAC,CAAC,EAAEC,CAAC,CAAC,EAACD,CAAC,CAAC,EAAEC,CAAC,CAAC,CAAC;EAACvB,GAAC,CAACsC,GAAG,IAAEtC,GAAC,CAACsC,GAAG,CAACvB,CAAC,EAAChB,CAAC,CAAC,EAACA,CAAC,CAAC4H,IAAI,CAAC,UAAS5G,CAAC,EAAC;IAAC,IAAG;MAAChB,CAAC,GAACgB,CAAC,CAAC4F,GAAG,EAAC5F,CAAC,CAAC4F,GAAG,GAAC,EAAE,EAAC5G,CAAC,CAAC4H,IAAI,CAAC,UAAS5H,CAAC,EAAC;QAACA,CAAC,CAAC6B,IAAI,CAACb,CAAC;MAAC,CAAC;IAAC,CAAC,QAAMhB,CAAC,EAAC;MAACC,GAAC,CAACoC,GAAG,CAACrC,CAAC,EAACgB,CAAC,CAACyB,GAAG;IAAC;EAAC,CAAC;AAAC;AAAC,SAASgF,GAACI,CAAC9G,CAAC,EAACC,CAAC,EAACO,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC4C,CAAC,EAACS,CAAC,EAAC;EAAC,IAAIR,CAAC;IAAC1D,CAAC;IAACQ,CAAC;IAACzI,CAAC;IAAC6L,CAAC;IAAChM,CAAC;IAACqK,CAAC;IAACK,CAAC,GAAC7B,CAAC,CAACS,KAAK;IAAC0B,CAAC,GAAC1C,CAAC,CAACgB,KAAK;IAAC6B,CAAC,GAAC7C,CAAC,CAACxH,IAAI;EAAC,IAAG,KAAK,KAAGqK,CAAC,KAAGpC,CAAC,GAAC,IAAE,CAAC,EAAC,IAAI,IAAEC,CAAC,EAAC,KAAI8C,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC9C,CAAC,CAACzN,MAAM,EAACuQ,CAAC,EAAE,EAAC,IAAG,CAACE,CAAC,GAAChD,CAAC,CAAC8C,CAAC,CAAC,KAAG,cAAc,IAAGE,CAAC,IAAE,CAAC,CAACb,CAAC,KAAGA,CAAC,GAACa,CAAC,CAACoD,SAAS,KAAGjE,CAAC,GAAC,CAAC,KAAGa,CAAC,CAACU,QAAQ,CAAC,EAAC;IAACrE,CAAC,GAAC2D,CAAC,EAAChD,CAAC,CAAC8C,CAAC,CAAC,GAAC,IAAI;IAAC;EAAK;EAAC,IAAG,IAAI,IAAEzD,CAAC,EAAC;IAAC,IAAG,IAAI,KAAG8C,CAAC,EAAC,OAAOrR,QAAQ,CAACqH,cAAc,CAAC6J,CAAC,CAAC;IAAC3C,CAAC,GAACU,CAAC,GAACjP,QAAQ,CAAC2F,eAAe,CAAC,4BAA4B,EAAC0L,CAAC,CAAC,GAACrR,QAAQ,CAAC4E,aAAa,CAACyM,CAAC,EAACH,CAAC,CAACqE,EAAE,IAAErE,CAAC,CAAC,EAAChC,CAAC,GAAC,IAAI,EAAC6C,CAAC,GAAC;EAAE;EAAC,IAAG,IAAI,KAAGV,CAAC,EAACT,CAAC,KAAGM,CAAC,IAAEa,CAAC,IAAExD,CAAC,CAACpK,IAAI,KAAG+M,CAAC,KAAG3C,CAAC,CAACpK,IAAI,GAAC+M,CAAC,CAAC,CAAC,KAAI;IAAC,IAAGhC,CAAC,GAACA,CAAC,IAAE1B,CAAC,CAAC6B,IAAI,CAACd,CAAC,CAACiH,UAAU,CAAC,EAAC5E,CAAC,GAAC7B,CAAC,CAACS,KAAK,IAAEzB,GAAC,EAAC,CAACgE,CAAC,IAAE,IAAI,IAAE7C,CAAC,EAAC,KAAI0B,CAAC,GAAC,EAAE,EAACoB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACzD,CAAC,CAACtJ,UAAU,CAACxD,MAAM,EAACuQ,CAAC,EAAE,EAACpB,CAAC,CAAC,CAACsB,CAAC,GAAC3D,CAAC,CAACtJ,UAAU,CAAC+M,CAAC,CAAC,EAAEpI,IAAI,CAAC,GAACsI,CAAC,CAAC4B,KAAK;IAAC,KAAI9B,CAAA,IAAKpB,CAAC,EAACsB,CAAC,GAACtB,CAAC,CAACoB,CAAC,CAAC,EAAC,UAAU,IAAEA,CAAC,KAAG,yBAAyB,IAAEA,CAAC,GAAClD,CAAC,GAACoD,CAAC,GAAC,KAAK,KAAGF,CAAC,IAAEA,CAAA,IAAKd,CAAC,IAAE8B,GAAC,CAACzE,CAAC,EAACyD,CAAC,EAAC,IAAI,EAACE,CAAC,EAACjD,CAAC,CAAC,CAAC;IAAC,KAAI+C,CAAA,IAAKd,CAAC,EAACgB,CAAC,GAAChB,CAAC,CAACc,CAAC,CAAC,EAAC,UAAU,IAAEA,CAAC,GAAC3L,CAAC,GAAC6L,CAAC,GAAC,yBAAyB,IAAEF,CAAC,GAAC1D,CAAC,GAAC4D,CAAC,GAAC,OAAO,IAAEF,CAAC,GAAC9L,CAAC,GAACgM,CAAC,GAAC,SAAS,IAAEF,CAAC,GAACzB,CAAC,GAAC2B,CAAC,GAAC,KAAK,KAAGF,CAAC,IAAED,CAAC,IAAE,UAAU,IAAE,OAAOG,CAAC,IAAEtB,CAAC,CAACoB,CAAC,CAAC,KAAGE,CAAC,IAAEc,GAAC,CAACzE,CAAC,EAACyD,CAAC,EAACE,CAAC,EAACtB,CAAC,CAACoB,CAAC,CAAC,EAAC/C,CAAC,CAAC;IAAC,IAAGX,CAAC,EAACyD,CAAC,IAAEjD,CAAC,KAAGR,CAAC,CAACmH,MAAM,KAAG3G,CAAC,CAAC2G,MAAM,IAAEnH,CAAC,CAACmH,MAAM,KAAGlH,CAAC,CAACmH,SAAS,CAAC,KAAGnH,CAAC,CAACmH,SAAS,GAACpH,CAAC,CAACmH,MAAM,CAAC,EAACjH,CAAC,CAACkB,GAAG,GAAC,EAAE,CAAC,KAAK,IAAGZ,CAAC,KAAGP,CAAC,CAACmH,SAAS,GAAC,EAAE,CAAC,EAAC7D,GAAC,CAACtD,CAAC,EAACL,GAAC,CAAC7H,CAAC,CAAC,GAACA,CAAC,GAAC,CAACA,CAAC,CAAC,EAACmI,CAAC,EAACO,CAAC,EAACC,CAAC,EAACC,CAAC,IAAE,eAAe,KAAGoC,CAAC,EAACnC,CAAC,EAACC,CAAC,EAACD,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAACH,CAAC,CAACW,GAAG,IAAEe,GAAC,CAAC1B,CAAC,EAAC,CAAC,CAAC,EAACgD,CAAC,EAACS,CAAC,CAAC,EAAC,IAAI,IAAEtD,CAAC,EAAC,KAAI8C,CAAC,GAAC9C,CAAC,CAACzN,MAAM,EAACuQ,CAAC,EAAE,GAAE,IAAI,IAAE9C,CAAC,CAAC8C,CAAC,CAAC,IAAEvD,GAAC,CAACS,CAAC,CAAC8C,CAAC,CAAC,CAAC;IAACD,CAAC,KAAGC,CAAC,GAAC,OAAO,EAAC,MAAM,KAAG9L,CAAC,KAAGA,CAAC,KAAGqI,CAAC,CAACyD,CAAC,CAAC,IAAE,UAAU,KAAGX,CAAC,IAAE,CAACnL,CAAC,IAAE,QAAQ,KAAGmL,CAAC,IAAEnL,CAAC,KAAG0K,CAAC,CAACoB,CAAC,CAAC,CAAC,IAAEgB,GAAC,CAACzE,CAAC,EAACyD,CAAC,EAAC9L,CAAC,EAAC0K,CAAC,CAACoB,CAAC,CAAC,EAAC,KAAE,CAAC,EAACA,CAAC,GAAC,SAAS,EAAC,MAAM,KAAGzB,CAAC,IAAEA,CAAC,KAAGhC,CAAC,CAACyD,CAAC,CAAC,IAAEgB,GAAC,CAACzE,CAAC,EAACyD,CAAC,EAACzB,CAAC,EAACK,CAAC,CAACoB,CAAC,CAAC,EAAC,KAAE,CAAC;EAAC;EAAC,OAAOzD,CAAC;AAAA;AAAC,SAAS6D,CAACA,CAAC5E,CAAC,EAACgB,CAAC,EAACO,CAAC,EAAC;EAAC,IAAG;IAAC,UAAU,IAAE,OAAOvB,CAAC,GAACA,CAAC,CAACgB,CAAC,CAAC,GAAChB,CAAC,CAACmI,OAAO,GAACnH,CAAA;EAAC,CAAC,QAAMhB,CAAC,EAAC;IAACC,GAAC,CAACoC,GAAG,CAACrC,CAAC,EAACuB,CAAC;EAAC;AAAC;AAAC,SAAS2D,CAACA,CAAClF,CAAC,EAACgB,CAAC,EAACO,CAAC,EAAC;EAAC,IAAIC,CAAC,EAACC,CAAC;EAAC,IAAGxB,GAAC,CAACmI,OAAO,IAAEnI,GAAC,CAACmI,OAAO,CAACpI,CAAC,CAAC,EAAC,CAACwB,CAAC,GAACxB,CAAC,CAACiC,GAAG,MAAIT,CAAC,CAAC2G,OAAO,IAAE3G,CAAC,CAAC2G,OAAO,KAAGnI,CAAC,CAACqC,GAAG,IAAEuC,CAAC,CAACpD,CAAC,EAAC,IAAI,EAACR,CAAC,CAAC,CAAC,EAAC,IAAI,KAAGQ,CAAC,GAACxB,CAAC,CAACuC,GAAG,CAAC,EAAC;IAAC,IAAGf,CAAC,CAAC6G,oBAAoB,EAAC,IAAG;MAAC7G,CAAC,CAAC6G,oBAAoB;IAAE,CAAC,QAAMrI,CAAC,EAAC;MAACC,GAAC,CAACoC,GAAG,CAACrC,CAAC,EAACgB,CAAC;IAAC;IAACQ,CAAC,CAACmC,IAAI,GAACnC,CAAC,CAAC6B,GAAG,GAAC,IAAI,EAACrD,CAAC,CAACuC,GAAG,GAAC;EAAM;EAAC,IAAGf,CAAC,GAACxB,CAAC,CAACkC,GAAG,EAAC,KAAIT,CAAC,GAAC,CAAC,EAACA,CAAC,GAACD,CAAC,CAACvN,MAAM,EAACwN,CAAC,EAAE,EAACD,CAAC,CAACC,CAAC,CAAC,IAAEyD,CAAC,CAAC1D,CAAC,CAACC,CAAC,CAAC,EAACT,CAAC,EAACO,CAAC,IAAE,UAAU,IAAE,OAAOvB,CAAC,CAACxG,IAAI,CAAC;EAAC+H,CAAC,IAAE,IAAI,IAAEvB,CAAC,CAACqC,GAAG,IAAEpB,GAAC,CAACjB,CAAC,CAACqC,GAAG,CAAC,EAACrC,CAAC,CAACmC,EAAE,GAACnC,CAAC,CAACqC,GAAG,GAACrC,CAAC,CAACsC,GAAG,GAAC;AAAM;AAAC,SAASoE,GAAC4B,CAACtI,CAAC,EAACe,CAAC,EAACC,CAAC,EAAC;EAAC,OAAO,IAAI,CAACwB,WAAW,CAACxC,CAAC,EAACgB,CAAC,CAAC;AAAA;AAAC,SAASuH,GAACC,CAACxH,CAAC,EAACO,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC4C,CAAC;EAACtE,GAAC,CAACkC,EAAE,IAAElC,GAAC,CAACkC,EAAE,CAACnB,CAAC,EAACO,CAAC,CAAC,EAACG,CAAC,GAAC,CAACD,CAAC,GAAC,UAAU,IAAE,WAAQ,IAAE,IAAI,GAAWF,CAAC,CAACW,GAAG,EAACP,CAAC,GAAC,EAAE,EAAC4C,CAAC,GAAC,EAAE,EAACjB,CAAC,CAAC/B,CAAC,EAACP,CAAC,GAASO,CAAC,CAAEW,GAAG,GAACb,GAAC,CAACwB,GAAC,EAAC,IAAI,EAAC,CAAC7B,CAAC,CAAC,CAAC,EAACU,CAAC,IAAEnB,GAAC,EAACA,GAAC,EAAC,MAAM,KAAGgB,CAAC,CAACiC,eAAe,EAAW9B,CAAC,GAAC,IAAI,GAACH,CAAC,CAACkH,UAAU,GAACzI,CAAC,CAAC6B,IAAI,CAACN,CAAC,CAACyG,UAAU,CAAC,GAAC,IAAI,EAACrG,CAAC,EAASD,CAAC,GAACA,CAAC,CAACW,GAAG,GAACd,CAAC,CAACkH,UAAU,EAAChH,CAAC,EAAC8C,CAAC,CAAC,EAACvD,CAAC,CAACsB,GAAG,GAAC,MAAM,EAAC8B,GAAC,CAACzC,CAAC,EAACX,CAAC,EAACuD,CAAC;AAAC;AAAi0BvE,CAAC,GAACQ,GAAC,CAACqF,KAAK,EAAC5F,GAAC,GAAC;EAACoC,GAAG,EAAC,SAAAA,CAASrC,CAAC,EAACe,CAAC,EAACC,CAAC,EAACO,CAAC,EAAC;IAAC,KAAI,IAAIC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACX,CAAC,GAACA,CAAC,CAACoB,EAAE,GAAE,IAAG,CAACX,CAAC,GAACT,CAAC,CAACwB,GAAG,KAAG,CAACf,CAAC,CAACW,EAAE,EAAC,IAAG;MAAC,IAAG,CAACV,CAAC,GAACD,CAAC,CAACgB,WAAW,KAAG,IAAI,IAAEf,CAAC,CAACiH,wBAAwB,KAAGlH,CAAC,CAACmH,QAAQ,CAAClH,CAAC,CAACiH,wBAAwB,CAAC1I,CAAC,CAAC,CAAC,EAAC0B,CAAC,GAACF,CAAC,CAACc,GAAG,CAAC,EAAC,IAAI,IAAEd,CAAC,CAACoH,iBAAiB,KAAGpH,CAAC,CAACoH,iBAAiB,CAAC5I,CAAC,EAACuB,CAAC,IAAE,EAAE,CAAC,EAACG,CAAC,GAACF,CAAC,CAACc,GAAG,CAAC,EAACZ,CAAC,EAAC,OAAOF,CAAC,CAAC+E,GAAG,GAAC/E,CAAC;IAAA,CAAC,QAAMT,CAAC,EAAC;MAACf,CAAC,GAACe,CAAA;IAAC;IAAC,MAAMf,CAAC;EAAA;AAAC,CAAC,EAACE,GAAC,GAAC,CAAC,EAAoD4C,GAAC,CAAC0D,SAAS,CAACmC,QAAQ,GAAC,UAAS3I,CAAC,EAACe,CAAC,EAAC;EAAC,IAAIC,CAAC;EAACA,CAAC,GAAC,IAAI,IAAE,IAAI,CAAC8F,GAAG,IAAE,IAAI,CAACA,GAAG,KAAG,IAAI,CAACH,KAAK,GAAC,IAAI,CAACG,GAAG,GAAC,IAAI,CAACA,GAAG,GAACjG,GAAC,CAAC,EAAE,EAAC,IAAI,CAAC8F,KAAK,CAAC,EAAC,UAAU,IAAE,OAAO3G,CAAC,KAAGA,CAAC,GAACA,CAAC,CAACa,GAAC,CAAC,EAAE,EAACG,CAAC,CAAC,EAAC,IAAI,CAACgB,KAAK,CAAC,CAAC,EAAChC,CAAC,IAAEa,GAAC,CAACG,CAAC,EAAChB,CAAC,CAAC,EAAC,IAAI,IAAEA,CAAC,IAAE,IAAI,CAACyC,GAAG,KAAG1B,CAAC,IAAE,IAAI,CAAC8F,GAAG,CAACzH,IAAI,CAAC2B,CAAC,CAAC,EAAC6C,GAAC,CAAC,IAAI,CAAC;AAAC,CAAC,EAACd,GAAC,CAAC0D,SAAS,CAACqC,WAAW,GAAC,UAAS7I,CAAC,EAAC;EAAC,IAAI,CAACyC,GAAG,KAAG,IAAI,CAACJ,GAAG,GAAC,IAAE,EAACrC,CAAC,IAAE,IAAI,CAAC4G,GAAG,CAACxH,IAAI,CAACY,CAAC,CAAC,EAAC4D,GAAC,CAAC,IAAI,CAAC;AAAC,CAAC,EAACd,GAAC,CAAC0D,SAAS,CAACC,MAAM,GAAC5D,GAAC,EAAC1C,GAAC,GAAC,EAAE,EAACE,GAAC,GAAC,UAAU,IAAE,OAAOnL,OAAO,GAACA,OAAO,CAACsR,SAAS,CAACsC,IAAI,CAACC,IAAI,CAAC7T,OAAO,CAACC,OAAO,EAAE,CAAC,GAACG,UAAU,EAACgL,GAAC,GAAC,SAAAqB,CAAS3B,CAAC,EAACe,CAAC,EAAC;EAAC,OAAOf,CAAC,CAACyC,GAAG,CAACL,GAAG,GAACrB,CAAC,CAAC0B,GAAG,CAACL,GAAG;AAAA,CAAC,EAAC0B,GAAC,CAACC,GAAG,GAAC,CAAK;ACA9rV,IAAIxC,CAAC;EAACG,CAAC;EAACV,CAAC;EAACQ,CAAC;EAACC,CAAC,GAAC,CAAC;EAACE,CAAC,GAAC,EAAE;EAACoD,CAAC,GAAC,EAAE;EAACR,CAAC,GAACtE,GAAC;EAACuE,CAAC,GAACD,CAAC,CAACnC,GAAG;EAACtB,CAAC,GAACyD,CAAC,CAACR,GAAG;EAAChD,CAAC,GAACwD,CAAC,CAACmD,MAAM;EAACxE,CAAC,GAACqB,CAAC,CAAChC,GAAG;EAACyC,CAAC,GAACT,CAAC,CAAC6D,OAAO;EAACvP,CAAC,GAAC0L,CAAC,CAACpC,EAAE;AAAC,SAASsC,CAACA,CAACzE,CAAC,EAACuB,CAAC,EAAC;EAACgD,CAAC,CAACqC,GAAG,IAAErC,CAAC,CAACqC,GAAG,CAAClF,CAAC,EAAC1B,CAAC,EAACyB,CAAC,IAAEF,CAAC,CAAC,EAACE,CAAC,GAAC,CAAC;EAAC,IAAIT,CAAC,GAACU,CAAC,CAACsH,GAAG,KAAGtH,CAAC,CAACsH,GAAG,GAAC;IAAC7G,EAAE,EAAC,EAAE;IAACyE,GAAG,EAAC;EAAE,CAAC,CAAC;EAAC,OAAO5G,CAAC,IAAEgB,CAAC,CAACmB,EAAE,CAAClO,MAAM,IAAE+M,CAAC,CAACmB,EAAE,CAAC/C,IAAI,CAAC;IAAC6J,GAAG,EAAClE;EAAC,CAAC,CAAC,EAAC/D,CAAC,CAACmB,EAAE,CAACnC,CAAC,CAAC;AAAA;AAAC,SAASkB,CAACA,CAAClB,CAAC,EAAC;EAAC,OAAOyB,CAAC,GAAC,CAAC,EAACH,CAAC,CAAC6E,CAAC,EAACnG,CAAC,CAAC;AAAA;AAAC,SAASsB,CAACA,CAACtB,CAAC,EAACgB,CAAC,EAACQ,CAAC,EAAC;EAAC,IAAIC,CAAC,GAACgD,CAAC,CAAClD,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,IAAGE,CAAC,CAACF,CAAC,GAACvB,CAAC,EAAC,CAACyB,CAAC,CAACc,GAAG,KAAGd,CAAC,CAACU,EAAE,GAAC,CAACX,CAAC,GAACA,CAAC,CAACR,CAAC,CAAC,GAACmF,CAAC,CAAC,MAAM,EAACnF,CAAC,CAAC,EAAC,UAAShB,CAAC,EAAC;IAAC,IAAIuB,CAAC,GAACE,CAAC,CAACyH,GAAG,GAACzH,CAAC,CAACyH,GAAG,CAAC,CAAC,CAAC,GAACzH,CAAC,CAACU,EAAE,CAAC,CAAC,CAAC;MAACT,CAAC,GAACD,CAAC,CAACF,CAAC,CAACA,CAAC,EAACvB,CAAC,CAAC;IAACuB,CAAC,KAAGG,CAAC,KAAGD,CAAC,CAACyH,GAAG,GAAC,CAACxH,CAAC,EAACD,CAAC,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC,EAACV,CAAC,CAACc,GAAG,CAACoG,QAAQ,CAAC,EAAE,CAAC;EAAC,CAAC,CAAC,EAAClH,CAAC,CAACc,GAAG,GAACb,CAAC,EAAC,CAACA,CAAC,CAACV,CAAC,CAAC,EAAC;IAAC,IAAIW,CAAC,GAAC,SAAAA,CAAS3B,CAAC,EAACuB,CAAC,EAACG,CAAC,EAAC;MAAC,IAAG,CAACD,CAAC,CAACc,GAAG,CAACyG,GAAG,EAAC,OAAM,IAAE;MAAC,IAAIhI,CAAC,GAACS,CAAC,CAACc,GAAG,CAACyG,GAAG,CAAC7G,EAAE,CAAClD,MAAM,CAAC,UAASe,CAAC,EAAC;QAAC,OAAM,CAAC,CAACA,CAAC,CAACuC,GAAG;MAAA,CAAC,CAAC;MAAC,IAAGvB,CAAC,CAACmI,KAAK,CAAC,UAASnJ,CAAC,EAAC;QAAC,OAAM,CAACA,CAAC,CAACkJ,GAAG;MAAA,CAAC,CAAC,EAAC,OAAM,CAACnE,CAAC,IAAEA,CAAC,CAAClD,IAAI,CAAC,IAAI,EAAC7B,CAAC,EAACuB,CAAC,EAACG,CAAC,CAAC;MAAC,IAAIF,CAAC,GAAC,KAAE;MAAC,OAAOR,CAAC,CAACrJ,OAAO,CAAC,UAASqI,CAAC,EAAC;QAAC,IAAGA,CAAC,CAACkJ,GAAG,EAAC;UAAC,IAAI3H,CAAC,GAACvB,CAAC,CAACmC,EAAE,CAAC,CAAC,CAAC;UAACnC,CAAC,CAACmC,EAAE,GAACnC,CAAC,CAACkJ,GAAG,EAAClJ,CAAC,CAACkJ,GAAG,GAAC,MAAM,EAAC3H,CAAC,KAAGvB,CAAC,CAACmC,EAAE,CAAC,CAAC,CAAC,KAAGX,CAAC,GAAC,IAAE;QAAC;MAAC,CAAC,CAAC,EAAC,EAAE,CAACA,CAAC,IAAEC,CAAC,CAACc,GAAG,CAACP,KAAK,KAAGhC,CAAC,CAAC,KAAG,CAAC+E,CAAC,IAAEA,CAAC,CAAClD,IAAI,CAAC,IAAI,EAAC7B,CAAC,EAACuB,CAAC,EAACG,CAAC,CAAC,CAAC;IAAA,CAAC;IAACA,CAAC,CAACV,CAAC,GAAC,IAAE;IAAC,IAAI+D,CAAC,GAACrD,CAAC,CAACyF,qBAAqB;MAAC5C,CAAC,GAAC7C,CAAC,CAAC0F,mBAAmB;IAAC1F,CAAC,CAAC0F,mBAAmB,GAAC,UAASpH,CAAC,EAACuB,CAAC,EAACG,CAAC,EAAC;MAAC,IAAG,IAAI,CAACW,GAAG,EAAC;QAAC,IAAIrB,CAAC,GAAC+D,CAAC;QAACA,CAAC,GAAC,MAAM,EAACpD,CAAC,CAAC3B,CAAC,EAACuB,CAAC,EAACG,CAAC,CAAC,EAACqD,CAAC,GAAC/D,CAAA;MAAC;MAACuD,CAAC,IAAEA,CAAC,CAAC1C,IAAI,CAAC,IAAI,EAAC7B,CAAC,EAACuB,CAAC,EAACG,CAAC;IAAC,CAAC,EAACA,CAAC,CAACyF,qBAAqB,GAACxF,CAAA;EAAC;EAAC,OAAOF,CAAC,CAACyH,GAAG,IAAEzH,CAAC,CAACU,EAAE;AAAA;AAAC,SAASuC,CAACA,CAAC1E,CAAC,EAACgB,CAAC,EAAC;EAAC,IAAIQ,CAAC,GAACiD,CAAC,CAAClD,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,CAACgD,CAAC,CAACuC,GAAG,IAAE7C,CAAC,CAACzC,CAAC,CAACwH,GAAG,EAAChI,CAAC,CAAC,KAAGQ,CAAC,CAACW,EAAE,GAACnC,CAAC,EAACwB,CAAC,CAACA,CAAC,GAACR,CAAC,EAACU,CAAC,CAACsH,GAAG,CAACpC,GAAG,CAACxH,IAAI,CAACoC,CAAC,CAAC;AAAC;AAAC,SAASiE,CAACA,CAACzF,CAAC,EAACgB,CAAC,EAAC;EAAC,IAAIQ,CAAC,GAACiD,CAAC,CAAClD,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,CAACgD,CAAC,CAACuC,GAAG,IAAE7C,CAAC,CAACzC,CAAC,CAACwH,GAAG,EAAChI,CAAC,CAAC,KAAGQ,CAAC,CAACW,EAAE,GAACnC,CAAC,EAACwB,CAAC,CAACA,CAAC,GAACR,CAAC,EAACU,CAAC,CAACkF,GAAG,CAACxH,IAAI,CAACoC,CAAC,CAAC;AAAC;AAAC,SAAS4H,CAACA,CAACpJ,CAAC,EAAC;EAAC,OAAOyB,CAAC,GAAC,CAAC,EAAC6G,CAAC,CAAC,YAAU;IAAC,OAAM;MAACH,OAAO,EAACnI;IAAC,CAAC;EAAA,CAAC,EAAC,EAAE,CAAC;AAAA;AAAC,SAASsF,CAACA,CAACtF,CAAC,EAACuB,CAAC,EAACG,CAAC,EAAC;EAACD,CAAC,GAAC,CAAC,EAACgE,CAAC,CAAC,YAAU;IAAC,OAAM,UAAU,IAAE,OAAOzF,CAAC,IAAEA,CAAC,CAACuB,CAAC,EAAE,CAAC,EAAC,YAAU;MAAC,OAAOvB,CAAC,CAAC,IAAI,CAAC;IAAA,CAAC,IAAEA,CAAC,IAAEA,CAAC,CAACmI,OAAO,GAAC5G,CAAC,EAAE,EAAC,YAAU;MAAC,OAAOvB,CAAC,CAACmI,OAAO,GAAC,IAAI;IAAA,CAAC,IAAE,MAAM;EAAA,CAAC,EAAC,IAAI,IAAEzG,CAAC,GAACA,CAAC,GAACA,CAAC,CAAC2H,MAAM,CAACrJ,CAAC,CAAC;AAAC;AAAC,SAASsI,CAACA,CAACtI,CAAC,EAAC0B,CAAC,EAAC;EAAC,IAAIV,CAAC,GAACyD,CAAC,CAAClD,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,OAAO0C,CAAC,CAACjD,CAAC,CAACgI,GAAG,EAACtH,CAAC,CAAC,IAAEV,CAAC,CAACiI,GAAG,GAACjJ,CAAC,EAAE,EAACgB,CAAC,CAACQ,CAAC,GAACE,CAAC,EAACV,CAAC,CAAC4F,GAAG,GAAC5G,CAAC,EAACgB,CAAC,CAACiI,GAAG,IAAEjI,CAAC,CAACmB,EAAE;AAAA;AAAC,SAAS0B,CAACA,CAAC7D,CAAC,EAACuB,CAAC,EAAC;EAAC,OAAOE,CAAC,GAAC,CAAC,EAAC6G,CAAC,CAAC,YAAU;IAAC,OAAOtI,CAAC;EAAA,CAAC,EAACuB,CAAC,CAAC;AAAA;AAAC,SAAS+C,CAACA,CAACtE,CAAC,EAAC;EAAC,IAAIgB,CAAC,GAACU,CAAC,CAACsB,OAAO,CAAChD,CAAC,CAACuC,GAAG,CAAC;IAACf,CAAC,GAACiD,CAAC,CAAClD,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,OAAOC,CAAC,CAACuD,CAAC,GAAC/E,CAAC,EAACgB,CAAC,IAAE,IAAI,IAAEQ,CAAC,CAACW,EAAE,KAAGX,CAAC,CAACW,EAAE,GAAC,IAAE,EAACnB,CAAC,CAAC9B,GAAG,CAACwC,CAAC,CAAC,CAAC,EAACV,CAAC,CAACgB,KAAK,CAACsE,KAAK,IAAEtG,CAAC,CAACmC,EAAE;AAAA;AAAC,SAASmH,CAACA,CAACtJ,CAAC,EAACuB,CAAC,EAAC;EAACgD,CAAC,CAACgF,aAAa,IAAEhF,CAAC,CAACgF,aAAa,CAAChI,CAAC,GAACA,CAAC,CAACvB,CAAC,CAAC,GAACA,CAAC;AAAC;AAAC,SAAS+C,CAACA,CAAC/C,CAAC,EAAC;EAAC,IAAIgB,CAAC,GAACyD,CAAC,CAAClD,CAAC,EAAE,EAAC,EAAE,CAAC;IAACC,CAAC,GAACN,CAAC,EAAE;EAAC,OAAOF,CAAC,CAACmB,EAAE,GAACnC,CAAC,EAAC0B,CAAC,CAACkH,iBAAiB,KAAGlH,CAAC,CAACkH,iBAAiB,GAAC,UAAS5I,CAAC,EAACuB,CAAC,EAAC;IAACP,CAAC,CAACmB,EAAE,IAAEnB,CAAC,CAACmB,EAAE,CAACnC,CAAC,EAACuB,CAAC,CAAC,EAACC,CAAC,CAAC,CAAC,CAAC,CAACxB,CAAC;EAAC,CAAC,CAAC,EAAC,CAACwB,CAAC,CAAC,CAAC,CAAC,EAAC,YAAU;IAACA,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;EAAC,CAAC,CAAC;AAAA;AAAC,SAAS9I,CAACA,CAAA,EAAE;EAAC,IAAIsH,CAAC,GAACyE,CAAC,CAAClD,CAAC,EAAE,EAAC,EAAE,CAAC;EAAC,IAAG,CAACvB,CAAC,CAACmC,EAAE,EAAC;IAAC,KAAI,IAAInB,CAAC,GAACU,CAAC,CAACe,GAAG,EAAC,IAAI,KAAGzB,CAAC,IAAE,CAACA,CAAC,CAACwI,GAAG,IAAE,IAAI,KAAGxI,CAAC,CAACmB,EAAE,GAAEnB,CAAC,GAACA,CAAC,CAACmB,EAAE;IAAC,IAAIX,CAAC,GAACR,CAAC,CAACwI,GAAG,KAAGxI,CAAC,CAACwI,GAAG,GAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IAACxJ,CAAC,CAACmC,EAAE,GAAC,GAAG,GAACX,CAAC,CAAC,CAAC,CAAC,GAAC,GAAG,GAACA,CAAC,CAAC,CAAC,CAAC;EAAE;EAAC,OAAOxB,CAAC,CAACmC,EAAE;AAAA;AAAC,SAASwF,CAACA,CAAA,EAAE;EAAC,KAAI,IAAI3H,CAAC,EAACA,CAAC,GAAC2B,CAAC,CAACwC,KAAK,EAAE,GAAE,IAAGnE,CAAC,CAACqD,GAAG,IAAErD,CAAC,CAACgJ,GAAG,EAAC,IAAG;IAAChJ,CAAC,CAACgJ,GAAG,CAACpC,GAAG,CAACjP,OAAO,CAACkQ,CAAC,CAAC,EAAC7H,CAAC,CAACgJ,GAAG,CAACpC,GAAG,CAACjP,OAAO,CAAC6Q,CAAC,CAAC,EAACxI,CAAC,CAACgJ,GAAG,CAACpC,GAAG,GAAC;EAAE,CAAC,QAAMrF,CAAC,EAAC;IAACvB,CAAC,CAACgJ,GAAG,CAACpC,GAAG,GAAC,EAAE,EAACrC,CAAC,CAAClC,GAAG,CAACd,CAAC,EAACvB,CAAC,CAACyC,GAAG;EAAC;AAAC;AAAC8B,CAAC,CAACnC,GAAG,GAAC,UAASpC,CAAC,EAAC;EAAC0B,CAAC,GAAC,IAAI,EAAC8C,CAAC,IAAEA,CAAC,CAACxE,CAAC;AAAC,CAAC,EAACuE,CAAC,CAACpC,EAAE,GAAC,UAASnC,CAAC,EAACuB,CAAC,EAAC;EAACA,CAAC,CAACW,GAAG,IAAEX,CAAC,CAACW,GAAG,CAACsH,GAAG,KAAGxJ,CAAC,CAACwJ,GAAG,GAACjI,CAAC,CAACW,GAAG,CAACsH,GAAG,CAAC,EAAC3Q,CAAC,IAAEA,CAAC,CAACmH,CAAC,EAACuB,CAAC;AAAC,CAAC,EAACgD,CAAC,CAACR,GAAG,GAAC,UAAS/D,CAAC,EAAC;EAACc,CAAC,IAAEA,CAAC,CAACd,CAAC,CAAC,EAACuB,CAAC,GAAC,CAAC;EAAC,IAAIC,CAAC,GAAC,CAACE,CAAC,GAAC1B,CAAC,CAACuC,GAAG,EAAEyG,GAAG;EAACxH,CAAC,KAAGR,CAAC,KAAGU,CAAC,IAAEF,CAAC,CAACoF,GAAG,GAAC,EAAE,EAAClF,CAAC,CAACkF,GAAG,GAAC,EAAE,EAACpF,CAAC,CAACW,EAAE,CAACxK,OAAO,CAAC,UAASqI,CAAC,EAAC;IAACA,CAAC,CAACkJ,GAAG,KAAGlJ,CAAC,CAACmC,EAAE,GAACnC,CAAC,CAACkJ,GAAG,CAAC,EAAClJ,CAAC,CAACiJ,GAAG,GAAClE,CAAC,EAAC/E,CAAC,CAACkJ,GAAG,GAAClJ,CAAC,CAACwB,CAAC,GAAC;EAAM,CAAC,CAAC,KAAGA,CAAC,CAACoF,GAAG,CAACjP,OAAO,CAACkQ,CAAC,CAAC,EAACrG,CAAC,CAACoF,GAAG,CAACjP,OAAO,CAAC6Q,CAAC,CAAC,EAAChH,CAAC,CAACoF,GAAG,GAAC,EAAE,EAACrF,CAAC,GAAC,CAAC,CAAC,CAAC,EAACP,CAAC,GAACU,CAAA;AAAC,CAAC,EAAC6C,CAAC,CAACmD,MAAM,GAAC,UAAS1H,CAAC,EAAC;EAACe,CAAC,IAAEA,CAAC,CAACf,CAAC,CAAC;EAAC,IAAIuB,CAAC,GAACvB,CAAC,CAACuC,GAAG;EAAChB,CAAC,IAAEA,CAAC,CAACyH,GAAG,KAAGzH,CAAC,CAACyH,GAAG,CAACpC,GAAG,CAAC3S,MAAM,KAAG,CAAC,KAAG0N,CAAC,CAACvC,IAAI,CAACmC,CAAC,CAAC,IAAEC,CAAC,KAAG+C,CAAC,CAACkF,qBAAqB,IAAE,CAAC,CAACjI,CAAC,GAAC+C,CAAC,CAACkF,qBAAqB,KAAGrG,CAAC,EAAEuE,CAAC,CAAC,CAAC,EAACpG,CAAC,CAACyH,GAAG,CAAC7G,EAAE,CAACxK,OAAO,CAAC,UAASqI,CAAC,EAAC;IAACA,CAAC,CAACwB,CAAC,KAAGxB,CAAC,CAACgJ,GAAG,GAAChJ,CAAC,CAACwB,CAAC,CAAC,EAACxB,CAAC,CAACiJ,GAAG,KAAGlE,CAAC,KAAG/E,CAAC,CAACmC,EAAE,GAACnC,CAAC,CAACiJ,GAAG,CAAC,EAACjJ,CAAC,CAACwB,CAAC,GAAC,MAAM,EAACxB,CAAC,CAACiJ,GAAG,GAAClE,CAAA;EAAC,CAAC,CAAC,CAAC,EAAC/D,CAAC,GAACU,CAAC,GAAC;AAAI,CAAC,EAAC6C,CAAC,CAAChC,GAAG,GAAC,UAASvC,CAAC,EAACuB,CAAC,EAAC;EAACA,CAAC,CAACqG,IAAI,CAAC,UAAS5H,CAAC,EAAC;IAAC,IAAG;MAACA,CAAC,CAAC4G,GAAG,CAACjP,OAAO,CAACkQ,CAAC,CAAC,EAAC7H,CAAC,CAAC4G,GAAG,GAAC5G,CAAC,CAAC4G,GAAG,CAAC3H,MAAM,CAAC,UAASe,CAAC,EAAC;QAAC,OAAM,CAACA,CAAC,CAACmC,EAAE,IAAEqG,CAAC,CAACxI,CAAC,CAAC;MAAA,CAAC;IAAC,CAAC,QAAM0B,CAAC,EAAC;MAACH,CAAC,CAACqG,IAAI,CAAC,UAAS5H,CAAC,EAAC;QAACA,CAAC,CAAC4G,GAAG,KAAG5G,CAAC,CAAC4G,GAAG,GAAC,EAAE;MAAC,CAAC,CAAC,EAACrF,CAAC,GAAC,EAAE,EAACgD,CAAC,CAAClC,GAAG,CAACX,CAAC,EAAC1B,CAAC,CAACyC,GAAG;IAAC;EAAC,CAAC,CAAC,EAACS,CAAC,IAAEA,CAAC,CAAClD,CAAC,EAACuB,CAAC;AAAC,CAAC,EAACgD,CAAC,CAAC6D,OAAO,GAAC,UAASpI,CAAC,EAAC;EAACgF,CAAC,IAAEA,CAAC,CAAChF,CAAC,CAAC;EAAC,IAAIuB,CAAC;IAACG,CAAC,GAAC1B,CAAC,CAACuC,GAAG;EAACb,CAAC,IAAEA,CAAC,CAACsH,GAAG,KAAGtH,CAAC,CAACsH,GAAG,CAAC7G,EAAE,CAACxK,OAAO,CAAC,UAASqI,CAAC,EAAC;IAAC,IAAG;MAAC6H,CAAC,CAAC7H,CAAC;IAAC,CAAC,QAAMA,CAAC,EAAC;MAACuB,CAAC,GAACvB,CAAA;IAAC;EAAC,CAAC,CAAC,EAAC0B,CAAC,CAACsH,GAAG,GAAC,MAAM,EAACzH,CAAC,IAAEgD,CAAC,CAAClC,GAAG,CAACd,CAAC,EAACG,CAAC,CAACe,GAAG,CAAC;AAAC,CAAC;AAAC,IAAIiB,CAAC,GAAC,UAAU,IAAE,OAAO+F,qBAAqB;AAAC,SAASrG,CAACA,CAACpD,CAAC,EAAC;EAAC,IAAIuB,CAAC;IAACG,CAAC,GAAC,SAAAA,CAAA,EAAU;MAAC9L,YAAY,CAACoL,CAAC,CAAC,EAAC0C,CAAC,IAAEgG,oBAAoB,CAACnI,CAAC,CAAC,EAACjM,UAAU,CAAC0K,CAAC;IAAC,CAAC;IAACgB,CAAC,GAAC1L,UAAU,CAACoM,CAAC,EAAC,GAAG,CAAC;EAACgC,CAAC,KAAGnC,CAAC,GAACkI,qBAAqB,CAAC/H,CAAC,CAAC;AAAC;AAAC,SAASmG,CAACA,CAAC7H,CAAC,EAAC;EAAC,IAAIuB,CAAC,GAACG,CAAC;IAACV,CAAC,GAAChB,CAAC,CAACuC,GAAG;EAAC,UAAU,IAAE,OAAOvB,CAAC,KAAGhB,CAAC,CAACuC,GAAG,GAAC,MAAM,EAACvB,CAAC,EAAE,CAAC,EAACU,CAAC,GAACH,CAAA;AAAC;AAAC,SAASiH,CAACA,CAACxI,CAAC,EAAC;EAAC,IAAIuB,CAAC,GAACG,CAAC;EAAC1B,CAAC,CAACuC,GAAG,GAACvC,CAAC,CAACmC,EAAE,EAAE,EAACT,CAAC,GAACH,CAAA;AAAC;AAAC,SAAS0C,CAACA,CAACjE,CAAC,EAACuB,CAAC,EAAC;EAAC,OAAM,CAACvB,CAAC,IAAEA,CAAC,CAAC/L,MAAM,KAAGsN,CAAC,CAACtN,MAAM,IAAEsN,CAAC,CAACqG,IAAI,CAAC,UAASrG,CAAC,EAACG,CAAC,EAAC;IAAC,OAAOH,CAAC,KAAGvB,CAAC,CAAC0B,CAAC,CAAC;EAAA,CAAC,CAAC;AAAA;AAAC,SAASyE,CAACA,CAACnG,CAAC,EAACuB,CAAC,EAAC;EAAC,OAAM,UAAU,IAAE,OAAOA,CAAC,GAACA,CAAC,CAACvB,CAAC,CAAC,GAACuB,CAAC;AAAA;;;;;;;;;;;;;;;;;;ACGx8G,MAAMoI,OAAA,GAAQ,4BAA4B;;AAE1C;AACA;AACA;AACO,SAASC,UAAUA,CAAA,EAAe;EACvC,MAAMzR,eAAA,GAAyDC,OAAO,IACpE7F,QAAQ,CAAC4F,eAAe,CAACwR,OAAK,EAAEvR,OAAO,CAAC;EAC1C,MAAMC,GAAA,GAAMd,eAAe,CAACY,eAAe,CAAC,KAAK,CAAC,EAAE;IAClDG,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE,IAAI;IACZC,OAAO,EAAE,WAAW;IACpBC,IAAI,EAAE;EACV,CAAG,CAAC;EAEF,MAAMG,IAAA,GAAOrB,eAAe,CAACY,eAAe,CAAC,MAAM,CAAC,EAAE;IACpD0R,SAAS,EAAE,mBAAmB;IAC9BhR,CAAC,EAAE;EACP,CAAG,CAAC;EACFR,GAAG,CAACS,WAAW,CAACF,IAAI,CAAC;EAErB,OAAOP,GAAG;AACZ;ACfO,SAASyR,YAAYA,CAAAC,KAAA,EAA4B;EAAA,IAA3B;IAAEvM;EAAA,CAAS,GAAAuM,KAAA;EACtC,MAAMC,QAAA,GAAW1B,CAAO,CAAC,OAAO;IAAEL,MAAM,EAAE2B,UAAU,EAAE,CAACK;EAAA,CAAW,CAAC,EAAE,EAAE,CAAC;EAExE,OACE5I,GAAA,CAAC;IAAG6I,KAAK,EAAC;EAAA,GACR7I,GAAA,CAAC;IAAK6I,KAAK,EAAC;EAAA,CAAe,EAAE1M,OAAO,CAACb,SAAS,GAC7Ca,OAAO,CAAC5B,YAAA,GACPyF,GAAA,CAAC;IACC6I,KAAK,EAAC;IACNC,MAAM,EAAC;IACPC,IAAI,EAAC;IACLC,KAAK,EAAC;IACNC,GAAG,EAAC;IACJC,uBAAuB,EAACP;EAAS,CAC3C,IACU,IACV;AAEA;;ACrBA;AACA;AACA;AACO,SAASQ,gBAAgBA,CAACC,QAAQ,EAAoBzI,KAAK,EAAmB;EACnF,MAAM0I,WAAA,GAAc,EAAE;EACtB,IAAI1I,KAAK,CAAClG,cAAA,IAAkB,CAAC2O,QAAQ,CAACrO,IAAI,EAAE;IAC1CsO,WAAW,CAACtL,IAAI,CAAC4C,KAAK,CAACjF,SAAS,CAAC;EACrC;EACE,IAAIiF,KAAK,CAACnG,eAAA,IAAmB,CAAC4O,QAAQ,CAACtO,KAAK,EAAE;IAC5CuO,WAAW,CAACtL,IAAI,CAAC4C,KAAK,CAACvF,UAAU,CAAC;EACtC;EACE,IAAI,CAACgO,QAAQ,CAACrW,OAAO,EAAE;IACrBsW,WAAW,CAACtL,IAAI,CAAC4C,KAAK,CAACnF,YAAY,CAAC;EACxC;EAEE,OAAO6N,WAAW;AACpB;ACEA,SAASC,mBAAmBA,CAACC,QAAQ,EAAY/S,GAAG,EAAkB;EACpE,MAAMyO,KAAA,GAAQsE,QAAQ,CAACC,GAAG,CAAChT,GAAG,CAAC;EAC/B,IAAI,OAAOyO,KAAA,KAAU,QAAQ,EAAE;IAC7B,OAAOA,KAAK,CAACwE,IAAI,EAAE;EACvB;EACE,OAAO,EAAE;AACX;AAEO,SAASC,IAAIA,CAAAC,KAAA,EAYH;EAAA,IAZI;IACnBxN,OAAO;IACPyN,YAAY;IACZC,WAAW;IAEXzU,WAAW;IACX0U,QAAQ;IACRzU,eAAe;IACfE,aAAa;IACbmF,SAAS;IACTC,QAAQ;IACRoP;EACF,CAAC,GAAAJ,KAAA;EACC,MAAM;IACJxW,IAAI;IACJ8H,wBAAwB;IACxBW,2BAA2B;IAC3BV,iBAAiB;IACjBE,UAAU;IACVC,gBAAgB;IAChBb,eAAe;IACfC,cAAc;IACde,YAAY;IACZC,kBAAkB;IAClBC,SAAS;IACTC,eAAe;IACfE,iBAAiB;IACjBN;EACJ,CAAE,GAAIY,OAAO;EACX,MAAM,CAAC6N,YAAY,EAAEC,eAAe,IAAIpK,CAAQ,CAAU,KAAK,CAAC;EAClE;EACE,MAAM,CAACrK,KAAK,EAAE0U,QAAQ,IAAIrK,CAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAM,CAACsK,mBAAmB,EAAEC,sBAAsB,IAAIvK,CAAQ,CAAC,KAAK,CAAC;EACvE;EACE,MAAMwK,wBAAwB,GAAQN,eAAe,EAAEO,KAAK;EAE5D,MAAM,CAACC,eAAe,EAAEC,kBAAkB,IAAI3K,CAAQ,CAAe,IAAI,CAAC;EAC1E,MAAM4K,iBAAA,GAAoBjI,CAAW,CAAEhN,KAAK,IAAY;IACtDgV,kBAAkB,CAAChV,KAAK,CAAC;IACzB4U,sBAAsB,CAAC,KAAK,CAAC;EACjC,CAAG,EAAE,EAAE,CAAC;EAEN,MAAMM,oBAAA,GAAuBlI,CAAW,CACrClN,IAAI,IAAuB;IAC1B,MAAMqV,aAAA,GAAgBxB,gBAAgB,CAAC7T,IAAI,EAAE;MAC3C8F,UAAU;MACVZ,eAAe;MACfC,cAAc;MACde,YAAY;MACZE;IACR,CAAO,CAAC;IAEF,IAAIiP,aAAa,CAAC/X,MAAA,GAAS,CAAC,EAAE;MAC5BsX,QAAQ,CAAC,kDAAkDS,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC,EAAC;IACA;MACAV,QAAA;IACA;IAEA,OAAAS,aAAA,CAAA/X,MAAA;EACA,GACA,CAAAwI,UAAA,EAAAZ,eAAA,EAAAC,cAAA,EAAAe,YAAA,EAAAE,SAAA,CACA;EAEA,MAAAmP,YAAA,GAAArI,CAAA,CACA,MAAAU,CAAA;IACA+G,eAAA;IACA;MACA/G,CAAA,CAAA4H,cAAA;MACA,MAAA5H,CAAA,CAAA4F,MAAA,YAAAiC,eAAA;QACA;MACA;MACA,MAAAxB,QAAA,OAAAyB,QAAA,CAAA9H,CAAA,CAAA4F,MAAA;MACA,MAAAmC,UAAA,UAAAlB,eAAA,IAAAI,mBAAA,GAAAJ,eAAA,CAAA9E,KAAA,KAAApS,SAAA;MAEA,MAAAyC,IAAA;QACAyF,IAAA,EAAAuO,mBAAA,CAAAC,QAAA;QACAzO,KAAA,EAAAwO,mBAAA,CAAAC,QAAA;QACAxW,OAAA,EAAAuW,mBAAA,CAAAC,QAAA;QACA2B,WAAA,EAAAD,UAAA,IAAAA,UAAA,IAAApY;MACA;MAEA,KAAA6X,oBAAA,CAAApV,IAAA;QACA;MACA;MAEA;QACA,MAAA9B,OAAA,SAAAsW,QAAA,CACA;UACA/O,IAAA,EAAAzF,IAAA,CAAAyF,IAAA;UACAD,KAAA,EAAAxF,IAAA,CAAAwF,KAAA;UACA/H,OAAA,EAAAuC,IAAA,CAAAvC,OAAA;UACAW,MAAA,EAAArB,sBAAA;UACAc;QACA,GACA;UAAA+X,WAAA,EAAA5V,IAAA,CAAA4V;QAAA,CACA;QACA7V,eAAA,CAAAC,IAAA,EAAA9B,OAAA;MACA,SAAAgC,KAAA;QACAf,WAAA,IAAAsI,KAAA,CAAAvH,KAAA,CAAAA,KAAA;QACA0U,QAAA,CAAA1U,KAAA;QACAD,aAAA,CAAAC,KAAA;MACA;IACA;MACAyU,eAAA;IACA;EACA,GACA,CAAAF,eAAA,IAAAI,mBAAA,EAAA9U,eAAA,EAAAE,aAAA,CACA;EAEA,OACAyK,GAAA;IAAA6I,KAAA;IAAAiB,QAAA,EAAAe;EAAA,GACAR,wBAAA,IAAAF,mBAAA,GACAnK,GAAA,CAAAqK,wBAAA;IAAAc,OAAA,EAAAV;EAAA,KACA,MAEAzK,GAAA;IAAA6I,KAAA;IAAA;IAAAuC,QAAA,EAAApB;EAAA,GACAhK,GAAA;IAAA6I,KAAA;EAAA,GACArT,KAAA,GAAAwK,GAAA;IAAA6I,KAAA;EAAA,GAAArT,KAAA,UAEAmF,QAAA,GACAqF,GAAA;IAAAqL,GAAA;IAAAxC,KAAA;EAAA,GACA7I,GAAA,CAAAsL,SAAA;IAAA/S,KAAA,EAAAmD,SAAA;IAAAH,eAAA,EAAAA,eAAA;IAAAgQ,UAAA,EAAA9Q;EAAA,IACAuF,GAAA;IACA6I,KAAA;IACA2C,YAAA,EAAA3B,WAAA;IACAjS,EAAA;IACAmD,IAAA;IACA0Q,WAAA,EAAA9P,eAAA;IACA+P,QAAA,EAAAjR,cAAA;IACAtC,IAAA;EAAA,CACA,CACA,IAEA6H,GAAA;IAAA;IAAAiF,KAAA,EAAA4E,WAAA;IAAA9O,IAAA;IAAA5C,IAAA;EAAA,EACA,EAEAuC,SAAA,GACAsF,GAAA;IAAAqL,GAAA;IAAAxC,KAAA;EAAA,GACA7I,GAAA,CAAAsL,SAAA;IAAA/S,KAAA,EAAA6C,UAAA;IAAAG,eAAA,EAAAA,eAAA;IAAAgQ,UAAA,EAAA/Q;EAAA,IACAwF,GAAA;IACA6I,KAAA;IACA2C,YAAA,EAAA5B,YAAA;IACAhS,EAAA;IACAmD,IAAA;IACA0Q,WAAA,EAAApQ,gBAAA;IACAqQ,QAAA,EAAAlR,eAAA;IACArC,IAAA;EAAA,CACA,CACA,IAEA6H,GAAA;IAAA;IAAAiF,KAAA,EAAA2E,YAAA;IAAA7O,IAAA;IAAA5C,IAAA;EAAA,EACA,EAEA6H,GAAA;IAAAqL,GAAA;IAAAxC,KAAA;EAAA,GACA7I,GAAA,CAAAsL,SAAA;IAAA/S,KAAA,EAAAiD,YAAA;IAAAD,eAAA,EAAAA,eAAA;IAAAgQ,UAAA;EAAA,IACAvL,GAAA;IACA2L,SAAA;IACA9C,KAAA;IACAjR,EAAA;IACAmD,IAAA;IACA0Q,WAAA,EAAAhQ,kBAAA;IACAiQ,QAAA;IACAE,IAAA;EAAA,CACA,CACA,GAEAvB,wBAAA,GACArK,GAAA;IAAAqL,GAAA;IAAAxC,KAAA;EAAA,GACA7I,GAAA;IACA6I,KAAA;IACAuC,QAAA,EAAApB,YAAA;IACA7R,IAAA;IACA0T,OAAA,EAAAA,CAAA;MACArB,kBAAA;MACAJ,sBAAA,CAAA0B,IAAA,KAAAA,IAAA;IACA;EAAA,GAEA3B,mBAAA,GAAAvO,2BAAA,GAAAX,wBACA,GACAsP,eAAA,GAAAvK,GAAA;IAAA6I,KAAA;EAAA,GAAA0B,eAAA,CAAAxX,OAAA,QACA,IACA,IACA,GACAiN,GAAA;IAAA6I,KAAA;EAAA,GACA7I,GAAA;IAAA6I,KAAA;IAAAuC,QAAA,EAAApB,YAAA;IAAA7R,IAAA;EAAA,GACA0D,iBACA,GACAmE,GAAA;IAAA6I,KAAA;IAAAuC,QAAA,EAAApB,YAAA;IAAA7R,IAAA;IAAA0T,OAAA,EAAAzW;EAAA,GACA8F,iBACA,CACA,CACA,CACA;AAEA;AAEA,SAAAoQ,UAAAS,KAAA,EAQA;EAAA,IARA;IACAxT,KAAA;IACAgT,UAAA;IACAhQ;EACA,IAAAwQ,KAAA;EAKA,OACA/L,GAAA;IAAA6I,KAAA;EAAA,GACAtQ,KAAA,EACAgT,UAAA,IAAAvL,GAAA;IAAA6I,KAAA;EAAA,GAAAtN,eAAA,CACA;AAEA;AClP5F,MAAMyQ,KAAA,GAAQ,EAAE;AAChB,MAAMC,MAAA,GAAS,EAAE;AACjB,MAAMC,KAAA,GAAQ,4BAA4B;;AAE1C;AACA;AACA;AACO,SAASC,WAAWA,CAAA,EAAe;EACxC,MAAMrV,eAAA,GAAyDC,OAAO,IACpE/F,MAAM,CAACG,QAAQ,CAAC2F,eAAe,CAACoV,KAAK,EAAEnV,OAAO,CAAC;EACjD,MAAMC,GAAA,GAAMd,eAAe,CAACY,eAAe,CAAC,KAAK,CAAC,EAAE;IAClDG,KAAK,EAAE,GAAC+U,KAAA;IACA9U,MAAA,KAAA+U,MAAA;IACA9U,OAAA,SAAA6U,KAAA,IAAAC,MAAA;IACA7U,IAAA;EACA;EAEA,MAAAC,CAAA,GAAAnB,eAAA,CAAAY,eAAA;IACAQ,QAAA;EACA;EAEA,MAAA8U,KAAA,GAAAlW,eAAA,CAAAY,eAAA;IACA;IACA;IACAU,CAAA;EACA;EACA,MAAAD,IAAA,GAAArB,eAAA,CAAAY,eAAA;IACAU,CAAA;EACA;EAEAR,GAAA,CAAAS,WAAA,CAAAJ,CAAA,EAAAgV,MAAA,CAAA9U,IAAA,EAAA6U,KAAA;EAEA,MAAA1U,WAAA,GAAAZ,eAAA;EACA,MAAAa,kBAAA,GAAAzB,eAAA,CAAAY,eAAA;IACAc,EAAA;EACA;EAEA,MAAAC,WAAA,GAAA3B,eAAA,CAAAY,eAAA;IACAG,KAAA,KAAA+U,KAAA;IACA9U,MAAA,KAAA8U,KAAA;IACA5U,IAAA;IACAoR,SAAA;EACA;EAEA7Q,kBAAA,CAAAF,WAAA,CAAAI,WAAA;EACAH,WAAA,CAAAD,WAAA,CAAAE,kBAAA;EAEAX,GAAA,CAAAS,WAAA,CAAAC,WAAA,EAAAD,WAAA,CAAAE,kBAAA,EAAAF,WAAA,CAAAI,WAAA;EAEA,OAAAb,GAAA;AACA;ACpCL,SAASsV,MAAMA,CAAAC,KAAA,EAAoD;EAAA,IAAnD;IAAE7O,IAAI;IAAEjI,eAAe;IAAE,GAAGkL;EAAA,CAAO,GAAA4L,KAAA;EACxD,MAAMpQ,OAAA,GAAUwE,KAAK,CAACxE,OAAO;EAC7B,MAAMqQ,eAAA,GAAkBvF,CAAO,CAAC,OAAO;IAAEL,MAAM,EAAEuF,WAAW,EAAE,CAACvD;EAAA,CAAW,CAAC,EAAE,EAAE,CAAC;EAEhF,MAAM,CAAC6D,SAAS,EAAEC,YAAY,IAAI7M,CAAQ,CAAwB,IAAI,CAAC;EAEvE,MAAM8M,oBAAA,GAAuBnK,CAAW,CAAC,MAAM;IAC7C,IAAIiK,SAAS,EAAE;MACblY,YAAY,CAACkY,SAAS,CAAC;MACvBC,YAAY,CAAC,IAAI,CAAC;IACxB;IACIjX,eAAe,EAAE;EACrB,CAAG,EAAE,CAACgX,SAAS,CAAC,CAAC;EAEf,MAAMpX,eAAA,GAAkBmN,CAAW,CACjC,CAAClN,IAAI,EAAoB9B,OAAO,KAAa;IAC3CmN,KAAK,CAACtL,eAAe,CAACC,IAAI,EAAE9B,OAAO,CAAC;IACpCkZ,YAAY,CACVzY,UAAU,CAAC,MAAM;MACfwB,eAAe,EAAE;MACjBiX,YAAY,CAAC,IAAI,CAAC;IAC5B,CAAS,EAAEna,uBAAuB,CAClC,CAAO;EACP,CAAK,EACD,CAACkD,eAAe,CACpB,CAAG;EAED,OACEuK,GAAA,CAACwB,GAAA,QACEiL,SAAA,GACCzM,GAAA,CAAC;IAAI6I,KAAK,EAAC;IAAoBgD,OAAO,EAACc;EAAqB,GAC1D3M,GAAA,CAAC;IAAI6I,KAAK,EAAC;EAAA,GACR1M,OAAO,CAACL,kBAAA,EACTkE,GAAA,CAAC;IAAK6I,KAAK,EAAC;IAAgBK,uBAAuB,EAACsD;EAAgB,EAChF,CACA,IAEQxM,GAAA,CAAC;IAAO6I,KAAK,EAAC;IAASgD,OAAO,EAAC1P,OAAQ,CAAC/G,WAAW;IAAEsI,IAAI,EAACA;EAAK,GAC7DsC,GAAA,CAAC;IAAI6I,KAAK,EAAC;EAAA,GACT7I,GAAA,CAAC;IACC6I,KAAK,EAAC;IACNgD,OAAO,EAAC3I,CAAA,IAAM;MAC5B;MACgBA,CAAC,CAAC0J,eAAe,EAAE;IACnC;EAAe,GAED5M,GAAA,CAACyI,YAAA;IAAatM,OAAO,EAACA;EAAQ,IAC9B6D,GAAA,CAAC0J,IAAA;IAAK,GAAI/I,KAAK;IAAEtL,eAAe,EAACA;EAAgB,EAC/D,CACA,CACA,CAEA;AAEA;ACrEA,MAAMwX,MAAA,GAAS;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AAED,MAAMC,aAAA,GAAgB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,IAAA,GAAO;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,MAAA,GAAS;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,OAAA,GAAU;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACO,SAASC,kBAAkBA,CAACrX,UAAU,EAA6B;EACxE,MAAMC,KAAA,GAAQ5E,QAAQ,CAAC6E,aAAa,CAAC,OAAO,CAAC;EAE7CD,KAAK,CAACE,WAAA,GAAc;AACtB;AACA;AACA;;AAEA,EAAE6W,MAAM;AACR,EAAEC,aAAa;AACf,EAAEC,IAAI;AACN,EAAEC,MAAM;AACR,EAAEC,OAAO;AACT,CAAC;EAEC,IAAIpX,UAAU,EAAE;IACdC,KAAK,CAACG,YAAY,CAAC,OAAO,EAAEJ,UAAU,CAAC;EAC3C;EAEE,OAAOC,KAAK;AACd;ACnTA,SAASqX,OAAOA,CAAA,EAAqB;EACnC,MAAMC,WAAA,GAAc9Z,eAAe,EAAE,CAAC6Z,OAAO,EAAE;EAC/C,MAAME,aAAA,GAAgBC,iBAAiB,EAAE,CAACH,OAAO,EAAE;EACnD,MAAMI,UAAA,GAAaC,cAAc,EAAE,CAACL,OAAO,EA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}