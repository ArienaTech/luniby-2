{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{supabase}from'../lib/supabase.js';import{subscribeToAuth}from'../lib/auth-manager.js';import healthRecordService from'../services/healthRecordService';import petService from'../services/petService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{var _user$email,_user$email2;const[isOpen,setIsOpen]=useState(false);const[user,setUser]=useState(null);const[userRole,setUserRole]=useState(null);const[profile,setProfile]=useState(null);const[showProfileDropdown,setShowProfileDropdown]=useState(false);const[showHowItWorksDropdown,setShowHowItWorksDropdown]=useState(false);const[showAboutDropdown,setShowAboutDropdown]=useState(false);const[notifications,setNotifications]=useState([]);const[showNotificationCenter,setShowNotificationCenter]=useState(false);const location=useLocation();const navigate=useNavigate();useEffect(()=>{checkUser();// Use centralized auth manager\nconst unsubscribe=subscribeToAuth((event,session)=>{if(session!==null&&session!==void 0&&session.user){checkUser();}else{setUser(null);setUserRole(null);setProfile(null);}});return unsubscribe;},[]);// Refresh notifications periodically (every 5 minutes)\nuseEffect(()=>{if(!user)return;const interval=setInterval(()=>{loadNotifications();},5*60*1000);// 5 minutes\nreturn()=>clearInterval(interval);},[user]);// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showProfileDropdown&&!event.target.closest('.profile-dropdown')){setShowProfileDropdown(false);}if(showNotificationCenter&&!event.target.closest('.notification-dropdown')){setShowNotificationCenter(false);}if(showHowItWorksDropdown&&!event.target.closest('.how-it-works-dropdown')){setShowHowItWorksDropdown(false);}if(showAboutDropdown&&!event.target.closest('.about-dropdown')){setShowAboutDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[showProfileDropdown,showNotificationCenter,showHowItWorksDropdown,showAboutDropdown]);const checkUser=async()=>{try{const{data:{user}}=await supabase.auth.getUser();if(user){var _user$user_metadata;setUser(user);// Get user profile with full data\nconst{data:profile,error:profileError}=await supabase.from('profiles').select('role, full_name, phone, location, organization').eq('id',user.id).single();// Special override for tim-davis909@gmail.com trainer account\nif((user===null||user===void 0?void 0:user.email)==='tim-davis909@gmail.com'){setUserRole('trainer');return;}// Primary role detection: Check user_type from user metadata first\nconst userTypeFromMetadata=user===null||user===void 0?void 0:(_user$user_metadata=user.user_metadata)===null||_user$user_metadata===void 0?void 0:_user$user_metadata.user_type;// Use user_type from metadata as the primary role source\nlet effectiveRole=userTypeFromMetadata||(profile===null||profile===void 0?void 0:profile.role)||null;// Handle direct role assignments first\nif((profile===null||profile===void 0?void 0:profile.role)==='breeder'){effectiveRole='breeder';}else if((profile===null||profile===void 0?void 0:profile.role)==='trainer'){effectiveRole='trainer';}else if((profile===null||profile===void 0?void 0:profile.role)==='provider'){const{data:providerData,error:providerError}=await supabase.from('providers').select('provider_type').eq('user_id',user.id).single();if((providerData===null||providerData===void 0?void 0:providerData.provider_type)==='groomer'){effectiveRole='groomer';}else if((providerData===null||providerData===void 0?void 0:providerData.provider_type)==='breeder'){effectiveRole='breeder';}else if((providerData===null||providerData===void 0?void 0:providerData.provider_type)==='trainer'){effectiveRole='trainer';}else if((providerData===null||providerData===void 0?void 0:providerData.provider_type)==='nutritionist'){effectiveRole='nutritionist';}else if((providerData===null||providerData===void 0?void 0:providerData.provider_type)==='pet_business'){effectiveRole='pet_business';}else if((providerData===null||providerData===void 0?void 0:providerData.provider_type)==='holistic_care'){effectiveRole='holistic_care';}}setProfile(profile);setUserRole(effectiveRole);// Load health notifications (non-blocking)\nloadNotifications().catch(error=>{console.error('Error loading notifications:',error);setNotifications([]);});}}catch(error){console.error('Error checking user:',error);}};const loadNotifications=async()=>{try{const{data:{user}}=await supabase.auth.getUser();if(!user){setNotifications([]);return;}// Get user's pets\nconst petsResult=await petService.getUserPets(user.id);if(!petsResult.success||!petsResult.data.length){setNotifications([]);return;}const pets=petsResult.data;const healthNotifications=[];// Generate health notifications for each pet\nfor(const pet of pets){try{// Get ALL health records with due dates for this pet\nconst healthRecordsResult=await healthRecordService.getHealthRecords(pet.id);if(healthRecordsResult.success){const healthRecords=healthRecordsResult.data;// Check each health record for upcoming due dates\nhealthRecords.forEach(record=>{if(record.next_due_date){const dueDate=new Date(record.next_due_date);const daysUntil=healthRecordService.getDaysUntilDue(record.next_due_date);// Show notifications for due dates within 30 days or overdue\nif(daysUntil<=30){let title='';let message='';let urgent=false;// Customize message based on record type\nswitch(record.record_type){case'vaccination':title=daysUntil<0?'Vaccination Overdue':'Vaccination Due Soon';message=daysUntil<0?`${pet.name}'s vaccination is ${Math.abs(daysUntil)} days overdue`:daysUntil===0?`${pet.name}'s vaccination is due today`:`${pet.name}'s vaccination is due in ${daysUntil} day${daysUntil!==1?'s':''}`;urgent=daysUntil<=7;break;case'grooming':title=daysUntil<0?'Grooming Overdue':'Grooming Due Soon';message=daysUntil<0?`${pet.name}'s grooming is ${Math.abs(daysUntil)} days overdue`:daysUntil===0?`${pet.name}'s grooming is due today`:`${pet.name}'s grooming is due in ${daysUntil} day${daysUntil!==1?'s':''}`;urgent=daysUntil<=3;break;case'checkup':title=daysUntil<0?'Checkup Overdue':'Checkup Due Soon';message=daysUntil<0?`${pet.name}'s checkup is ${Math.abs(daysUntil)} days overdue`:daysUntil===0?`${pet.name}'s checkup is due today`:`${pet.name}'s checkup is due in ${daysUntil} day${daysUntil!==1?'s':''}`;urgent=daysUntil<=7;break;case'dental':title=daysUntil<0?'Dental Care Overdue':'Dental Care Due Soon';message=daysUntil<0?`${pet.name}'s dental care is ${Math.abs(daysUntil)} days overdue`:daysUntil===0?`${pet.name}'s dental care is due today`:`${pet.name}'s dental care is due in ${daysUntil} day${daysUntil!==1?'s':''}`;urgent=daysUntil<=7;break;default:title=daysUntil<0?`${record.record_type} Overdue`:`${record.record_type} Due Soon`;message=daysUntil<0?`${pet.name}'s ${record.record_type} is ${Math.abs(daysUntil)} days overdue`:daysUntil===0?`${pet.name}'s ${record.record_type} is due today`:`${pet.name}'s ${record.record_type} is due in ${daysUntil} day${daysUntil!==1?'s':''}`;urgent=daysUntil<=7;}healthNotifications.push({id:`health-${record.id}`,title:title,message:message,read:false,urgent:urgent,type:'health',petId:pet.id,petName:pet.name,recordType:record.record_type,dueDate:dueDate});}}});}// Also get health stats for additional health indicators\nconst healthStatsResult=await healthRecordService.calculatePetHealthStats(pet.id);if(healthStatsResult.success){const healthData=healthStatsResult.data;// Add general health checkup reminders (if no recent checkup record found)\nif(healthData.daysSinceLastCheckup>365){const hasCheckupDue=healthNotifications.some(n=>n.petId===pet.id&&n.recordType==='checkup');if(!hasCheckupDue){healthNotifications.push({id:`checkup-general-${pet.id}`,title:'Annual Checkup Due',message:`${pet.name} hasn't had a checkup in over a year`,read:false,urgent:healthData.daysSinceLastCheckup>450,type:'health',petId:pet.id,petName:pet.name,recordType:'checkup'});}}}}catch(error){console.error(`Error loading health data for pet ${pet.id}:`,error);}}// Load booking notifications\nconst bookingNotifications=[];try{const{data:bookingsData}=await supabase.from('consultation_bookings').select(`\n            *,\n            marketplace_listings (\n              title,\n              provider_name,\n              service_type\n            )\n          `).eq('user_id',user.id).order('created_at',{ascending:false}).limit(10);if(bookingsData){bookingsData.forEach(booking=>{const appointmentDate=new Date(booking.preferred_date+' '+booking.preferred_time);const now=new Date();const timeDiff=appointmentDate-now;const daysDiff=Math.ceil(timeDiff/(1000*60*60*24));const hoursDiff=Math.ceil(timeDiff/(1000*60*60));// Show notifications for upcoming appointments (within 7 days)\nif(daysDiff>=0&&daysDiff<=7&&booking.status==='confirmed'){let message='';let urgent=false;if(daysDiff===0&&hoursDiff<=24&&hoursDiff>0){var _booking$marketplace_,_booking$marketplace_2;message=`${((_booking$marketplace_=booking.marketplace_listings)===null||_booking$marketplace_===void 0?void 0:_booking$marketplace_.service_type)||'Appointment'} with ${((_booking$marketplace_2=booking.marketplace_listings)===null||_booking$marketplace_2===void 0?void 0:_booking$marketplace_2.provider_name)||'provider'} today at ${booking.preferred_time}`;urgent=true;}else if(daysDiff===1){var _booking$marketplace_3,_booking$marketplace_4;message=`${((_booking$marketplace_3=booking.marketplace_listings)===null||_booking$marketplace_3===void 0?void 0:_booking$marketplace_3.service_type)||'Appointment'} with ${((_booking$marketplace_4=booking.marketplace_listings)===null||_booking$marketplace_4===void 0?void 0:_booking$marketplace_4.provider_name)||'provider'} tomorrow at ${booking.preferred_time}`;urgent=true;}else if(daysDiff<=3){var _booking$marketplace_5,_booking$marketplace_6;message=`${((_booking$marketplace_5=booking.marketplace_listings)===null||_booking$marketplace_5===void 0?void 0:_booking$marketplace_5.service_type)||'Appointment'} with ${((_booking$marketplace_6=booking.marketplace_listings)===null||_booking$marketplace_6===void 0?void 0:_booking$marketplace_6.provider_name)||'provider'} in ${daysDiff} days`;urgent=false;}else{var _booking$marketplace_7;message=`${((_booking$marketplace_7=booking.marketplace_listings)===null||_booking$marketplace_7===void 0?void 0:_booking$marketplace_7.service_type)||'Appointment'} scheduled for ${booking.preferred_date}`;urgent=false;}bookingNotifications.push({id:`booking-${booking.id}`,title:booking.status==='confirmed'?'Upcoming Appointment':'Appointment Update',message:message,read:false,urgent:urgent,type:'booking',bookingId:booking.id,appointmentDate:appointmentDate});}// Show notifications for recently confirmed bookings (within 3 days)\nif(booking.status==='confirmed'&&booking.confirmed_at){const confirmedDate=new Date(booking.confirmed_at);const daysSinceConfirmed=Math.ceil((now-confirmedDate)/(1000*60*60*24));if(daysSinceConfirmed<=3){var _booking$marketplace_8,_booking$marketplace_9;bookingNotifications.push({id:`confirmed-${booking.id}`,title:'Booking Confirmed',message:`Your ${((_booking$marketplace_8=booking.marketplace_listings)===null||_booking$marketplace_8===void 0?void 0:_booking$marketplace_8.service_type)||'appointment'} with ${((_booking$marketplace_9=booking.marketplace_listings)===null||_booking$marketplace_9===void 0?void 0:_booking$marketplace_9.provider_name)||'provider'} is confirmed for ${booking.preferred_date}`,read:false,urgent:false,type:'booking',bookingId:booking.id});}}});}}catch(error){console.error('Error loading booking notifications:',error);}// Load pet reminders\nconst reminderNotifications=[];try{const remindersResult=await healthRecordService.getReminders(user.id);if(remindersResult.success&&remindersResult.data){remindersResult.data.forEach(reminder=>{const dueDate=new Date(reminder.due_date);const now=new Date();const daysDiff=Math.ceil((dueDate-now)/(1000*60*60*24));// Show reminders that are due within 7 days or overdue\nif(daysDiff<=7){reminderNotifications.push({id:`reminder-${reminder.id}`,title:reminder.title||'Pet Reminder',message:daysDiff<0?`Overdue: ${reminder.description}`:daysDiff===0?`Due today: ${reminder.description}`:`Due in ${daysDiff} days: ${reminder.description}`,read:false,urgent:daysDiff<=1,type:'reminder',reminderId:reminder.id,petId:reminder.pet_id});}});}}catch(error){console.error('Error loading reminder notifications:',error);}// Combine all notifications\nconst allNotifications=[...healthNotifications,...bookingNotifications,...reminderNotifications];// Sort notifications by urgency, then by date/relevance\nallNotifications.sort((a,b)=>{var _a$petName;if(a.urgent!==b.urgent)return b.urgent-a.urgent;if(a.appointmentDate&&b.appointmentDate){return a.appointmentDate-b.appointmentDate;}return((_a$petName=a.petName)===null||_a$petName===void 0?void 0:_a$petName.localeCompare(b.petName||''))||0;});setNotifications(allNotifications);}catch(error){console.error('Error loading notifications:',error);setNotifications([]);}};const removeNotification=notificationId=>{setNotifications(prev=>prev.filter(notification=>notification.id!==notificationId));};const clearAllNotifications=()=>{setNotifications([]);};const refreshNotifications=async()=>{await loadNotifications();};const handleNotificationClick=notification=>{if(notification.type==='health'&&notification.petId){// Navigate to pet owner dashboard with health records tab for the specific pet\nnavigate('/pet-owner-dashboard?tab=health&pet='+notification.petId);setShowNotificationCenter(false);}else if(notification.type==='booking'){// Navigate to pet owner dashboard bookings section\nnavigate('/pet-owner-dashboard?tab=bookings');setShowNotificationCenter(false);}else if(notification.type==='reminder'){// Navigate to pet owner dashboard overview or specific pet\nif(notification.petId){navigate('/pet-owner-dashboard?tab=overview&pet='+notification.petId);}else{navigate('/pet-owner-dashboard?tab=overview');}setShowNotificationCenter(false);}};const handleSignOut=async()=>{await supabase.auth.signOut();setUser(null);setUserRole(null);setProfile(null);setShowProfileDropdown(false);setNotifications([]);setShowNotificationCenter(false);navigate('/');};const getDashboardLink=()=>{switch(userRole){case'admin':return'/admin';case'groomer':return'/groomer-dashboard';case'trainer':return'/trainer-dashboard';case'breeder':return'/breeder-dashboard';case'nutritionist':return'/nutritionist-dashboard';case'pet_business':return'/pet-business-dashboard';case'holistic_care':return'/holistic-care-dashboard';case'vet_nurse':return'/vet-nurse-dashboard';case'veterinarian':return'/veterinarian-portal';case'support':return'/support-dashboard';case'pet_owner':default:return'/pet-owner-dashboard';}};const getDashboardLabel=()=>{switch(userRole){case'admin':return'Admin';case'groomer':return'My Dashboard';case'trainer':return'My Dashboard';case'breeder':return'My Dashboard';case'nutritionist':return'My Dashboard';case'pet_business':return'My Dashboard';case'holistic_care':return'My Dashboard';case'vet_nurse':return'My Dashboard';case'veterinarian':return'My Dashboard';case'support':return'Support';case'pet_owner':return'My Dashboard';default:return'My Dashboard';}};const toggleMenu=()=>{setIsOpen(!isOpen);};const isActive=path=>{return location.pathname===path;};const getLinkClass=path=>{const baseClass=\"px-3 py-2 text-base font-medium transition-colors duration-200 font-montserrat\";const activeClass=\"text-[#5EB47C]\";const inactiveClass=\"text-gray-900 hover:text-[#5EB47C]\";return`${baseClass} ${isActive(path)?activeClass:inactiveClass}`;};return/*#__PURE__*/_jsxs(\"nav\",{className:\"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"py-4 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img//Luniby-logo-finalx.svg\",alt:\"Luniby Logo\",className:\"h-9 sm:h-10 w-auto\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:flex items-center justify-center flex-1 space-x-8\",children:[/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",className:getLinkClass('/marketplace'),children:\"Petcare Hub\"}),/*#__PURE__*/_jsx(Link,{to:\"/luni-triage\",className:getLinkClass('/luni-triage'),children:\"LuniGen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative how-it-works-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowHowItWorksDropdown(!showHowItWorksDropdown),className:`${getLinkClass('/pricing')} flex items-center space-x-1`,children:[/*#__PURE__*/_jsx(\"span\",{children:\"How It Works\"}),/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 transition-transform ${showHowItWorksDropdown?'rotate-180':''}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),showHowItWorksDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full left-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50\",children:[/*#__PURE__*/_jsx(Link,{to:\"/pricing\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\",onClick:()=>setShowHowItWorksDropdown(false),children:\"Pet Owners\"}),/*#__PURE__*/_jsx(Link,{to:\"/clinics\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\",onClick:()=>setShowHowItWorksDropdown(false),children:\"Clinics\"}),/*#__PURE__*/_jsx(Link,{to:\"/vet-schools\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\",onClick:()=>setShowHowItWorksDropdown(false),children:\"Vet Schools\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative about-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAboutDropdown(!showAboutDropdown),className:`${getLinkClass('/about')} flex items-center space-x-1`,children:[/*#__PURE__*/_jsx(\"span\",{children:\"About\"}),/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 transition-transform ${showAboutDropdown?'rotate-180':''}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),showAboutDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full left-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50\",children:[/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\",onClick:()=>setShowAboutDropdown(false),children:\"About Us\"}),/*#__PURE__*/_jsx(Link,{to:\"/investors\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\",onClick:()=>setShowAboutDropdown(false),children:\"Investors\"}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\",onClick:()=>setShowAboutDropdown(false),children:\"Contact Us\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex items-center space-x-4\",children:user?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[user&&/*#__PURE__*/_jsx(Link,{to:getDashboardLink(),className:getLinkClass(getDashboardLink()),children:userRole==='veterinarian'?'My Dashboard':userRole==='vet_nurse'?'My Dashboard':userRole==='trainer'?'My Dashboard':userRole==='groomer'?'My Dashboard':userRole==='breeder'?'My Dashboard':userRole==='nutritionist'?'My Dashboard':userRole==='pet_business'?'My Dashboard':userRole==='holistic_care'?'My Dashboard':userRole==='pet_owner'?'My Dashboard':userRole==='admin'?'My Dashboard':'My Dashboard'}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative notification-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotificationCenter(!showNotificationCenter),className:\"relative p-2.5 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-full transition-all duration-200 group\",title:\"Notifications\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 17h5l-5-5V9a3 3 0 10-6 0v3l-5 5h5a3 3 0 006 0z\"})}),notifications.filter(n=>!n.read).length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-0.5 -right-0.5 h-5 w-5 bg-orange-500 text-white text-xs rounded-full flex items-center justify-center font-medium shadow-lg\",children:notifications.filter(n=>!n.read).length>9?'9+':notifications.filter(n=>!n.read).length})]}),showNotificationCenter&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-[55]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 border-b border-gray-100 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:\"Notifications\"}),notifications.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:clearAllNotifications,className:\"text-xs text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200\",children:\"Clear all\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-96 overflow-y-auto\",children:notifications.length>0?notifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleNotificationClick(notification),className:`px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 cursor-pointer transition-colors ${!notification.read?notification.urgent?'bg-orange-50':notification.type==='booking'?'bg-green-50':notification.type==='reminder'?'bg-purple-50':'bg-blue-50':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full mt-1 flex items-center justify-center flex-shrink-0 ${notification.urgent?'bg-orange-100':notification.type==='booking'?'bg-green-100':notification.type==='reminder'?'bg-purple-100':'bg-blue-100'}`,children:notification.type==='health'?/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 ${notification.urgent?'text-orange-600':'text-blue-600'}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}):notification.type==='booking'?/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 ${notification.urgent?'text-orange-600':'text-green-600'}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3a1 1 0 012 0v4m0 0V3a1 1 0 012 0v4m0 0h4l-4 4-4-4m0 0V7a1 1 0 012 0v4\"})}):notification.type==='reminder'?/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 ${notification.urgent?'text-orange-600':'text-purple-600'}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}):/*#__PURE__*/_jsx(\"div\",{className:`w-2 h-2 rounded-full ${notification.urgent?'bg-red-500':notification.read?'bg-gray-300':'bg-blue-500'}`})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:notification.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:notification.message}),notification.petName&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Pet: \",notification.petName]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();removeNotification(notification.id);},className:\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full transition-all duration-200\",title:\"Close notification\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})},notification.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDD14\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"No notifications\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative profile-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProfileDropdown(!showProfileDropdown),className:\"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden\",children:profile!==null&&profile!==void 0&&profile.avatar_url?/*#__PURE__*/_jsx(\"img\",{src:profile.avatar_url,alt:\"Profile\",className:\"w-full h-full object-cover\"}):userRole==='admin'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\",alt:\"Admin\",className:\"w-6 h-6\"}):userRole==='pet_business'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg\",alt:\"Pet Business\",className:\"w-6 h-6\"}):userRole==='pet_owner'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-owner.svg\",alt:\"Pet Owner\",className:\"w-6 h-6\"}):userRole==='breeder'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/breeder.svg\",alt:\"Breeder\",className:\"w-6 h-6\"}):userRole==='nutritionist'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/nutritionist.svg\",alt:\"Nutritionist\",className:\"w-6 h-6\"}):userRole==='holistic_care'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/holistic-care.svg\",alt:\"Holistic Care\",className:\"w-6 h-6\"}):userRole==='veterinarian'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet.svg\",alt:\"Veterinarian\",className:\"w-6 h-6\"}):userRole==='vet_nurse'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet-nurse%20(1).svg\",alt:\"Vet Nurse\",className:\"w-6 h-6\"}):userRole==='trainer'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-trainer.svg\",alt:\"Trainer\",className:\"w-6 h-6\"}):userRole==='groomer'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg\",alt:\"Groomer\",className:\"w-6 h-6\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\uD83D\\uDC64\"})}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 12h16M4 18h16\"})})]}),showProfileDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-[55]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 border-b border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden\",children:profile!==null&&profile!==void 0&&profile.avatar_url?/*#__PURE__*/_jsx(\"img\",{src:profile.avatar_url,alt:\"Profile\",className:\"w-full h-full object-cover\"}):userRole==='admin'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\",alt:\"Admin\",className:\"w-8 h-8\"}):userRole==='pet_business'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg\",alt:\"Pet Business\",className:\"w-8 h-8\"}):userRole==='pet_owner'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-owner.svg\",alt:\"Pet Owner\",className:\"w-8 h-8\"}):userRole==='breeder'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/breeder.svg\",alt:\"Breeder\",className:\"w-8 h-8\"}):userRole==='nutritionist'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/nutritionist.svg\",alt:\"Nutritionist\",className:\"w-8 h-8\"}):userRole==='holistic_care'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/holistic-care.svg\",alt:\"Holistic Care\",className:\"w-8 h-8\"}):userRole==='veterinarian'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet.svg\",alt:\"Veterinarian\",className:\"w-8 h-8\"}):userRole==='vet_nurse'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet-nurse%20(1).svg\",alt:\"Vet Nurse\",className:\"w-8 h-8\"}):userRole==='trainer'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-trainer.svg\",alt:\"Trainer\",className:\"w-8 h-8\"}):userRole==='groomer'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg\",alt:\"Groomer\",className:\"w-8 h-8\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\uD83D\\uDC64\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900 font-montserrat truncate\",children:(profile===null||profile===void 0?void 0:profile.full_name)||(user===null||user===void 0?void 0:(_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.split('@')[0])||'User'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 truncate\",children:user===null||user===void 0?void 0:user.email})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/settings\",onClick:()=>setShowProfileDropdown(false),className:\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-montserrat transition-colors duration-200\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-4 h-4 mr-3 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"})]}),\"Settings\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-100 my-1\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowProfileDropdown(false);handleSignOut();},className:\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 font-montserrat transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-3 text-red-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),\"Sign Out\"]})]})]})]})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"text-gray-900 hover:text-[#5EB47C] px-4 py-2 text-base font-medium transition-colors duration-200 font-montserrat\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"bg-[#5EB47C] hover:bg-[#4A9A64] text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 shadow-sm font-montserrat\",children:\"Sign Up\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:toggleMenu,className:\"inline-flex items-center justify-center p-2 rounded-md text-gray-900 hover:text-[#5EB47C] hover:bg-gray-100 transition-colors duration-200\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open main menu\"}),!isOpen?/*#__PURE__*/_jsx(\"svg\",{className:\"block h-6 w-6\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 6h16M4 12h16M4 18h16\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"block h-6 w-6\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})]})})]})})}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 sm:px-6 lg:px-8 bg-white border-t border-gray-100 shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-6 space-y-3\",children:[/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",className:\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\",onClick:()=>setIsOpen(false),children:\"Petcare Hub\"}),/*#__PURE__*/_jsx(Link,{to:\"/luni-triage\",className:\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\",onClick:()=>setIsOpen(false),children:\"LuniGen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"how-it-works-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowHowItWorksDropdown(!showHowItWorksDropdown),className:\"flex items-center justify-between w-full px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"How It Works\"}),/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 transition-transform ${showHowItWorksDropdown?'rotate-180':''}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),showHowItWorksDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 mt-2 space-y-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/pricing\",className:\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\",onClick:()=>{setShowHowItWorksDropdown(false);setIsOpen(false);},children:\"Pet Owners\"}),/*#__PURE__*/_jsx(Link,{to:\"/clinics\",className:\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\",onClick:()=>{setShowHowItWorksDropdown(false);setIsOpen(false);},children:\"Clinics\"}),/*#__PURE__*/_jsx(Link,{to:\"/vet-schools\",className:\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\",onClick:()=>{setShowHowItWorksDropdown(false);setIsOpen(false);},children:\"Vet Schools\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"about-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAboutDropdown(!showAboutDropdown),className:\"flex items-center justify-between w-full px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"About\"}),/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 transition-transform ${showAboutDropdown?'rotate-180':''}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),showAboutDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 mt-2 space-y-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\",onClick:()=>{setShowAboutDropdown(false);setIsOpen(false);},children:\"About Us\"}),/*#__PURE__*/_jsx(Link,{to:\"/investors\",className:\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\",onClick:()=>{setShowAboutDropdown(false);setIsOpen(false);},children:\"Investors\"}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\",onClick:()=>{setShowAboutDropdown(false);setIsOpen(false);},children:\"Contact Us\"})]})]}),user&&/*#__PURE__*/_jsx(Link,{to:getDashboardLink(),className:\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\",onClick:()=>setIsOpen(false),children:userRole==='veterinarian'?'My Dashboard':userRole==='vet_nurse'?'My Dashboard':userRole==='trainer'?'My Dashboard':userRole==='groomer'?'My Dashboard':userRole==='breeder'?'My Dashboard':userRole==='nutritionist'?'My Dashboard':userRole==='pet_business'?'My Dashboard':userRole==='holistic_care'?'My Dashboard':userRole==='pet_owner'?'My Dashboard':userRole==='admin'?'Admin Dashboard':'My Dashboard'}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t border-gray-200 mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center px-3 py-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden mr-3\",children:profile!==null&&profile!==void 0&&profile.avatar_url?/*#__PURE__*/_jsx(\"img\",{src:profile.avatar_url,alt:\"Profile\",className:\"w-full h-full object-cover\"}):userRole==='admin'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\",alt:\"Admin\",className:\"w-8 h-8\"}):userRole==='pet_business'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg\",alt:\"Pet Business\",className:\"w-8 h-8\"}):userRole==='pet_owner'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-owner.svg\",alt:\"Pet Owner\",className:\"w-8 h-8\"}):userRole==='breeder'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/breeder.svg\",alt:\"Breeder\",className:\"w-8 h-8\"}):userRole==='nutritionist'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/nutritionist.svg\",alt:\"Nutritionist\",className:\"w-8 h-8\"}):userRole==='holistic_care'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/holistic-care.svg\",alt:\"Holistic Care\",className:\"w-8 h-8\"}):userRole==='veterinarian'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet.svg\",alt:\"Veterinarian\",className:\"w-8 h-8\"}):userRole==='vet_nurse'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet-nurse%20(1).svg\",alt:\"Vet Nurse\",className:\"w-8 h-8\"}):userRole==='trainer'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-trainer.svg\",alt:\"Trainer\",className:\"w-8 h-8\"}):userRole==='groomer'?/*#__PURE__*/_jsx(\"img\",{src:\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg\",alt:\"Groomer\",className:\"w-8 h-8\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\uD83D\\uDC64\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900 font-montserrat truncate\",children:(profile===null||profile===void 0?void 0:profile.full_name)||(user===null||user===void 0?void 0:(_user$email2=user.email)===null||_user$email2===void 0?void 0:_user$email2.split('@')[0])||'User'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 truncate\",children:user===null||user===void 0?void 0:user.email})]})]}),/*#__PURE__*/_jsxs(Link,{to:\"/settings\",onClick:()=>setIsOpen(false),className:\"flex items-center w-full px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-4 h-4 mr-3 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"})]}),\"Settings\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 my-2\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleSignOut();setIsOpen(false);},className:\"flex items-center w-full px-3 py-3 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md font-montserrat transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-3 text-red-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),\"Sign Out\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\",onClick:()=>setIsOpen(false),children:\"Sign In\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"block bg-[#5EB47C] hover:bg-[#4A9A64] text-white px-3 py-3 rounded-lg text-base font-medium transition-colors duration-200 shadow-sm font-montserrat text-center\",onClick:()=>setIsOpen(false),children:\"Sign Up\"})]})})})]})})})})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","supabase","subscribeToAuth","healthRecordService","petService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_user$email","_user$email2","isOpen","setIsOpen","user","setUser","userRole","setUserRole","profile","setProfile","showProfileDropdown","setShowProfileDropdown","showHowItWorksDropdown","setShowHowItWorksDropdown","showAboutDropdown","setShowAboutDropdown","notifications","setNotifications","showNotificationCenter","setShowNotificationCenter","location","navigate","checkUser","unsubscribe","event","session","interval","setInterval","loadNotifications","clearInterval","handleClickOutside","target","closest","document","addEventListener","removeEventListener","data","auth","getUser","_user$user_metadata","error","profileError","from","select","eq","id","single","email","userTypeFromMetadata","user_metadata","user_type","effectiveRole","role","providerData","providerError","provider_type","catch","console","petsResult","getUserPets","success","length","pets","healthNotifications","pet","healthRecordsResult","getHealthRecords","healthRecords","forEach","record","next_due_date","dueDate","Date","daysUntil","getDaysUntilDue","title","message","urgent","record_type","name","Math","abs","push","read","type","petId","petName","recordType","healthStatsResult","calculatePetHealthStats","healthData","daysSinceLastCheckup","hasCheckupDue","some","n","bookingNotifications","bookingsData","order","ascending","limit","booking","appointmentDate","preferred_date","preferred_time","now","timeDiff","daysDiff","ceil","hoursDiff","status","_booking$marketplace_","_booking$marketplace_2","marketplace_listings","service_type","provider_name","_booking$marketplace_3","_booking$marketplace_4","_booking$marketplace_5","_booking$marketplace_6","_booking$marketplace_7","bookingId","confirmed_at","confirmedDate","daysSinceConfirmed","_booking$marketplace_8","_booking$marketplace_9","reminderNotifications","remindersResult","getReminders","reminder","due_date","description","reminderId","pet_id","allNotifications","sort","a","b","_a$petName","localeCompare","removeNotification","notificationId","prev","filter","notification","clearAllNotifications","refreshNotifications","handleNotificationClick","handleSignOut","signOut","getDashboardLink","getDashboardLabel","toggleMenu","isActive","path","pathname","getLinkClass","baseClass","activeClass","inactiveClass","className","children","to","src","alt","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","e","stopPropagation","avatar_url","full_name","split","xmlns"],"sources":["/workspace/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { supabase } from '../lib/supabase.js';\nimport { subscribeToAuth } from '../lib/auth-manager.js';\nimport healthRecordService from '../services/healthRecordService';\nimport petService from '../services/petService';\n\nconst Navbar = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [user, setUser] = useState(null);\n  const [userRole, setUserRole] = useState(null);\n  const [profile, setProfile] = useState(null);\n  const [showProfileDropdown, setShowProfileDropdown] = useState(false);\n  const [showHowItWorksDropdown, setShowHowItWorksDropdown] = useState(false);\n  const [showAboutDropdown, setShowAboutDropdown] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [showNotificationCenter, setShowNotificationCenter] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    checkUser();\n    \n    // Use centralized auth manager\n    const unsubscribe = subscribeToAuth((event, session) => {\n      if (session?.user) {\n        checkUser();\n      } else {\n        setUser(null);\n        setUserRole(null);\n        setProfile(null);\n      }\n    });\n\n    return unsubscribe;\n  }, []);\n\n  // Refresh notifications periodically (every 5 minutes)\n  useEffect(() => {\n    if (!user) return;\n\n    const interval = setInterval(() => {\n      loadNotifications();\n    }, 5 * 60 * 1000); // 5 minutes\n\n    return () => clearInterval(interval);\n  }, [user]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showProfileDropdown && !event.target.closest('.profile-dropdown')) {\n        setShowProfileDropdown(false);\n      }\n      if (showNotificationCenter && !event.target.closest('.notification-dropdown')) {\n        setShowNotificationCenter(false);\n      }\n      if (showHowItWorksDropdown && !event.target.closest('.how-it-works-dropdown')) {\n        setShowHowItWorksDropdown(false);\n      }\n      if (showAboutDropdown && !event.target.closest('.about-dropdown')) {\n        setShowAboutDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showProfileDropdown, showNotificationCenter, showHowItWorksDropdown, showAboutDropdown]);\n\n  const checkUser = async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (user) {\n        setUser(user);\n        \n        // Get user profile with full data\n        const { data: profile, error: profileError } = await supabase\n          .from('profiles')\n          .select('role, full_name, phone, location, organization')\n          .eq('id', user.id)\n          .single();\n        \n        // Special override for tim-davis909@gmail.com trainer account\n        if (user?.email === 'tim-davis909@gmail.com') {\n          setUserRole('trainer');\n          return;\n        }\n        \n        // Primary role detection: Check user_type from user metadata first\n        const userTypeFromMetadata = user?.user_metadata?.user_type;\n        \n        // Use user_type from metadata as the primary role source\n        let effectiveRole = userTypeFromMetadata || profile?.role || null;\n        \n        // Handle direct role assignments first\n        if (profile?.role === 'breeder') {\n          effectiveRole = 'breeder';\n        } else if (profile?.role === 'trainer') {\n          effectiveRole = 'trainer';\n        } else if (profile?.role === 'provider') {\n          const { data: providerData, error: providerError } = await supabase\n            .from('providers')\n            .select('provider_type')\n            .eq('user_id', user.id)\n            .single();\n          \n          if (providerData?.provider_type === 'groomer') {\n            effectiveRole = 'groomer';\n          } else if (providerData?.provider_type === 'breeder') {\n            effectiveRole = 'breeder';\n          } else if (providerData?.provider_type === 'trainer') {\n            effectiveRole = 'trainer';\n          } else if (providerData?.provider_type === 'nutritionist') {\n            effectiveRole = 'nutritionist';\n          } else if (providerData?.provider_type === 'pet_business') {\n            effectiveRole = 'pet_business';\n          } else if (providerData?.provider_type === 'holistic_care') {\n            effectiveRole = 'holistic_care';\n          }\n        }\n        \n        setProfile(profile);\n        setUserRole(effectiveRole);\n        \n\n        \n        // Load health notifications (non-blocking)\n        loadNotifications().catch(error => {\n          console.error('Error loading notifications:', error);\n          setNotifications([]);\n        });\n      }\n    } catch (error) {\n      console.error('Error checking user:', error);\n    }\n  };\n\n  const loadNotifications = async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        setNotifications([]);\n        return;\n      }\n\n      // Get user's pets\n      const petsResult = await petService.getUserPets(user.id);\n      if (!petsResult.success || !petsResult.data.length) {\n        setNotifications([]);\n        return;\n      }\n\n      const pets = petsResult.data;\n      const healthNotifications = [];\n\n      // Generate health notifications for each pet\n        for (const pet of pets) {\n          try {\n            // Get ALL health records with due dates for this pet\n            const healthRecordsResult = await healthRecordService.getHealthRecords(pet.id);\n            \n            if (healthRecordsResult.success) {\n              const healthRecords = healthRecordsResult.data;\n\n              // Check each health record for upcoming due dates\n              healthRecords.forEach(record => {\n                if (record.next_due_date) {\n                  const dueDate = new Date(record.next_due_date);\n                  const daysUntil = healthRecordService.getDaysUntilDue(record.next_due_date);\n                  \n                  // Show notifications for due dates within 30 days or overdue\n                  if (daysUntil <= 30) {\n                    let title = '';\n                    let message = '';\n                    let urgent = false;\n\n                    // Customize message based on record type\n                    switch (record.record_type) {\n                      case 'vaccination':\n                        title = daysUntil < 0 ? 'Vaccination Overdue' : 'Vaccination Due Soon';\n                        message = daysUntil < 0 ? \n                          `${pet.name}'s vaccination is ${Math.abs(daysUntil)} days overdue` :\n                          daysUntil === 0 ?\n                          `${pet.name}'s vaccination is due today` :\n                          `${pet.name}'s vaccination is due in ${daysUntil} day${daysUntil !== 1 ? 's' : ''}`;\n                        urgent = daysUntil <= 7;\n                        break;\n                      case 'grooming':\n                        title = daysUntil < 0 ? 'Grooming Overdue' : 'Grooming Due Soon';\n                        message = daysUntil < 0 ? \n                          `${pet.name}'s grooming is ${Math.abs(daysUntil)} days overdue` :\n                          daysUntil === 0 ?\n                          `${pet.name}'s grooming is due today` :\n                          `${pet.name}'s grooming is due in ${daysUntil} day${daysUntil !== 1 ? 's' : ''}`;\n                        urgent = daysUntil <= 3;\n                        break;\n                      case 'checkup':\n                        title = daysUntil < 0 ? 'Checkup Overdue' : 'Checkup Due Soon';\n                        message = daysUntil < 0 ? \n                          `${pet.name}'s checkup is ${Math.abs(daysUntil)} days overdue` :\n                          daysUntil === 0 ?\n                          `${pet.name}'s checkup is due today` :\n                          `${pet.name}'s checkup is due in ${daysUntil} day${daysUntil !== 1 ? 's' : ''}`;\n                        urgent = daysUntil <= 7;\n                        break;\n                      case 'dental':\n                        title = daysUntil < 0 ? 'Dental Care Overdue' : 'Dental Care Due Soon';\n                        message = daysUntil < 0 ? \n                          `${pet.name}'s dental care is ${Math.abs(daysUntil)} days overdue` :\n                          daysUntil === 0 ?\n                          `${pet.name}'s dental care is due today` :\n                          `${pet.name}'s dental care is due in ${daysUntil} day${daysUntil !== 1 ? 's' : ''}`;\n                        urgent = daysUntil <= 7;\n                        break;\n                      default:\n                        title = daysUntil < 0 ? `${record.record_type} Overdue` : `${record.record_type} Due Soon`;\n                        message = daysUntil < 0 ? \n                          `${pet.name}'s ${record.record_type} is ${Math.abs(daysUntil)} days overdue` :\n                          daysUntil === 0 ?\n                          `${pet.name}'s ${record.record_type} is due today` :\n                          `${pet.name}'s ${record.record_type} is due in ${daysUntil} day${daysUntil !== 1 ? 's' : ''}`;\n                        urgent = daysUntil <= 7;\n                    }\n\n                    healthNotifications.push({\n                      id: `health-${record.id}`,\n                      title: title,\n                      message: message,\n                      read: false,\n                      urgent: urgent,\n                      type: 'health',\n                      petId: pet.id,\n                      petName: pet.name,\n                      recordType: record.record_type,\n                      dueDate: dueDate\n                    });\n                  }\n                }\n              });\n            }\n\n            // Also get health stats for additional health indicators\n            const healthStatsResult = await healthRecordService.calculatePetHealthStats(pet.id);\n            if (healthStatsResult.success) {\n              const healthData = healthStatsResult.data;\n\n              // Add general health checkup reminders (if no recent checkup record found)\n              if (healthData.daysSinceLastCheckup > 365) {\n                const hasCheckupDue = healthNotifications.some(n => \n                  n.petId === pet.id && n.recordType === 'checkup'\n                );\n                \n                if (!hasCheckupDue) {\n                  healthNotifications.push({\n                    id: `checkup-general-${pet.id}`,\n                    title: 'Annual Checkup Due',\n                    message: `${pet.name} hasn't had a checkup in over a year`,\n                    read: false,\n                    urgent: healthData.daysSinceLastCheckup > 450,\n                    type: 'health',\n                    petId: pet.id,\n                    petName: pet.name,\n                    recordType: 'checkup'\n                  });\n                }\n              }\n            }\n          } catch (error) {\n            console.error(`Error loading health data for pet ${pet.id}:`, error);\n          }\n        }\n\n      // Load booking notifications\n      const bookingNotifications = [];\n      try {\n        const { data: bookingsData } = await supabase\n          .from('consultation_bookings')\n          .select(`\n            *,\n            marketplace_listings (\n              title,\n              provider_name,\n              service_type\n            )\n          `)\n          .eq('user_id', user.id)\n          .order('created_at', { ascending: false })\n          .limit(10);\n\n        if (bookingsData) {\n          bookingsData.forEach(booking => {\n            const appointmentDate = new Date(booking.preferred_date + ' ' + booking.preferred_time);\n            const now = new Date();\n            const timeDiff = appointmentDate - now;\n            const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));\n            const hoursDiff = Math.ceil(timeDiff / (1000 * 60 * 60));\n\n            // Show notifications for upcoming appointments (within 7 days)\n            if (daysDiff >= 0 && daysDiff <= 7 && booking.status === 'confirmed') {\n              let message = '';\n              let urgent = false;\n\n              if (daysDiff === 0 && hoursDiff <= 24 && hoursDiff > 0) {\n                message = `${booking.marketplace_listings?.service_type || 'Appointment'} with ${booking.marketplace_listings?.provider_name || 'provider'} today at ${booking.preferred_time}`;\n                urgent = true;\n              } else if (daysDiff === 1) {\n                                  message = `${booking.marketplace_listings?.service_type || 'Appointment'} with ${booking.marketplace_listings?.provider_name || 'provider'} tomorrow at ${booking.preferred_time}`;\n                urgent = true;\n              } else if (daysDiff <= 3) {\n                                  message = `${booking.marketplace_listings?.service_type || 'Appointment'} with ${booking.marketplace_listings?.provider_name || 'provider'} in ${daysDiff} days`;\n                urgent = false;\n              } else {\n                                  message = `${booking.marketplace_listings?.service_type || 'Appointment'} scheduled for ${booking.preferred_date}`;\n                urgent = false;\n              }\n\n              bookingNotifications.push({\n                id: `booking-${booking.id}`,\n                title: booking.status === 'confirmed' ? 'Upcoming Appointment' : 'Appointment Update',\n                message: message,\n                read: false,\n                urgent: urgent,\n                type: 'booking',\n                bookingId: booking.id,\n                appointmentDate: appointmentDate\n              });\n            }\n\n            // Show notifications for recently confirmed bookings (within 3 days)\n            if (booking.status === 'confirmed' && booking.confirmed_at) {\n              const confirmedDate = new Date(booking.confirmed_at);\n              const daysSinceConfirmed = Math.ceil((now - confirmedDate) / (1000 * 60 * 60 * 24));\n              \n              if (daysSinceConfirmed <= 3) {\n                bookingNotifications.push({\n                  id: `confirmed-${booking.id}`,\n                  title: 'Booking Confirmed',\n                  message: `Your ${booking.marketplace_listings?.service_type || 'appointment'} with ${booking.marketplace_listings?.provider_name || 'provider'} is confirmed for ${booking.preferred_date}`,\n                  read: false,\n                  urgent: false,\n                  type: 'booking',\n                  bookingId: booking.id\n                });\n              }\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Error loading booking notifications:', error);\n      }\n\n      // Load pet reminders\n      const reminderNotifications = [];\n      try {\n        const remindersResult = await healthRecordService.getReminders(user.id);\n        if (remindersResult.success && remindersResult.data) {\n          remindersResult.data.forEach(reminder => {\n            const dueDate = new Date(reminder.due_date);\n            const now = new Date();\n            const daysDiff = Math.ceil((dueDate - now) / (1000 * 60 * 60 * 24));\n\n            // Show reminders that are due within 7 days or overdue\n            if (daysDiff <= 7) {\n              reminderNotifications.push({\n                id: `reminder-${reminder.id}`,\n                title: reminder.title || 'Pet Reminder',\n                message: daysDiff < 0 ? \n                  `Overdue: ${reminder.description}` : \n                  daysDiff === 0 ? \n                  `Due today: ${reminder.description}` :\n                  `Due in ${daysDiff} days: ${reminder.description}`,\n                read: false,\n                urgent: daysDiff <= 1,\n                type: 'reminder',\n                reminderId: reminder.id,\n                petId: reminder.pet_id\n              });\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Error loading reminder notifications:', error);\n      }\n\n      // Combine all notifications\n      const allNotifications = [...healthNotifications, ...bookingNotifications, ...reminderNotifications];\n\n      // Sort notifications by urgency, then by date/relevance\n      allNotifications.sort((a, b) => {\n        if (a.urgent !== b.urgent) return b.urgent - a.urgent;\n        if (a.appointmentDate && b.appointmentDate) {\n          return a.appointmentDate - b.appointmentDate;\n        }\n        return a.petName?.localeCompare(b.petName || '') || 0;\n      });\n\n      setNotifications(allNotifications);\n    } catch (error) {\n      console.error('Error loading notifications:', error);\n      setNotifications([]);\n    }\n  };\n\n  const removeNotification = (notificationId) => {\n    setNotifications(prev => prev.filter(notification => notification.id !== notificationId));\n  };\n\n  const clearAllNotifications = () => {\n    setNotifications([]);\n  };\n\n  const refreshNotifications = async () => {\n    await loadNotifications();\n  };\n\n  const handleNotificationClick = (notification) => {\n    if (notification.type === 'health' && notification.petId) {\n      // Navigate to pet owner dashboard with health records tab for the specific pet\n      navigate('/pet-owner-dashboard?tab=health&pet=' + notification.petId);\n      setShowNotificationCenter(false);\n    } else if (notification.type === 'booking') {\n      // Navigate to pet owner dashboard bookings section\n      navigate('/pet-owner-dashboard?tab=bookings');\n      setShowNotificationCenter(false);\n    } else if (notification.type === 'reminder') {\n      // Navigate to pet owner dashboard overview or specific pet\n      if (notification.petId) {\n        navigate('/pet-owner-dashboard?tab=overview&pet=' + notification.petId);\n      } else {\n        navigate('/pet-owner-dashboard?tab=overview');\n      }\n      setShowNotificationCenter(false);\n    }\n  };\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n    setUserRole(null);\n    setProfile(null);\n    setShowProfileDropdown(false);\n    setNotifications([]);\n    setShowNotificationCenter(false);\n    navigate('/');\n  };\n\n  const getDashboardLink = () => {\n    switch (userRole) {\n      case 'admin': return '/admin';\n      case 'groomer': return '/groomer-dashboard';\n      case 'trainer': return '/trainer-dashboard';\n      case 'breeder': return '/breeder-dashboard';\n      case 'nutritionist': return '/nutritionist-dashboard';\n      case 'pet_business': return '/pet-business-dashboard';\n      case 'holistic_care': return '/holistic-care-dashboard';\n      case 'vet_nurse': return '/vet-nurse-dashboard';\n      case 'veterinarian': return '/veterinarian-portal';\n      case 'support': return '/support-dashboard';\n      case 'pet_owner':\n      default: return '/pet-owner-dashboard';\n    }\n  };\n\n  const getDashboardLabel = () => {\n    switch (userRole) {\n      case 'admin': return 'Admin';\n      case 'groomer': return 'My Dashboard';\n      case 'trainer': return 'My Dashboard';\n      case 'breeder': return 'My Dashboard';\n      case 'nutritionist': return 'My Dashboard';\n      case 'pet_business': return 'My Dashboard';\n      case 'holistic_care': return 'My Dashboard';\n      case 'vet_nurse': return 'My Dashboard';\n      case 'veterinarian': return 'My Dashboard';\n      case 'support': return 'Support';\n      case 'pet_owner': return 'My Dashboard';\n      default: return 'My Dashboard';\n    }\n  };\n\n  const toggleMenu = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const isActive = (path) => {\n    return location.pathname === path;\n  };\n\n  const getLinkClass = (path) => {\n    const baseClass = \"px-3 py-2 text-base font-medium transition-colors duration-200 font-montserrat\";\n    const activeClass = \"text-[#5EB47C]\";\n    const inactiveClass = \"text-gray-900 hover:text-[#5EB47C]\";\n    \n    return `${baseClass} ${isActive(path) ? activeClass : inactiveClass}`;\n  };\n\n  return (\n    <nav className=\"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-50\">\n      {/* Using same structure as homepage sections */}\n      <div className=\"py-4 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex items-center justify-between\">\n            {/* Logo - Aligned with homepage content */}\n            <div className=\"flex-shrink-0\">\n              <Link to=\"/\" className=\"flex items-center\">\n                <img \n                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img//Luniby-logo-finalx.svg\" \n                  alt=\"Luniby Logo\" \n                  className=\"h-9 sm:h-10 w-auto\"\n                />\n              </Link>\n            </div>\n\n            {/* Centered Navigation */}\n            <div className=\"hidden md:flex items-center justify-center flex-1 space-x-8\">\n              <Link to=\"/marketplace\" className={getLinkClass('/marketplace')}>\n                Petcare Hub\n              </Link>\n              <Link to=\"/luni-triage\" className={getLinkClass('/luni-triage')}>\n                LuniGen\n              </Link>\n\n              {/* How It Works Dropdown */}\n              <div className=\"relative how-it-works-dropdown\">\n                <button\n                  onClick={() => setShowHowItWorksDropdown(!showHowItWorksDropdown)}\n                  className={`${getLinkClass('/pricing')} flex items-center space-x-1`}\n                >\n                  <span>How It Works</span>\n                  <svg\n                    className={`w-4 h-4 transition-transform ${showHowItWorksDropdown ? 'rotate-180' : ''}`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                \n                {showHowItWorksDropdown && (\n                  <div className=\"absolute top-full left-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50\">\n                    <Link\n                      to=\"/pricing\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\"\n                      onClick={() => setShowHowItWorksDropdown(false)}\n                    >\n                      Pet Owners\n                    </Link>\n                    <Link\n                      to=\"/clinics\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\"\n                      onClick={() => setShowHowItWorksDropdown(false)}\n                    >\n                      Clinics\n                    </Link>\n                    <Link\n                      to=\"/vet-schools\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\"\n                      onClick={() => setShowHowItWorksDropdown(false)}\n                    >\n                      Vet Schools\n                    </Link>\n                  </div>\n                )}\n              </div>\n              \n              {/* About Dropdown */}\n              <div className=\"relative about-dropdown\">\n                <button\n                  onClick={() => setShowAboutDropdown(!showAboutDropdown)}\n                  className={`${getLinkClass('/about')} flex items-center space-x-1`}\n                >\n                  <span>About</span>\n                  <svg\n                    className={`w-4 h-4 transition-transform ${showAboutDropdown ? 'rotate-180' : ''}`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                \n                {showAboutDropdown && (\n                  <div className=\"absolute top-full left-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50\">\n                    <Link\n                      to=\"/about\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\"\n                      onClick={() => setShowAboutDropdown(false)}\n                    >\n                      About Us\n                    </Link>\n                    <Link\n                      to=\"/investors\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\"\n                      onClick={() => setShowAboutDropdown(false)}\n                    >\n                      Investors\n                    </Link>\n                    <Link\n                      to=\"/contact\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-[#5EB47C] transition-colors\"\n                      onClick={() => setShowAboutDropdown(false)}\n                    >\n                      Contact Us\n                    </Link>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Auth Buttons - Right */}\n            <div className=\"hidden md:flex items-center space-x-4\">\n              {user ? (\n                <>\n\n                  \n                  {/* Dashboard Title, Notifications & Profile */}\n                  <div className=\"flex items-center space-x-3\">\n                    {/* Dashboard Title */}\n                    {user && (\n                      <Link\n                        to={getDashboardLink()}\n                        className={getLinkClass(getDashboardLink())}\n\n                      >\n                        {userRole === 'veterinarian' ? 'My Dashboard' :\n                         userRole === 'vet_nurse' ? 'My Dashboard' :\n                         userRole === 'trainer' ? 'My Dashboard' :\n                         userRole === 'groomer' ? 'My Dashboard' :\n                         userRole === 'breeder' ? 'My Dashboard' :\n                         userRole === 'nutritionist' ? 'My Dashboard' :\n                         userRole === 'pet_business' ? 'My Dashboard' :\n                         userRole === 'holistic_care' ? 'My Dashboard' :\n                         userRole === 'pet_owner' ? 'My Dashboard' :\n                         userRole === 'admin' ? 'My Dashboard' :\n                         'My Dashboard'}\n                      </Link>\n                    )}\n                    \n\n                    {/* Notification Bell */}\n                    <div className=\"relative notification-dropdown\">\n                      <button\n                        onClick={() => setShowNotificationCenter(!showNotificationCenter)}\n                        className=\"relative p-2.5 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-full transition-all duration-200 group\"\n                        title=\"Notifications\"\n                      >\n                        <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-5-5V9a3 3 0 10-6 0v3l-5 5h5a3 3 0 006 0z\" />\n                        </svg>\n                        {notifications.filter(n => !n.read).length > 0 && (\n                          <span className=\"absolute -top-0.5 -right-0.5 h-5 w-5 bg-orange-500 text-white text-xs rounded-full flex items-center justify-center font-medium shadow-lg\">\n                            {notifications.filter(n => !n.read).length > 9 ? '9+' : notifications.filter(n => !n.read).length}\n                          </span>\n                        )}\n                      </button>\n\n                      {/* Notification Dropdown */}\n                      {showNotificationCenter && (\n                        <div className=\"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-[55]\">\n                          <div className=\"px-4 py-3 border-b border-gray-100 flex items-center justify-between\">\n                            <h3 className=\"text-sm font-semibold text-gray-900\">Notifications</h3>\n                            {notifications.length > 0 && (\n                              <button\n                                onClick={clearAllNotifications}\n                                className=\"text-xs text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200\"\n                              >\n                                Clear all\n                              </button>\n                            )}\n                          </div>\n                          <div className=\"max-h-96 overflow-y-auto\">\n                            {notifications.length > 0 ? (\n                              notifications.map((notification) => (\n                                <div \n                                  key={notification.id} \n                                  onClick={() => handleNotificationClick(notification)}\n                                  className={`px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 cursor-pointer transition-colors ${\n                                    !notification.read ? (\n                                      notification.urgent ? 'bg-orange-50' : \n                                      notification.type === 'booking' ? 'bg-green-50' : \n                                      notification.type === 'reminder' ? 'bg-purple-50' :\n                                      'bg-blue-50'\n                                    ) : ''\n                                  }`}\n                                >\n                                  <div className=\"flex items-start space-x-3\">\n                                    <div className={`w-8 h-8 rounded-full mt-1 flex items-center justify-center flex-shrink-0 ${\n                                      notification.urgent ? 'bg-orange-100' : \n                                      notification.type === 'booking' ? 'bg-green-100' : \n                                      notification.type === 'reminder' ? 'bg-purple-100' :\n                                      'bg-blue-100'\n                                    }`}>\n                                      {notification.type === 'health' ? (\n                                        <svg className={`w-4 h-4 ${notification.urgent ? 'text-orange-600' : 'text-blue-600'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                        </svg>\n                                      ) : notification.type === 'booking' ? (\n                                        <svg className={`w-4 h-4 ${notification.urgent ? 'text-orange-600' : 'text-green-600'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3a1 1 0 012 0v4m0 0V3a1 1 0 012 0v4m0 0h4l-4 4-4-4m0 0V7a1 1 0 012 0v4\" />\n                                        </svg>\n                                      ) : notification.type === 'reminder' ? (\n                                        <svg className={`w-4 h-4 ${notification.urgent ? 'text-orange-600' : 'text-purple-600'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                        </svg>\n                                      ) : (\n                                        <div className={`w-2 h-2 rounded-full ${notification.urgent ? 'bg-red-500' : notification.read ? 'bg-gray-300' : 'bg-blue-500'}`}></div>\n                                      )}\n                                    </div>\n                                    <div className=\"flex-1 min-w-0\">\n                                      <p className=\"text-sm font-medium text-gray-900\">{notification.title}</p>\n                                      <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\n                                      {notification.petName && (\n                                        <p className=\"text-xs text-gray-500 mt-1\">Pet: {notification.petName}</p>\n                                      )}\n                                    </div>\n                                    <button\n                                      onClick={(e) => {\n                                        e.stopPropagation();\n                                        removeNotification(notification.id);\n                                      }}\n                                      className=\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full transition-all duration-200\"\n                                      title=\"Close notification\"\n                                    >\n                                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                                      </svg>\n                                    </button>\n                                  </div>\n                                </div>\n                              ))\n                            ) : (\n                              <div className=\"px-4 py-8 text-center\">\n                                <div className=\"w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center\">\n                                  <span className=\"text-2xl\">🔔</span>\n                                </div>\n                                <p className=\"text-gray-600 text-sm\">No notifications</p>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Profile Dropdown - Social Media Style */}\n                    <div className=\"relative profile-dropdown\">\n                      <button\n                        onClick={() => setShowProfileDropdown(!showProfileDropdown)}\n                        className=\"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-all duration-200\"\n                      >\n                        {/* Profile Picture */}\n                        <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden\">\n                          {profile?.avatar_url ? (\n                            <img src={profile.avatar_url} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                          ) : userRole === 'admin' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\" \n                              alt=\"Admin\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'pet_business' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg\" \n                              alt=\"Pet Business\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'pet_owner' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-owner.svg\" \n                              alt=\"Pet Owner\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'breeder' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/breeder.svg\" \n                              alt=\"Breeder\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'nutritionist' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/nutritionist.svg\" \n                              alt=\"Nutritionist\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'holistic_care' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/holistic-care.svg\" \n                              alt=\"Holistic Care\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'veterinarian' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet.svg\" \n                              alt=\"Veterinarian\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'vet_nurse' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet-nurse%20(1).svg\" \n                              alt=\"Vet Nurse\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'trainer' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-trainer.svg\" \n                              alt=\"Trainer\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : userRole === 'groomer' ? (\n                            <img \n                              src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg\" \n                              alt=\"Groomer\" \n                              className=\"w-6 h-6\"\n                            />\n                          ) : (\n                            <span className=\"text-sm\">👤</span>\n                          )}\n                        </div>\n                        \n                        {/* 3-line menu icon */}\n                        <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n                        </svg>\n                      </button>\n\n                    {/* Dropdown Menu */}\n                    {showProfileDropdown && (\n                      <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-[55]\">\n                        {/* Profile Header */}\n                        <div className=\"px-4 py-3 border-b border-gray-100\">\n                          <div className=\"flex items-center space-x-3\">\n                            <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden\">\n                              {profile?.avatar_url ? (\n                                <img src={profile.avatar_url} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                              ) : userRole === 'admin' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\" \n                                  alt=\"Admin\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'pet_business' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg\" \n                                  alt=\"Pet Business\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'pet_owner' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-owner.svg\" \n                                  alt=\"Pet Owner\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'breeder' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/breeder.svg\" \n                                  alt=\"Breeder\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'nutritionist' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/nutritionist.svg\" \n                                  alt=\"Nutritionist\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'holistic_care' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/holistic-care.svg\" \n                                  alt=\"Holistic Care\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'veterinarian' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet.svg\" \n                                  alt=\"Veterinarian\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'vet_nurse' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet-nurse%20(1).svg\" \n                                  alt=\"Vet Nurse\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'trainer' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-trainer.svg\" \n                                  alt=\"Trainer\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : userRole === 'groomer' ? (\n                                <img \n                                  src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg\" \n                                  alt=\"Groomer\" \n                                  className=\"w-8 h-8\"\n                                />\n                              ) : (\n                                <span className=\"text-lg\">👤</span>\n                              )}\n                            </div>\n                            <div className=\"min-w-0 flex-1\">\n                              <div className=\"text-sm font-semibold text-gray-900 font-montserrat truncate\">\n                                {profile?.full_name || user?.email?.split('@')[0] || 'User'}\n                              </div>\n                              <div className=\"text-xs text-gray-500 truncate\">{user?.email}</div>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Menu Items */}\n                        <div className=\"py-1\">\n                          \n                          <Link\n                            to=\"/settings\"\n                            onClick={() => setShowProfileDropdown(false)}\n                            className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-montserrat transition-colors duration-200\"\n                          >\n                            <svg className=\"w-4 h-4 mr-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                            </svg>\n                            Settings\n                          </Link>\n\n                          <div className=\"border-t border-gray-100 my-1\"></div>\n\n                          <button\n                            onClick={() => {\n                              setShowProfileDropdown(false);\n                              handleSignOut();\n                            }}\n                            className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 font-montserrat transition-colors duration-200\"\n                          >\n                            <svg className=\"w-4 h-4 mr-3 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                            </svg>\n                            Sign Out\n                          </button>\n                        </div>\n                      </div>\n                    )}\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <>\n                  <Link to=\"/signin\" className=\"text-gray-900 hover:text-[#5EB47C] px-4 py-2 text-base font-medium transition-colors duration-200 font-montserrat\">\n                    Sign In\n                  </Link>\n                  <Link to=\"/signup\" className=\"bg-[#5EB47C] hover:bg-[#4A9A64] text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 shadow-sm font-montserrat\">\n                    Sign Up\n                  </Link>\n                </>\n              )}\n            </div>\n\n            {/* Mobile menu button */}\n            <div className=\"md:hidden flex-shrink-0\">\n              <button\n                onClick={toggleMenu}\n                className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-900 hover:text-[#5EB47C] hover:bg-gray-100 transition-colors duration-200\"\n                aria-expanded=\"false\"\n              >\n                <span className=\"sr-only\">Open main menu</span>\n                {!isOpen ? (\n                  <svg\n                    className=\"block h-6 w-6\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                    aria-hidden=\"true\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M4 6h16M4 12h16M4 18h16\"\n                    />\n                  </svg>\n                ) : (\n                  <svg\n                    className=\"block h-6 w-6\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                    aria-hidden=\"true\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M6 18L18 6M6 6l12 12\"\n                    />\n                  </svg>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile menu */}\n      {isOpen && (\n        <div className=\"md:hidden\">\n          <div className=\"px-4 sm:px-6 lg:px-8 bg-white border-t border-gray-100 shadow-lg\">\n            <div className=\"max-w-7xl mx-auto\">\n              <div className=\"py-6 space-y-3\">\n                <Link\n                  to=\"/marketplace\"\n                  className=\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  Petcare Hub\n                </Link>\n                <Link\n                  to=\"/luni-triage\"\n                  className=\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  LuniGen\n                </Link>\n                {/* Mobile How It Works Dropdown */}\n                <div className=\"how-it-works-dropdown\">\n                  <button\n                    onClick={() => setShowHowItWorksDropdown(!showHowItWorksDropdown)}\n                    className=\"flex items-center justify-between w-full px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\"\n                  >\n                    <span>How It Works</span>\n                    <svg\n                      className={`w-4 h-4 transition-transform ${showHowItWorksDropdown ? 'rotate-180' : ''}`}\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  \n                  {showHowItWorksDropdown && (\n                    <div className=\"ml-4 mt-2 space-y-2\">\n                      <Link\n                        to=\"/pricing\"\n                        className=\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\"\n                        onClick={() => {\n                          setShowHowItWorksDropdown(false);\n                          setIsOpen(false);\n                        }}\n                      >\n                        Pet Owners\n                      </Link>\n                      <Link\n                        to=\"/clinics\"\n                        className=\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\"\n                        onClick={() => {\n                          setShowHowItWorksDropdown(false);\n                          setIsOpen(false);\n                        }}\n                      >\n                        Clinics\n                      </Link>\n                      <Link\n                        to=\"/vet-schools\"\n                        className=\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\"\n                        onClick={() => {\n                          setShowHowItWorksDropdown(false);\n                          setIsOpen(false);\n                        }}\n                      >\n                        Vet Schools\n                      </Link>\n                    </div>\n                  )}\n                </div>\n                \n                {/* Mobile About Dropdown */}\n                <div className=\"about-dropdown\">\n                  <button\n                    onClick={() => setShowAboutDropdown(!showAboutDropdown)}\n                    className=\"flex items-center justify-between w-full px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\"\n                  >\n                    <span>About</span>\n                    <svg\n                      className={`w-4 h-4 transition-transform ${showAboutDropdown ? 'rotate-180' : ''}`}\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  \n                  {showAboutDropdown && (\n                    <div className=\"ml-4 mt-2 space-y-2\">\n                      <Link\n                        to=\"/about\"\n                        className=\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\"\n                        onClick={() => {\n                          setShowAboutDropdown(false);\n                          setIsOpen(false);\n                        }}\n                      >\n                        About Us\n                      </Link>\n                      <Link\n                        to=\"/investors\"\n                        className=\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\"\n                        onClick={() => {\n                          setShowAboutDropdown(false);\n                          setIsOpen(false);\n                        }}\n                      >\n                        Investors\n                      </Link>\n                      <Link\n                        to=\"/contact\"\n                        className=\"block px-3 py-2 text-sm text-gray-600 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md transition-colors\"\n                        onClick={() => {\n                          setShowAboutDropdown(false);\n                          setIsOpen(false);\n                        }}\n                      >\n                        Contact Us\n                      </Link>\n                    </div>\n                  )}\n                </div>\n                {user && (\n                  <Link\n                    to={getDashboardLink()}\n                    className=\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\"\n                    onClick={() => setIsOpen(false)}\n                  >\n                                         {userRole === 'veterinarian' ? 'My Dashboard' :\n                      userRole === 'vet_nurse' ? 'My Dashboard' :\n                      userRole === 'trainer' ? 'My Dashboard' :\n                      userRole === 'groomer' ? 'My Dashboard' :\n                      userRole === 'breeder' ? 'My Dashboard' :\n                      userRole === 'nutritionist' ? 'My Dashboard' :\n                      userRole === 'pet_business' ? 'My Dashboard' :\n                      userRole === 'holistic_care' ? 'My Dashboard' :\n                      userRole === 'pet_owner' ? 'My Dashboard' :\n                      userRole === 'admin' ? 'Admin Dashboard' :\n                      'My Dashboard'}\n                  </Link>\n                )}\n                <div className=\"pt-4 border-t border-gray-200 mt-4\">\n                  <div className=\"space-y-3\">\n                    {user ? (\n                      <>\n                        {/* Mobile Profile Header */}\n                        <div className=\"flex items-center px-3 py-3 bg-gray-50 rounded-lg\">\n                          <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden mr-3\">\n                            {profile?.avatar_url ? (\n                              <img src={profile.avatar_url} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                            ) : userRole === 'admin' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/admin.svg\" \n                                alt=\"Admin\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'pet_business' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/PetBusiness.svg\" \n                                alt=\"Pet Business\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'pet_owner' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-owner.svg\" \n                                alt=\"Pet Owner\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'breeder' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/breeder.svg\" \n                                alt=\"Breeder\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'nutritionist' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/nutritionist.svg\" \n                                alt=\"Nutritionist\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'holistic_care' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/holistic-care.svg\" \n                                alt=\"Holistic Care\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'veterinarian' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet.svg\" \n                                alt=\"Veterinarian\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'vet_nurse' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/vet-nurse%20(1).svg\" \n                                alt=\"Vet Nurse\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'trainer' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/pet-trainer.svg\" \n                                alt=\"Trainer\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : userRole === 'groomer' ? (\n                              <img \n                                src=\"https://wagrmmbkukwblfpfxxcb.supabase.co/storage/v1/object/public/web-img/groomer.svg\" \n                                alt=\"Groomer\" \n                                className=\"w-8 h-8\"\n                              />\n                            ) : (\n                              <span className=\"text-lg\">👤</span>\n                            )}\n                          </div>\n                          <div className=\"min-w-0 flex-1\">\n                            <div className=\"text-sm font-semibold text-gray-900 font-montserrat truncate\">\n                              {profile?.full_name || user?.email?.split('@')[0] || 'User'}\n                            </div>\n                            <div className=\"text-xs text-gray-500 truncate\">{user?.email}</div>\n                          </div>\n                        </div>\n\n\n                        <Link\n                          to=\"/settings\"\n                          onClick={() => setIsOpen(false)}\n                          className=\"flex items-center w-full px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\"\n                        >\n                          <svg className=\"w-4 h-4 mr-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                          </svg>\n                          Settings\n                        </Link>\n\n                        <div className=\"border-t border-gray-200 my-2\"></div>\n\n                        <button\n                          onClick={() => { handleSignOut(); setIsOpen(false); }}\n                          className=\"flex items-center w-full px-3 py-3 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md font-montserrat transition-colors duration-200\"\n                        >\n                          <svg className=\"w-4 h-4 mr-3 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                          </svg>\n                          Sign Out\n                        </button>\n                      </>\n                    ) : (\n                      <>\n                        <Link to=\"/signin\" className=\"block px-3 py-3 text-base font-medium text-gray-900 hover:text-[#5EB47C] hover:bg-gray-50 rounded-md font-montserrat transition-colors duration-200\" onClick={() => setIsOpen(false)}>\n                          Sign In\n                        </Link>\n                        <Link to=\"/signup\" className=\"block bg-[#5EB47C] hover:bg-[#4A9A64] text-white px-3 py-3 rounded-lg text-base font-medium transition-colors duration-200 shadow-sm font-montserrat text-center\" onClick={() => setIsOpen(false)}>\n                          Sign Up\n                        </Link>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n};\n\nexport default Navbar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,OAASC,QAAQ,KAAQ,oBAAoB,CAC7C,OAASC,eAAe,KAAQ,wBAAwB,CACxD,MAAO,CAAAC,mBAAmB,KAAM,iCAAiC,CACjE,MAAO,CAAAC,UAAU,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhD,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,KAAAC,WAAA,CAAAC,YAAA,CACnB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACoB,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACsB,QAAQ,CAAEC,WAAW,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACwB,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC0B,mBAAmB,CAAEC,sBAAsB,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAAC4B,sBAAsB,CAAEC,yBAAyB,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CAC3E,KAAM,CAAC8B,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACgC,aAAa,CAAEC,gBAAgB,CAAC,CAAGjC,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACkC,sBAAsB,CAAEC,yBAAyB,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CAC3E,KAAM,CAAAoC,QAAQ,CAAGjC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAkC,QAAQ,CAAGjC,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACdqC,SAAS,CAAC,CAAC,CAEX;AACA,KAAM,CAAAC,WAAW,CAAGjC,eAAe,CAAC,CAACkC,KAAK,CAAEC,OAAO,GAAK,CACtD,GAAIA,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAErB,IAAI,CAAE,CACjBkB,SAAS,CAAC,CAAC,CACb,CAAC,IAAM,CACLjB,OAAO,CAAC,IAAI,CAAC,CACbE,WAAW,CAAC,IAAI,CAAC,CACjBE,UAAU,CAAC,IAAI,CAAC,CAClB,CACF,CAAC,CAAC,CAEF,MAAO,CAAAc,WAAW,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN;AACAtC,SAAS,CAAC,IAAM,CACd,GAAI,CAACmB,IAAI,CAAE,OAEX,KAAM,CAAAsB,QAAQ,CAAGC,WAAW,CAAC,IAAM,CACjCC,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAAC,CAAG,EAAE,CAAG,IAAI,CAAC,CAAE;AAEnB,MAAO,IAAMC,aAAa,CAACH,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACtB,IAAI,CAAC,CAAC,CAEV;AACAnB,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6C,kBAAkB,CAAIN,KAAK,EAAK,CACpC,GAAId,mBAAmB,EAAI,CAACc,KAAK,CAACO,MAAM,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAAE,CACrErB,sBAAsB,CAAC,KAAK,CAAC,CAC/B,CACA,GAAIO,sBAAsB,EAAI,CAACM,KAAK,CAACO,MAAM,CAACC,OAAO,CAAC,wBAAwB,CAAC,CAAE,CAC7Eb,yBAAyB,CAAC,KAAK,CAAC,CAClC,CACA,GAAIP,sBAAsB,EAAI,CAACY,KAAK,CAACO,MAAM,CAACC,OAAO,CAAC,wBAAwB,CAAC,CAAE,CAC7EnB,yBAAyB,CAAC,KAAK,CAAC,CAClC,CACA,GAAIC,iBAAiB,EAAI,CAACU,KAAK,CAACO,MAAM,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAE,CACjEjB,oBAAoB,CAAC,KAAK,CAAC,CAC7B,CACF,CAAC,CAEDkB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEJ,kBAAkB,CAAC,CAC1D,MAAO,IAAMG,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEL,kBAAkB,CAAC,CAC5E,CAAC,CAAE,CAACpB,mBAAmB,CAAEQ,sBAAsB,CAAEN,sBAAsB,CAAEE,iBAAiB,CAAC,CAAC,CAE5F,KAAM,CAAAQ,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAEc,IAAI,CAAE,CAAEhC,IAAK,CAAE,CAAC,CAAG,KAAM,CAAAf,QAAQ,CAACgD,IAAI,CAACC,OAAO,CAAC,CAAC,CACxD,GAAIlC,IAAI,CAAE,KAAAmC,mBAAA,CACRlC,OAAO,CAACD,IAAI,CAAC,CAEb;AACA,KAAM,CAAEgC,IAAI,CAAE5B,OAAO,CAAEgC,KAAK,CAAEC,YAAa,CAAC,CAAG,KAAM,CAAApD,QAAQ,CAC1DqD,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,gDAAgD,CAAC,CACxDC,EAAE,CAAC,IAAI,CAAExC,IAAI,CAACyC,EAAE,CAAC,CACjBC,MAAM,CAAC,CAAC,CAEX;AACA,GAAI,CAAA1C,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2C,KAAK,IAAK,wBAAwB,CAAE,CAC5CxC,WAAW,CAAC,SAAS,CAAC,CACtB,OACF,CAEA;AACA,KAAM,CAAAyC,oBAAoB,CAAG5C,IAAI,SAAJA,IAAI,kBAAAmC,mBAAA,CAAJnC,IAAI,CAAE6C,aAAa,UAAAV,mBAAA,iBAAnBA,mBAAA,CAAqBW,SAAS,CAE3D;AACA,GAAI,CAAAC,aAAa,CAAGH,oBAAoB,GAAIxC,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE4C,IAAI,GAAI,IAAI,CAEjE;AACA,GAAI,CAAA5C,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE4C,IAAI,IAAK,SAAS,CAAE,CAC/BD,aAAa,CAAG,SAAS,CAC3B,CAAC,IAAM,IAAI,CAAA3C,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE4C,IAAI,IAAK,SAAS,CAAE,CACtCD,aAAa,CAAG,SAAS,CAC3B,CAAC,IAAM,IAAI,CAAA3C,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE4C,IAAI,IAAK,UAAU,CAAE,CACvC,KAAM,CAAEhB,IAAI,CAAEiB,YAAY,CAAEb,KAAK,CAAEc,aAAc,CAAC,CAAG,KAAM,CAAAjE,QAAQ,CAChEqD,IAAI,CAAC,WAAW,CAAC,CACjBC,MAAM,CAAC,eAAe,CAAC,CACvBC,EAAE,CAAC,SAAS,CAAExC,IAAI,CAACyC,EAAE,CAAC,CACtBC,MAAM,CAAC,CAAC,CAEX,GAAI,CAAAO,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEE,aAAa,IAAK,SAAS,CAAE,CAC7CJ,aAAa,CAAG,SAAS,CAC3B,CAAC,IAAM,IAAI,CAAAE,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEE,aAAa,IAAK,SAAS,CAAE,CACpDJ,aAAa,CAAG,SAAS,CAC3B,CAAC,IAAM,IAAI,CAAAE,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEE,aAAa,IAAK,SAAS,CAAE,CACpDJ,aAAa,CAAG,SAAS,CAC3B,CAAC,IAAM,IAAI,CAAAE,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEE,aAAa,IAAK,cAAc,CAAE,CACzDJ,aAAa,CAAG,cAAc,CAChC,CAAC,IAAM,IAAI,CAAAE,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEE,aAAa,IAAK,cAAc,CAAE,CACzDJ,aAAa,CAAG,cAAc,CAChC,CAAC,IAAM,IAAI,CAAAE,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEE,aAAa,IAAK,eAAe,CAAE,CAC1DJ,aAAa,CAAG,eAAe,CACjC,CACF,CAEA1C,UAAU,CAACD,OAAO,CAAC,CACnBD,WAAW,CAAC4C,aAAa,CAAC,CAI1B;AACAvB,iBAAiB,CAAC,CAAC,CAAC4B,KAAK,CAAChB,KAAK,EAAI,CACjCiB,OAAO,CAACjB,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDvB,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAAC,CAAC,CACJ,CACF,CAAE,MAAOuB,KAAK,CAAE,CACdiB,OAAO,CAACjB,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAZ,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAEQ,IAAI,CAAE,CAAEhC,IAAK,CAAE,CAAC,CAAG,KAAM,CAAAf,QAAQ,CAACgD,IAAI,CAACC,OAAO,CAAC,CAAC,CACxD,GAAI,CAAClC,IAAI,CAAE,CACTa,gBAAgB,CAAC,EAAE,CAAC,CACpB,OACF,CAEA;AACA,KAAM,CAAAyC,UAAU,CAAG,KAAM,CAAAlE,UAAU,CAACmE,WAAW,CAACvD,IAAI,CAACyC,EAAE,CAAC,CACxD,GAAI,CAACa,UAAU,CAACE,OAAO,EAAI,CAACF,UAAU,CAACtB,IAAI,CAACyB,MAAM,CAAE,CAClD5C,gBAAgB,CAAC,EAAE,CAAC,CACpB,OACF,CAEA,KAAM,CAAA6C,IAAI,CAAGJ,UAAU,CAACtB,IAAI,CAC5B,KAAM,CAAA2B,mBAAmB,CAAG,EAAE,CAE9B;AACE,IAAK,KAAM,CAAAC,GAAG,GAAI,CAAAF,IAAI,CAAE,CACtB,GAAI,CACF;AACA,KAAM,CAAAG,mBAAmB,CAAG,KAAM,CAAA1E,mBAAmB,CAAC2E,gBAAgB,CAACF,GAAG,CAACnB,EAAE,CAAC,CAE9E,GAAIoB,mBAAmB,CAACL,OAAO,CAAE,CAC/B,KAAM,CAAAO,aAAa,CAAGF,mBAAmB,CAAC7B,IAAI,CAE9C;AACA+B,aAAa,CAACC,OAAO,CAACC,MAAM,EAAI,CAC9B,GAAIA,MAAM,CAACC,aAAa,CAAE,CACxB,KAAM,CAAAC,OAAO,CAAG,GAAI,CAAAC,IAAI,CAACH,MAAM,CAACC,aAAa,CAAC,CAC9C,KAAM,CAAAG,SAAS,CAAGlF,mBAAmB,CAACmF,eAAe,CAACL,MAAM,CAACC,aAAa,CAAC,CAE3E;AACA,GAAIG,SAAS,EAAI,EAAE,CAAE,CACnB,GAAI,CAAAE,KAAK,CAAG,EAAE,CACd,GAAI,CAAAC,OAAO,CAAG,EAAE,CAChB,GAAI,CAAAC,MAAM,CAAG,KAAK,CAElB;AACA,OAAQR,MAAM,CAACS,WAAW,EACxB,IAAK,aAAa,CAChBH,KAAK,CAAGF,SAAS,CAAG,CAAC,CAAG,qBAAqB,CAAG,sBAAsB,CACtEG,OAAO,CAAGH,SAAS,CAAG,CAAC,CACrB,GAAGT,GAAG,CAACe,IAAI,qBAAqBC,IAAI,CAACC,GAAG,CAACR,SAAS,CAAC,eAAe,CAClEA,SAAS,GAAK,CAAC,CACf,GAAGT,GAAG,CAACe,IAAI,6BAA6B,CACxC,GAAGf,GAAG,CAACe,IAAI,4BAA4BN,SAAS,OAAOA,SAAS,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EAAE,CACrFI,MAAM,CAAGJ,SAAS,EAAI,CAAC,CACvB,MACF,IAAK,UAAU,CACbE,KAAK,CAAGF,SAAS,CAAG,CAAC,CAAG,kBAAkB,CAAG,mBAAmB,CAChEG,OAAO,CAAGH,SAAS,CAAG,CAAC,CACrB,GAAGT,GAAG,CAACe,IAAI,kBAAkBC,IAAI,CAACC,GAAG,CAACR,SAAS,CAAC,eAAe,CAC/DA,SAAS,GAAK,CAAC,CACf,GAAGT,GAAG,CAACe,IAAI,0BAA0B,CACrC,GAAGf,GAAG,CAACe,IAAI,yBAAyBN,SAAS,OAAOA,SAAS,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EAAE,CAClFI,MAAM,CAAGJ,SAAS,EAAI,CAAC,CACvB,MACF,IAAK,SAAS,CACZE,KAAK,CAAGF,SAAS,CAAG,CAAC,CAAG,iBAAiB,CAAG,kBAAkB,CAC9DG,OAAO,CAAGH,SAAS,CAAG,CAAC,CACrB,GAAGT,GAAG,CAACe,IAAI,iBAAiBC,IAAI,CAACC,GAAG,CAACR,SAAS,CAAC,eAAe,CAC9DA,SAAS,GAAK,CAAC,CACf,GAAGT,GAAG,CAACe,IAAI,yBAAyB,CACpC,GAAGf,GAAG,CAACe,IAAI,wBAAwBN,SAAS,OAAOA,SAAS,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EAAE,CACjFI,MAAM,CAAGJ,SAAS,EAAI,CAAC,CACvB,MACF,IAAK,QAAQ,CACXE,KAAK,CAAGF,SAAS,CAAG,CAAC,CAAG,qBAAqB,CAAG,sBAAsB,CACtEG,OAAO,CAAGH,SAAS,CAAG,CAAC,CACrB,GAAGT,GAAG,CAACe,IAAI,qBAAqBC,IAAI,CAACC,GAAG,CAACR,SAAS,CAAC,eAAe,CAClEA,SAAS,GAAK,CAAC,CACf,GAAGT,GAAG,CAACe,IAAI,6BAA6B,CACxC,GAAGf,GAAG,CAACe,IAAI,4BAA4BN,SAAS,OAAOA,SAAS,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EAAE,CACrFI,MAAM,CAAGJ,SAAS,EAAI,CAAC,CACvB,MACF,QACEE,KAAK,CAAGF,SAAS,CAAG,CAAC,CAAG,GAAGJ,MAAM,CAACS,WAAW,UAAU,CAAG,GAAGT,MAAM,CAACS,WAAW,WAAW,CAC1FF,OAAO,CAAGH,SAAS,CAAG,CAAC,CACrB,GAAGT,GAAG,CAACe,IAAI,MAAMV,MAAM,CAACS,WAAW,OAAOE,IAAI,CAACC,GAAG,CAACR,SAAS,CAAC,eAAe,CAC5EA,SAAS,GAAK,CAAC,CACf,GAAGT,GAAG,CAACe,IAAI,MAAMV,MAAM,CAACS,WAAW,eAAe,CAClD,GAAGd,GAAG,CAACe,IAAI,MAAMV,MAAM,CAACS,WAAW,cAAcL,SAAS,OAAOA,SAAS,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EAAE,CAC/FI,MAAM,CAAGJ,SAAS,EAAI,CAAC,CAC3B,CAEAV,mBAAmB,CAACmB,IAAI,CAAC,CACvBrC,EAAE,CAAE,UAAUwB,MAAM,CAACxB,EAAE,EAAE,CACzB8B,KAAK,CAAEA,KAAK,CACZC,OAAO,CAAEA,OAAO,CAChBO,IAAI,CAAE,KAAK,CACXN,MAAM,CAAEA,MAAM,CACdO,IAAI,CAAE,QAAQ,CACdC,KAAK,CAAErB,GAAG,CAACnB,EAAE,CACbyC,OAAO,CAAEtB,GAAG,CAACe,IAAI,CACjBQ,UAAU,CAAElB,MAAM,CAACS,WAAW,CAC9BP,OAAO,CAAEA,OACX,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAiB,iBAAiB,CAAG,KAAM,CAAAjG,mBAAmB,CAACkG,uBAAuB,CAACzB,GAAG,CAACnB,EAAE,CAAC,CACnF,GAAI2C,iBAAiB,CAAC5B,OAAO,CAAE,CAC7B,KAAM,CAAA8B,UAAU,CAAGF,iBAAiB,CAACpD,IAAI,CAEzC;AACA,GAAIsD,UAAU,CAACC,oBAAoB,CAAG,GAAG,CAAE,CACzC,KAAM,CAAAC,aAAa,CAAG7B,mBAAmB,CAAC8B,IAAI,CAACC,CAAC,EAC9CA,CAAC,CAACT,KAAK,GAAKrB,GAAG,CAACnB,EAAE,EAAIiD,CAAC,CAACP,UAAU,GAAK,SACzC,CAAC,CAED,GAAI,CAACK,aAAa,CAAE,CAClB7B,mBAAmB,CAACmB,IAAI,CAAC,CACvBrC,EAAE,CAAE,mBAAmBmB,GAAG,CAACnB,EAAE,EAAE,CAC/B8B,KAAK,CAAE,oBAAoB,CAC3BC,OAAO,CAAE,GAAGZ,GAAG,CAACe,IAAI,sCAAsC,CAC1DI,IAAI,CAAE,KAAK,CACXN,MAAM,CAAEa,UAAU,CAACC,oBAAoB,CAAG,GAAG,CAC7CP,IAAI,CAAE,QAAQ,CACdC,KAAK,CAAErB,GAAG,CAACnB,EAAE,CACbyC,OAAO,CAAEtB,GAAG,CAACe,IAAI,CACjBQ,UAAU,CAAE,SACd,CAAC,CAAC,CACJ,CACF,CACF,CACF,CAAE,MAAO/C,KAAK,CAAE,CACdiB,OAAO,CAACjB,KAAK,CAAC,qCAAqCwB,GAAG,CAACnB,EAAE,GAAG,CAAEL,KAAK,CAAC,CACtE,CACF,CAEF;AACA,KAAM,CAAAuD,oBAAoB,CAAG,EAAE,CAC/B,GAAI,CACF,KAAM,CAAE3D,IAAI,CAAE4D,YAAa,CAAC,CAAG,KAAM,CAAA3G,QAAQ,CAC1CqD,IAAI,CAAC,uBAAuB,CAAC,CAC7BC,MAAM,CAAC;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,CAAC,CACDC,EAAE,CAAC,SAAS,CAAExC,IAAI,CAACyC,EAAE,CAAC,CACtBoD,KAAK,CAAC,YAAY,CAAE,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACzCC,KAAK,CAAC,EAAE,CAAC,CAEZ,GAAIH,YAAY,CAAE,CAChBA,YAAY,CAAC5B,OAAO,CAACgC,OAAO,EAAI,CAC9B,KAAM,CAAAC,eAAe,CAAG,GAAI,CAAA7B,IAAI,CAAC4B,OAAO,CAACE,cAAc,CAAG,GAAG,CAAGF,OAAO,CAACG,cAAc,CAAC,CACvF,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAhC,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAiC,QAAQ,CAAGJ,eAAe,CAAGG,GAAG,CACtC,KAAM,CAAAE,QAAQ,CAAG1B,IAAI,CAAC2B,IAAI,CAACF,QAAQ,EAAI,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAC5D,KAAM,CAAAG,SAAS,CAAG5B,IAAI,CAAC2B,IAAI,CAACF,QAAQ,EAAI,IAAI,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAExD;AACA,GAAIC,QAAQ,EAAI,CAAC,EAAIA,QAAQ,EAAI,CAAC,EAAIN,OAAO,CAACS,MAAM,GAAK,WAAW,CAAE,CACpE,GAAI,CAAAjC,OAAO,CAAG,EAAE,CAChB,GAAI,CAAAC,MAAM,CAAG,KAAK,CAElB,GAAI6B,QAAQ,GAAK,CAAC,EAAIE,SAAS,EAAI,EAAE,EAAIA,SAAS,CAAG,CAAC,CAAE,KAAAE,qBAAA,CAAAC,sBAAA,CACtDnC,OAAO,CAAG,GAAG,EAAAkC,qBAAA,CAAAV,OAAO,CAACY,oBAAoB,UAAAF,qBAAA,iBAA5BA,qBAAA,CAA8BG,YAAY,GAAI,aAAa,SAAS,EAAAF,sBAAA,CAAAX,OAAO,CAACY,oBAAoB,UAAAD,sBAAA,iBAA5BA,sBAAA,CAA8BG,aAAa,GAAI,UAAU,aAAad,OAAO,CAACG,cAAc,EAAE,CAC/K1B,MAAM,CAAG,IAAI,CACf,CAAC,IAAM,IAAI6B,QAAQ,GAAK,CAAC,CAAE,KAAAS,sBAAA,CAAAC,sBAAA,CACPxC,OAAO,CAAG,GAAG,EAAAuC,sBAAA,CAAAf,OAAO,CAACY,oBAAoB,UAAAG,sBAAA,iBAA5BA,sBAAA,CAA8BF,YAAY,GAAI,aAAa,SAAS,EAAAG,sBAAA,CAAAhB,OAAO,CAACY,oBAAoB,UAAAI,sBAAA,iBAA5BA,sBAAA,CAA8BF,aAAa,GAAI,UAAU,gBAAgBd,OAAO,CAACG,cAAc,EAAE,CACpM1B,MAAM,CAAG,IAAI,CACf,CAAC,IAAM,IAAI6B,QAAQ,EAAI,CAAC,CAAE,KAAAW,sBAAA,CAAAC,sBAAA,CACN1C,OAAO,CAAG,GAAG,EAAAyC,sBAAA,CAAAjB,OAAO,CAACY,oBAAoB,UAAAK,sBAAA,iBAA5BA,sBAAA,CAA8BJ,YAAY,GAAI,aAAa,SAAS,EAAAK,sBAAA,CAAAlB,OAAO,CAACY,oBAAoB,UAAAM,sBAAA,iBAA5BA,sBAAA,CAA8BJ,aAAa,GAAI,UAAU,OAAOR,QAAQ,OAAO,CAClL7B,MAAM,CAAG,KAAK,CAChB,CAAC,IAAM,KAAA0C,sBAAA,CACa3C,OAAO,CAAG,GAAG,EAAA2C,sBAAA,CAAAnB,OAAO,CAACY,oBAAoB,UAAAO,sBAAA,iBAA5BA,sBAAA,CAA8BN,YAAY,GAAI,aAAa,kBAAkBb,OAAO,CAACE,cAAc,EAAE,CACpIzB,MAAM,CAAG,KAAK,CAChB,CAEAkB,oBAAoB,CAACb,IAAI,CAAC,CACxBrC,EAAE,CAAE,WAAWuD,OAAO,CAACvD,EAAE,EAAE,CAC3B8B,KAAK,CAAEyB,OAAO,CAACS,MAAM,GAAK,WAAW,CAAG,sBAAsB,CAAG,oBAAoB,CACrFjC,OAAO,CAAEA,OAAO,CAChBO,IAAI,CAAE,KAAK,CACXN,MAAM,CAAEA,MAAM,CACdO,IAAI,CAAE,SAAS,CACfoC,SAAS,CAAEpB,OAAO,CAACvD,EAAE,CACrBwD,eAAe,CAAEA,eACnB,CAAC,CAAC,CACJ,CAEA;AACA,GAAID,OAAO,CAACS,MAAM,GAAK,WAAW,EAAIT,OAAO,CAACqB,YAAY,CAAE,CAC1D,KAAM,CAAAC,aAAa,CAAG,GAAI,CAAAlD,IAAI,CAAC4B,OAAO,CAACqB,YAAY,CAAC,CACpD,KAAM,CAAAE,kBAAkB,CAAG3C,IAAI,CAAC2B,IAAI,CAAC,CAACH,GAAG,CAAGkB,aAAa,GAAK,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAEnF,GAAIC,kBAAkB,EAAI,CAAC,CAAE,KAAAC,sBAAA,CAAAC,sBAAA,CAC3B9B,oBAAoB,CAACb,IAAI,CAAC,CACxBrC,EAAE,CAAE,aAAauD,OAAO,CAACvD,EAAE,EAAE,CAC7B8B,KAAK,CAAE,mBAAmB,CAC1BC,OAAO,CAAE,QAAQ,EAAAgD,sBAAA,CAAAxB,OAAO,CAACY,oBAAoB,UAAAY,sBAAA,iBAA5BA,sBAAA,CAA8BX,YAAY,GAAI,aAAa,SAAS,EAAAY,sBAAA,CAAAzB,OAAO,CAACY,oBAAoB,UAAAa,sBAAA,iBAA5BA,sBAAA,CAA8BX,aAAa,GAAI,UAAU,qBAAqBd,OAAO,CAACE,cAAc,EAAE,CAC3LnB,IAAI,CAAE,KAAK,CACXN,MAAM,CAAE,KAAK,CACbO,IAAI,CAAE,SAAS,CACfoC,SAAS,CAAEpB,OAAO,CAACvD,EACrB,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAC,CACJ,CACF,CAAE,MAAOL,KAAK,CAAE,CACdiB,OAAO,CAACjB,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC9D,CAEA;AACA,KAAM,CAAAsF,qBAAqB,CAAG,EAAE,CAChC,GAAI,CACF,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAAxI,mBAAmB,CAACyI,YAAY,CAAC5H,IAAI,CAACyC,EAAE,CAAC,CACvE,GAAIkF,eAAe,CAACnE,OAAO,EAAImE,eAAe,CAAC3F,IAAI,CAAE,CACnD2F,eAAe,CAAC3F,IAAI,CAACgC,OAAO,CAAC6D,QAAQ,EAAI,CACvC,KAAM,CAAA1D,OAAO,CAAG,GAAI,CAAAC,IAAI,CAACyD,QAAQ,CAACC,QAAQ,CAAC,CAC3C,KAAM,CAAA1B,GAAG,CAAG,GAAI,CAAAhC,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAkC,QAAQ,CAAG1B,IAAI,CAAC2B,IAAI,CAAC,CAACpC,OAAO,CAAGiC,GAAG,GAAK,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAEnE;AACA,GAAIE,QAAQ,EAAI,CAAC,CAAE,CACjBoB,qBAAqB,CAAC5C,IAAI,CAAC,CACzBrC,EAAE,CAAE,YAAYoF,QAAQ,CAACpF,EAAE,EAAE,CAC7B8B,KAAK,CAAEsD,QAAQ,CAACtD,KAAK,EAAI,cAAc,CACvCC,OAAO,CAAE8B,QAAQ,CAAG,CAAC,CACnB,YAAYuB,QAAQ,CAACE,WAAW,EAAE,CAClCzB,QAAQ,GAAK,CAAC,CACd,cAAcuB,QAAQ,CAACE,WAAW,EAAE,CACpC,UAAUzB,QAAQ,UAAUuB,QAAQ,CAACE,WAAW,EAAE,CACpDhD,IAAI,CAAE,KAAK,CACXN,MAAM,CAAE6B,QAAQ,EAAI,CAAC,CACrBtB,IAAI,CAAE,UAAU,CAChBgD,UAAU,CAAEH,QAAQ,CAACpF,EAAE,CACvBwC,KAAK,CAAE4C,QAAQ,CAACI,MAClB,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CACF,CAAE,MAAO7F,KAAK,CAAE,CACdiB,OAAO,CAACjB,KAAK,CAAC,uCAAuC,CAAEA,KAAK,CAAC,CAC/D,CAEA;AACA,KAAM,CAAA8F,gBAAgB,CAAG,CAAC,GAAGvE,mBAAmB,CAAE,GAAGgC,oBAAoB,CAAE,GAAG+B,qBAAqB,CAAC,CAEpG;AACAQ,gBAAgB,CAACC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,KAAAC,UAAA,CAC9B,GAAIF,CAAC,CAAC3D,MAAM,GAAK4D,CAAC,CAAC5D,MAAM,CAAE,MAAO,CAAA4D,CAAC,CAAC5D,MAAM,CAAG2D,CAAC,CAAC3D,MAAM,CACrD,GAAI2D,CAAC,CAACnC,eAAe,EAAIoC,CAAC,CAACpC,eAAe,CAAE,CAC1C,MAAO,CAAAmC,CAAC,CAACnC,eAAe,CAAGoC,CAAC,CAACpC,eAAe,CAC9C,CACA,MAAO,EAAAqC,UAAA,CAAAF,CAAC,CAAClD,OAAO,UAAAoD,UAAA,iBAATA,UAAA,CAAWC,aAAa,CAACF,CAAC,CAACnD,OAAO,EAAI,EAAE,CAAC,GAAI,CAAC,CACvD,CAAC,CAAC,CAEFrE,gBAAgB,CAACqH,gBAAgB,CAAC,CACpC,CAAE,MAAO9F,KAAK,CAAE,CACdiB,OAAO,CAACjB,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDvB,gBAAgB,CAAC,EAAE,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA2H,kBAAkB,CAAIC,cAAc,EAAK,CAC7C5H,gBAAgB,CAAC6H,IAAI,EAAIA,IAAI,CAACC,MAAM,CAACC,YAAY,EAAIA,YAAY,CAACnG,EAAE,GAAKgG,cAAc,CAAC,CAAC,CAC3F,CAAC,CAED,KAAM,CAAAI,qBAAqB,CAAGA,CAAA,GAAM,CAClChI,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAAC,CAED,KAAM,CAAAiI,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,KAAM,CAAAtH,iBAAiB,CAAC,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAuH,uBAAuB,CAAIH,YAAY,EAAK,CAChD,GAAIA,YAAY,CAAC5D,IAAI,GAAK,QAAQ,EAAI4D,YAAY,CAAC3D,KAAK,CAAE,CACxD;AACAhE,QAAQ,CAAC,sCAAsC,CAAG2H,YAAY,CAAC3D,KAAK,CAAC,CACrElE,yBAAyB,CAAC,KAAK,CAAC,CAClC,CAAC,IAAM,IAAI6H,YAAY,CAAC5D,IAAI,GAAK,SAAS,CAAE,CAC1C;AACA/D,QAAQ,CAAC,mCAAmC,CAAC,CAC7CF,yBAAyB,CAAC,KAAK,CAAC,CAClC,CAAC,IAAM,IAAI6H,YAAY,CAAC5D,IAAI,GAAK,UAAU,CAAE,CAC3C;AACA,GAAI4D,YAAY,CAAC3D,KAAK,CAAE,CACtBhE,QAAQ,CAAC,wCAAwC,CAAG2H,YAAY,CAAC3D,KAAK,CAAC,CACzE,CAAC,IAAM,CACLhE,QAAQ,CAAC,mCAAmC,CAAC,CAC/C,CACAF,yBAAyB,CAAC,KAAK,CAAC,CAClC,CACF,CAAC,CAED,KAAM,CAAAiI,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,KAAM,CAAA/J,QAAQ,CAACgD,IAAI,CAACgH,OAAO,CAAC,CAAC,CAC7BhJ,OAAO,CAAC,IAAI,CAAC,CACbE,WAAW,CAAC,IAAI,CAAC,CACjBE,UAAU,CAAC,IAAI,CAAC,CAChBE,sBAAsB,CAAC,KAAK,CAAC,CAC7BM,gBAAgB,CAAC,EAAE,CAAC,CACpBE,yBAAyB,CAAC,KAAK,CAAC,CAChCE,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,KAAM,CAAAiI,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,OAAQhJ,QAAQ,EACd,IAAK,OAAO,CAAE,MAAO,QAAQ,CAC7B,IAAK,SAAS,CAAE,MAAO,oBAAoB,CAC3C,IAAK,SAAS,CAAE,MAAO,oBAAoB,CAC3C,IAAK,SAAS,CAAE,MAAO,oBAAoB,CAC3C,IAAK,cAAc,CAAE,MAAO,yBAAyB,CACrD,IAAK,cAAc,CAAE,MAAO,yBAAyB,CACrD,IAAK,eAAe,CAAE,MAAO,0BAA0B,CACvD,IAAK,WAAW,CAAE,MAAO,sBAAsB,CAC/C,IAAK,cAAc,CAAE,MAAO,sBAAsB,CAClD,IAAK,SAAS,CAAE,MAAO,oBAAoB,CAC3C,IAAK,WAAW,CAChB,QAAS,MAAO,sBAAsB,CACxC,CACF,CAAC,CAED,KAAM,CAAAiJ,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,OAAQjJ,QAAQ,EACd,IAAK,OAAO,CAAE,MAAO,OAAO,CAC5B,IAAK,SAAS,CAAE,MAAO,cAAc,CACrC,IAAK,SAAS,CAAE,MAAO,cAAc,CACrC,IAAK,SAAS,CAAE,MAAO,cAAc,CACrC,IAAK,cAAc,CAAE,MAAO,cAAc,CAC1C,IAAK,cAAc,CAAE,MAAO,cAAc,CAC1C,IAAK,eAAe,CAAE,MAAO,cAAc,CAC3C,IAAK,WAAW,CAAE,MAAO,cAAc,CACvC,IAAK,cAAc,CAAE,MAAO,cAAc,CAC1C,IAAK,SAAS,CAAE,MAAO,SAAS,CAChC,IAAK,WAAW,CAAE,MAAO,cAAc,CACvC,QAAS,MAAO,cAAc,CAChC,CACF,CAAC,CAED,KAAM,CAAAkJ,UAAU,CAAGA,CAAA,GAAM,CACvBrJ,SAAS,CAAC,CAACD,MAAM,CAAC,CACpB,CAAC,CAED,KAAM,CAAAuJ,QAAQ,CAAIC,IAAI,EAAK,CACzB,MAAO,CAAAtI,QAAQ,CAACuI,QAAQ,GAAKD,IAAI,CACnC,CAAC,CAED,KAAM,CAAAE,YAAY,CAAIF,IAAI,EAAK,CAC7B,KAAM,CAAAG,SAAS,CAAG,gFAAgF,CAClG,KAAM,CAAAC,WAAW,CAAG,gBAAgB,CACpC,KAAM,CAAAC,aAAa,CAAG,oCAAoC,CAE1D,MAAO,GAAGF,SAAS,IAAIJ,QAAQ,CAACC,IAAI,CAAC,CAAGI,WAAW,CAAGC,aAAa,EAAE,CACvE,CAAC,CAED,mBACEnK,KAAA,QAAKoK,SAAS,CAAC,+DAA+D,CAAAC,QAAA,eAE5EvK,IAAA,QAAKsK,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCvK,IAAA,QAAKsK,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCrK,KAAA,QAAKoK,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAEhDvK,IAAA,QAAKsK,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BvK,IAAA,CAACR,IAAI,EAACgL,EAAE,CAAC,GAAG,CAACF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cACxCvK,IAAA,QACEyK,GAAG,CAAC,mGAAmG,CACvGC,GAAG,CAAC,aAAa,CACjBJ,SAAS,CAAC,oBAAoB,CAC/B,CAAC,CACE,CAAC,CACJ,CAAC,cAGNpK,KAAA,QAAKoK,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAC1EvK,IAAA,CAACR,IAAI,EAACgL,EAAE,CAAC,cAAc,CAACF,SAAS,CAAEJ,YAAY,CAAC,cAAc,CAAE,CAAAK,QAAA,CAAC,aAEjE,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EAACgL,EAAE,CAAC,cAAc,CAACF,SAAS,CAAEJ,YAAY,CAAC,cAAc,CAAE,CAAAK,QAAA,CAAC,SAEjE,CAAM,CAAC,cAGPrK,KAAA,QAAKoK,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CrK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAMxJ,yBAAyB,CAAC,CAACD,sBAAsB,CAAE,CAClEoJ,SAAS,CAAE,GAAGJ,YAAY,CAAC,UAAU,CAAC,8BAA+B,CAAAK,QAAA,eAErEvK,IAAA,SAAAuK,QAAA,CAAM,cAAY,CAAM,CAAC,cACzBvK,IAAA,QACEsK,SAAS,CAAE,gCAAgCpJ,sBAAsB,CAAG,YAAY,CAAG,EAAE,EAAG,CACxF0J,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,cAAc,CACrBC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAEnBvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,EACA,CAAC,CAERhK,sBAAsB,eACrBhB,KAAA,QAAKoK,SAAS,CAAC,mGAAmG,CAAAC,QAAA,eAChHvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,UAAU,CACbF,SAAS,CAAC,gGAAgG,CAC1GK,OAAO,CAAEA,CAAA,GAAMxJ,yBAAyB,CAAC,KAAK,CAAE,CAAAoJ,QAAA,CACjD,YAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,UAAU,CACbF,SAAS,CAAC,gGAAgG,CAC1GK,OAAO,CAAEA,CAAA,GAAMxJ,yBAAyB,CAAC,KAAK,CAAE,CAAAoJ,QAAA,CACjD,SAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,cAAc,CACjBF,SAAS,CAAC,gGAAgG,CAC1GK,OAAO,CAAEA,CAAA,GAAMxJ,yBAAyB,CAAC,KAAK,CAAE,CAAAoJ,QAAA,CACjD,aAED,CAAM,CAAC,EACJ,CACN,EACE,CAAC,cAGNrK,KAAA,QAAKoK,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCrK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAMtJ,oBAAoB,CAAC,CAACD,iBAAiB,CAAE,CACxDkJ,SAAS,CAAE,GAAGJ,YAAY,CAAC,QAAQ,CAAC,8BAA+B,CAAAK,QAAA,eAEnEvK,IAAA,SAAAuK,QAAA,CAAM,OAAK,CAAM,CAAC,cAClBvK,IAAA,QACEsK,SAAS,CAAE,gCAAgClJ,iBAAiB,CAAG,YAAY,CAAG,EAAE,EAAG,CACnFwJ,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,cAAc,CACrBC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAEnBvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,EACA,CAAC,CAER9J,iBAAiB,eAChBlB,KAAA,QAAKoK,SAAS,CAAC,mGAAmG,CAAAC,QAAA,eAChHvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,QAAQ,CACXF,SAAS,CAAC,gGAAgG,CAC1GK,OAAO,CAAEA,CAAA,GAAMtJ,oBAAoB,CAAC,KAAK,CAAE,CAAAkJ,QAAA,CAC5C,UAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,YAAY,CACfF,SAAS,CAAC,gGAAgG,CAC1GK,OAAO,CAAEA,CAAA,GAAMtJ,oBAAoB,CAAC,KAAK,CAAE,CAAAkJ,QAAA,CAC5C,WAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,UAAU,CACbF,SAAS,CAAC,gGAAgG,CAC1GK,OAAO,CAAEA,CAAA,GAAMtJ,oBAAoB,CAAC,KAAK,CAAE,CAAAkJ,QAAA,CAC5C,YAED,CAAM,CAAC,EACJ,CACN,EACE,CAAC,EACH,CAAC,cAGNvK,IAAA,QAAKsK,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD7J,IAAI,cACHV,IAAA,CAAAI,SAAA,EAAAmK,QAAA,cAIErK,KAAA,QAAKoK,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EAEzC7J,IAAI,eACHV,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAEZ,gBAAgB,CAAC,CAAE,CACvBU,SAAS,CAAEJ,YAAY,CAACN,gBAAgB,CAAC,CAAC,CAAE,CAAAW,QAAA,CAG3C3J,QAAQ,GAAK,cAAc,CAAG,cAAc,CAC5CA,QAAQ,GAAK,WAAW,CAAG,cAAc,CACzCA,QAAQ,GAAK,SAAS,CAAG,cAAc,CACvCA,QAAQ,GAAK,SAAS,CAAG,cAAc,CACvCA,QAAQ,GAAK,SAAS,CAAG,cAAc,CACvCA,QAAQ,GAAK,cAAc,CAAG,cAAc,CAC5CA,QAAQ,GAAK,cAAc,CAAG,cAAc,CAC5CA,QAAQ,GAAK,eAAe,CAAG,cAAc,CAC7CA,QAAQ,GAAK,WAAW,CAAG,cAAc,CACzCA,QAAQ,GAAK,OAAO,CAAG,cAAc,CACrC,cAAc,CACX,CACP,cAIDV,KAAA,QAAKoK,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CrK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAMlJ,yBAAyB,CAAC,CAACD,sBAAsB,CAAE,CAClE8I,SAAS,CAAC,mHAAmH,CAC7HrF,KAAK,CAAC,eAAe,CAAAsF,QAAA,eAErBvK,IAAA,QAAKsK,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACE,OAAO,CAAC,WAAW,CAACD,MAAM,CAAC,cAAc,CAAAN,QAAA,cAC5EvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,oDAAoD,CAAE,CAAC,CACzH,CAAC,CACL5J,aAAa,CAAC+H,MAAM,CAACjD,CAAC,EAAI,CAACA,CAAC,CAACX,IAAI,CAAC,CAACtB,MAAM,CAAG,CAAC,eAC5CnE,IAAA,SAAMsK,SAAS,CAAC,2IAA2I,CAAAC,QAAA,CACxJjJ,aAAa,CAAC+H,MAAM,CAACjD,CAAC,EAAI,CAACA,CAAC,CAACX,IAAI,CAAC,CAACtB,MAAM,CAAG,CAAC,CAAG,IAAI,CAAG7C,aAAa,CAAC+H,MAAM,CAACjD,CAAC,EAAI,CAACA,CAAC,CAACX,IAAI,CAAC,CAACtB,MAAM,CAC7F,CACP,EACK,CAAC,CAGR3C,sBAAsB,eACrBtB,KAAA,QAAKoK,SAAS,CAAC,sGAAsG,CAAAC,QAAA,eACnHrK,KAAA,QAAKoK,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACnFvK,IAAA,OAAIsK,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,CACrEjJ,aAAa,CAAC6C,MAAM,CAAG,CAAC,eACvBnE,IAAA,WACE2K,OAAO,CAAEpB,qBAAsB,CAC/Be,SAAS,CAAC,sFAAsF,CAAAC,QAAA,CACjG,WAED,CAAQ,CACT,EACE,CAAC,cACNvK,IAAA,QAAKsK,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtCjJ,aAAa,CAAC6C,MAAM,CAAG,CAAC,CACvB7C,aAAa,CAAC6J,GAAG,CAAE7B,YAAY,eAC7BtJ,IAAA,QAEE2K,OAAO,CAAEA,CAAA,GAAMlB,uBAAuB,CAACH,YAAY,CAAE,CACrDgB,SAAS,CAAE,wGACT,CAAChB,YAAY,CAAC7D,IAAI,CAChB6D,YAAY,CAACnE,MAAM,CAAG,cAAc,CACpCmE,YAAY,CAAC5D,IAAI,GAAK,SAAS,CAAG,aAAa,CAC/C4D,YAAY,CAAC5D,IAAI,GAAK,UAAU,CAAG,cAAc,CACjD,YAAY,CACV,EAAE,EACL,CAAA6E,QAAA,cAEHrK,KAAA,QAAKoK,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCvK,IAAA,QAAKsK,SAAS,CAAE,4EACdhB,YAAY,CAACnE,MAAM,CAAG,eAAe,CACrCmE,YAAY,CAAC5D,IAAI,GAAK,SAAS,CAAG,cAAc,CAChD4D,YAAY,CAAC5D,IAAI,GAAK,UAAU,CAAG,eAAe,CAClD,aAAa,EACZ,CAAA6E,QAAA,CACAjB,YAAY,CAAC5D,IAAI,GAAK,QAAQ,cAC7B1F,IAAA,QAAKsK,SAAS,CAAE,WAAWhB,YAAY,CAACnE,MAAM,CAAG,iBAAiB,CAAG,eAAe,EAAG,CAACyF,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC3IvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,+CAA+C,CAAE,CAAC,CACpH,CAAC,CACJ5B,YAAY,CAAC5D,IAAI,GAAK,SAAS,cACjC1F,IAAA,QAAKsK,SAAS,CAAE,WAAWhB,YAAY,CAACnE,MAAM,CAAG,iBAAiB,CAAG,gBAAgB,EAAG,CAACyF,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5IvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,6EAA6E,CAAE,CAAC,CAClJ,CAAC,CACJ5B,YAAY,CAAC5D,IAAI,GAAK,UAAU,cAClC1F,IAAA,QAAKsK,SAAS,CAAE,WAAWhB,YAAY,CAACnE,MAAM,CAAG,iBAAiB,CAAG,iBAAiB,EAAG,CAACyF,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC7IvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,6CAA6C,CAAE,CAAC,CAClH,CAAC,cAENlL,IAAA,QAAKsK,SAAS,CAAE,wBAAwBhB,YAAY,CAACnE,MAAM,CAAG,YAAY,CAAGmE,YAAY,CAAC7D,IAAI,CAAG,aAAa,CAAG,aAAa,EAAG,CAAM,CACxI,CACE,CAAC,cACNvF,KAAA,QAAKoK,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvK,IAAA,MAAGsK,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEjB,YAAY,CAACrE,KAAK,CAAI,CAAC,cACzEjF,IAAA,MAAGsK,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAEjB,YAAY,CAACpE,OAAO,CAAI,CAAC,CACnEoE,YAAY,CAAC1D,OAAO,eACnB1F,KAAA,MAAGoK,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,OAAK,CAACjB,YAAY,CAAC1D,OAAO,EAAI,CACzE,EACE,CAAC,cACN5F,IAAA,WACE2K,OAAO,CAAGS,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBnC,kBAAkB,CAACI,YAAY,CAACnG,EAAE,CAAC,CACrC,CAAE,CACFmH,SAAS,CAAC,gHAAgH,CAC1HrF,KAAK,CAAC,oBAAoB,CAAAsF,QAAA,cAE1BvK,IAAA,QAAKsK,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,EACN,CAAC,EArDD5B,YAAY,CAACnG,EAsDf,CACN,CAAC,cAEFjD,KAAA,QAAKoK,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCvK,IAAA,QAAKsK,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FvK,IAAA,SAAMsK,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACjC,CAAC,cACNvK,IAAA,MAAGsK,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CAAC,EACtD,CACN,CACE,CAAC,EACH,CACN,EACE,CAAC,cAGNrK,KAAA,QAAKoK,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCrK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAM1J,sBAAsB,CAAC,CAACD,mBAAmB,CAAE,CAC5DsJ,SAAS,CAAC,0FAA0F,CAAAC,QAAA,eAGpGvK,IAAA,QAAKsK,SAAS,CAAC,mFAAmF,CAAAC,QAAA,CAC/FzJ,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEwK,UAAU,cAClBtL,IAAA,QAAKyK,GAAG,CAAE3J,OAAO,CAACwK,UAAW,CAACZ,GAAG,CAAC,SAAS,CAACJ,SAAS,CAAC,4BAA4B,CAAE,CAAC,CACnF1J,QAAQ,GAAK,OAAO,cACtBZ,IAAA,QACEyK,GAAG,CAAC,qFAAqF,CACzFC,GAAG,CAAC,OAAO,CACXJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,2FAA2F,CAC/FC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,WAAW,cAC1BZ,IAAA,QACEyK,GAAG,CAAC,yFAAyF,CAC7FC,GAAG,CAAC,WAAW,CACfJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,uFAAuF,CAC3FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,4FAA4F,CAChGC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,eAAe,cAC9BZ,IAAA,QACEyK,GAAG,CAAC,6FAA6F,CACjGC,GAAG,CAAC,eAAe,CACnBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,mFAAmF,CACvFC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,WAAW,cAC1BZ,IAAA,QACEyK,GAAG,CAAC,+FAA+F,CACnGC,GAAG,CAAC,WAAW,CACfJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,2FAA2F,CAC/FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,uFAAuF,CAC3FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,cAEFtK,IAAA,SAAMsK,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,cAAE,CAAM,CACnC,CACE,CAAC,cAGNvK,IAAA,QAAKsK,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,yBAAyB,CAAE,CAAC,CAC9F,CAAC,EACA,CAAC,CAGVlK,mBAAmB,eAClBd,KAAA,QAAKoK,SAAS,CAAC,6FAA6F,CAAAC,QAAA,eAE1GvK,IAAA,QAAKsK,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjDrK,KAAA,QAAKoK,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CvK,IAAA,QAAKsK,SAAS,CAAC,qFAAqF,CAAAC,QAAA,CACjGzJ,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEwK,UAAU,cAClBtL,IAAA,QAAKyK,GAAG,CAAE3J,OAAO,CAACwK,UAAW,CAACZ,GAAG,CAAC,SAAS,CAACJ,SAAS,CAAC,4BAA4B,CAAE,CAAC,CACnF1J,QAAQ,GAAK,OAAO,cACtBZ,IAAA,QACEyK,GAAG,CAAC,qFAAqF,CACzFC,GAAG,CAAC,OAAO,CACXJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,2FAA2F,CAC/FC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,WAAW,cAC1BZ,IAAA,QACEyK,GAAG,CAAC,yFAAyF,CAC7FC,GAAG,CAAC,WAAW,CACfJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,uFAAuF,CAC3FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,4FAA4F,CAChGC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,eAAe,cAC9BZ,IAAA,QACEyK,GAAG,CAAC,6FAA6F,CACjGC,GAAG,CAAC,eAAe,CACnBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,mFAAmF,CACvFC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,WAAW,cAC1BZ,IAAA,QACEyK,GAAG,CAAC,+FAA+F,CACnGC,GAAG,CAAC,WAAW,CACfJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,2FAA2F,CAC/FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,uFAAuF,CAC3FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,cAEFtK,IAAA,SAAMsK,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,cAAE,CAAM,CACnC,CACE,CAAC,cACNrK,KAAA,QAAKoK,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvK,IAAA,QAAKsK,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAC1E,CAAAzJ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEyK,SAAS,IAAI7K,IAAI,SAAJA,IAAI,kBAAAJ,WAAA,CAAJI,IAAI,CAAE2C,KAAK,UAAA/C,WAAA,iBAAXA,WAAA,CAAakL,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAI,MAAM,CACxD,CAAC,cACNxL,IAAA,QAAKsK,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAE7J,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2C,KAAK,CAAM,CAAC,EAChE,CAAC,EACH,CAAC,CACH,CAAC,cAGNnD,KAAA,QAAKoK,SAAS,CAAC,MAAM,CAAAC,QAAA,eAEnBrK,KAAA,CAACV,IAAI,EACHgL,EAAE,CAAC,WAAW,CACdG,OAAO,CAAEA,CAAA,GAAM1J,sBAAsB,CAAC,KAAK,CAAE,CAC7CqJ,SAAS,CAAC,2HAA2H,CAAAC,QAAA,eAErIrK,KAAA,QAAKoK,SAAS,CAAC,4BAA4B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,eAC/FvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,qeAAqe,CAAE,CAAC,cAC7iBlL,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,kCAAkC,CAAE,CAAC,EACvG,CAAC,WAER,EAAM,CAAC,cAEPlL,IAAA,QAAKsK,SAAS,CAAC,+BAA+B,CAAM,CAAC,cAErDpK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAM,CACb1J,sBAAsB,CAAC,KAAK,CAAC,CAC7ByI,aAAa,CAAC,CAAC,CACjB,CAAE,CACFY,SAAS,CAAC,wHAAwH,CAAAC,QAAA,eAElIvK,IAAA,QAAKsK,SAAS,CAAC,2BAA2B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC9FvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,2FAA2F,CAAE,CAAC,CAChK,CAAC,WAER,EAAQ,CAAC,EACN,CAAC,EACH,CACN,EACI,CAAC,EACH,CAAC,CACN,CAAC,cAEHhL,KAAA,CAAAE,SAAA,EAAAmK,QAAA,eACEvK,IAAA,CAACR,IAAI,EAACgL,EAAE,CAAC,SAAS,CAACF,SAAS,CAAC,mHAAmH,CAAAC,QAAA,CAAC,SAEjJ,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EAACgL,EAAE,CAAC,SAAS,CAACF,SAAS,CAAC,8IAA8I,CAAAC,QAAA,CAAC,SAE5K,CAAM,CAAC,EACP,CACH,CACE,CAAC,cAGNvK,IAAA,QAAKsK,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACtCrK,KAAA,WACEyK,OAAO,CAAEb,UAAW,CACpBQ,SAAS,CAAC,4IAA4I,CACtJ,gBAAc,OAAO,CAAAC,QAAA,eAErBvK,IAAA,SAAMsK,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,CAC9C,CAAC/J,MAAM,cACNR,IAAA,QACEsK,SAAS,CAAC,eAAe,CACzBmB,KAAK,CAAC,4BAA4B,CAClCb,IAAI,CAAC,MAAM,CACXE,OAAO,CAAC,WAAW,CACnBD,MAAM,CAAC,cAAc,CACrB,cAAY,MAAM,CAAAN,QAAA,cAElBvK,IAAA,SACE+K,aAAa,CAAC,OAAO,CACrBC,cAAc,CAAC,OAAO,CACtBC,WAAW,CAAC,GAAG,CACfC,CAAC,CAAC,yBAAyB,CAC5B,CAAC,CACC,CAAC,cAENlL,IAAA,QACEsK,SAAS,CAAC,eAAe,CACzBmB,KAAK,CAAC,4BAA4B,CAClCb,IAAI,CAAC,MAAM,CACXE,OAAO,CAAC,WAAW,CACnBD,MAAM,CAAC,cAAc,CACrB,cAAY,MAAM,CAAAN,QAAA,cAElBvK,IAAA,SACE+K,aAAa,CAAC,OAAO,CACrBC,cAAc,CAAC,OAAO,CACtBC,WAAW,CAAC,GAAG,CACfC,CAAC,CAAC,sBAAsB,CACzB,CAAC,CACC,CACN,EACK,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CAGL1K,MAAM,eACLR,IAAA,QAAKsK,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBvK,IAAA,QAAKsK,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/EvK,IAAA,QAAKsK,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCrK,KAAA,QAAKoK,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,cAAc,CACjBF,SAAS,CAAC,qJAAqJ,CAC/JK,OAAO,CAAEA,CAAA,GAAMlK,SAAS,CAAC,KAAK,CAAE,CAAA8J,QAAA,CACjC,aAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,cAAc,CACjBF,SAAS,CAAC,qJAAqJ,CAC/JK,OAAO,CAAEA,CAAA,GAAMlK,SAAS,CAAC,KAAK,CAAE,CAAA8J,QAAA,CACjC,SAED,CAAM,CAAC,cAEPrK,KAAA,QAAKoK,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCrK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAMxJ,yBAAyB,CAAC,CAACD,sBAAsB,CAAE,CAClEoJ,SAAS,CAAC,wLAAwL,CAAAC,QAAA,eAElMvK,IAAA,SAAAuK,QAAA,CAAM,cAAY,CAAM,CAAC,cACzBvK,IAAA,QACEsK,SAAS,CAAE,gCAAgCpJ,sBAAsB,CAAG,YAAY,CAAG,EAAE,EAAG,CACxF0J,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,cAAc,CACrBC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAEnBvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,EACA,CAAC,CAERhK,sBAAsB,eACrBhB,KAAA,QAAKoK,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,UAAU,CACbF,SAAS,CAAC,0GAA0G,CACpHK,OAAO,CAAEA,CAAA,GAAM,CACbxJ,yBAAyB,CAAC,KAAK,CAAC,CAChCV,SAAS,CAAC,KAAK,CAAC,CAClB,CAAE,CAAA8J,QAAA,CACH,YAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,UAAU,CACbF,SAAS,CAAC,0GAA0G,CACpHK,OAAO,CAAEA,CAAA,GAAM,CACbxJ,yBAAyB,CAAC,KAAK,CAAC,CAChCV,SAAS,CAAC,KAAK,CAAC,CAClB,CAAE,CAAA8J,QAAA,CACH,SAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,cAAc,CACjBF,SAAS,CAAC,0GAA0G,CACpHK,OAAO,CAAEA,CAAA,GAAM,CACbxJ,yBAAyB,CAAC,KAAK,CAAC,CAChCV,SAAS,CAAC,KAAK,CAAC,CAClB,CAAE,CAAA8J,QAAA,CACH,aAED,CAAM,CAAC,EACJ,CACN,EACE,CAAC,cAGNrK,KAAA,QAAKoK,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAMtJ,oBAAoB,CAAC,CAACD,iBAAiB,CAAE,CACxDkJ,SAAS,CAAC,wLAAwL,CAAAC,QAAA,eAElMvK,IAAA,SAAAuK,QAAA,CAAM,OAAK,CAAM,CAAC,cAClBvK,IAAA,QACEsK,SAAS,CAAE,gCAAgClJ,iBAAiB,CAAG,YAAY,CAAG,EAAE,EAAG,CACnFwJ,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,cAAc,CACrBC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAEnBvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,EACA,CAAC,CAER9J,iBAAiB,eAChBlB,KAAA,QAAKoK,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,QAAQ,CACXF,SAAS,CAAC,0GAA0G,CACpHK,OAAO,CAAEA,CAAA,GAAM,CACbtJ,oBAAoB,CAAC,KAAK,CAAC,CAC3BZ,SAAS,CAAC,KAAK,CAAC,CAClB,CAAE,CAAA8J,QAAA,CACH,UAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,YAAY,CACfF,SAAS,CAAC,0GAA0G,CACpHK,OAAO,CAAEA,CAAA,GAAM,CACbtJ,oBAAoB,CAAC,KAAK,CAAC,CAC3BZ,SAAS,CAAC,KAAK,CAAC,CAClB,CAAE,CAAA8J,QAAA,CACH,WAED,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAC,UAAU,CACbF,SAAS,CAAC,0GAA0G,CACpHK,OAAO,CAAEA,CAAA,GAAM,CACbtJ,oBAAoB,CAAC,KAAK,CAAC,CAC3BZ,SAAS,CAAC,KAAK,CAAC,CAClB,CAAE,CAAA8J,QAAA,CACH,YAED,CAAM,CAAC,EACJ,CACN,EACE,CAAC,CACL7J,IAAI,eACHV,IAAA,CAACR,IAAI,EACHgL,EAAE,CAAEZ,gBAAgB,CAAC,CAAE,CACvBU,SAAS,CAAC,qJAAqJ,CAC/JK,OAAO,CAAEA,CAAA,GAAMlK,SAAS,CAAC,KAAK,CAAE,CAAA8J,QAAA,CAEV3J,QAAQ,GAAK,cAAc,CAAG,cAAc,CAChEA,QAAQ,GAAK,WAAW,CAAG,cAAc,CACzCA,QAAQ,GAAK,SAAS,CAAG,cAAc,CACvCA,QAAQ,GAAK,SAAS,CAAG,cAAc,CACvCA,QAAQ,GAAK,SAAS,CAAG,cAAc,CACvCA,QAAQ,GAAK,cAAc,CAAG,cAAc,CAC5CA,QAAQ,GAAK,cAAc,CAAG,cAAc,CAC5CA,QAAQ,GAAK,eAAe,CAAG,cAAc,CAC7CA,QAAQ,GAAK,WAAW,CAAG,cAAc,CACzCA,QAAQ,GAAK,OAAO,CAAG,iBAAiB,CACxC,cAAc,CACZ,CACP,cACDZ,IAAA,QAAKsK,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjDvK,IAAA,QAAKsK,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB7J,IAAI,cACHR,KAAA,CAAAE,SAAA,EAAAmK,QAAA,eAEErK,KAAA,QAAKoK,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChEvK,IAAA,QAAKsK,SAAS,CAAC,0FAA0F,CAAAC,QAAA,CACtGzJ,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEwK,UAAU,cAClBtL,IAAA,QAAKyK,GAAG,CAAE3J,OAAO,CAACwK,UAAW,CAACZ,GAAG,CAAC,SAAS,CAACJ,SAAS,CAAC,4BAA4B,CAAE,CAAC,CACnF1J,QAAQ,GAAK,OAAO,cACtBZ,IAAA,QACEyK,GAAG,CAAC,qFAAqF,CACzFC,GAAG,CAAC,OAAO,CACXJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,2FAA2F,CAC/FC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,WAAW,cAC1BZ,IAAA,QACEyK,GAAG,CAAC,yFAAyF,CAC7FC,GAAG,CAAC,WAAW,CACfJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,uFAAuF,CAC3FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,4FAA4F,CAChGC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,eAAe,cAC9BZ,IAAA,QACEyK,GAAG,CAAC,6FAA6F,CACjGC,GAAG,CAAC,eAAe,CACnBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,cAAc,cAC7BZ,IAAA,QACEyK,GAAG,CAAC,mFAAmF,CACvFC,GAAG,CAAC,cAAc,CAClBJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,WAAW,cAC1BZ,IAAA,QACEyK,GAAG,CAAC,+FAA+F,CACnGC,GAAG,CAAC,WAAW,CACfJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,2FAA2F,CAC/FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,CACA1J,QAAQ,GAAK,SAAS,cACxBZ,IAAA,QACEyK,GAAG,CAAC,uFAAuF,CAC3FC,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,SAAS,CACpB,CAAC,cAEFtK,IAAA,SAAMsK,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,cAAE,CAAM,CACnC,CACE,CAAC,cACNrK,KAAA,QAAKoK,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvK,IAAA,QAAKsK,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAC1E,CAAAzJ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEyK,SAAS,IAAI7K,IAAI,SAAJA,IAAI,kBAAAH,YAAA,CAAJG,IAAI,CAAE2C,KAAK,UAAA9C,YAAA,iBAAXA,YAAA,CAAaiL,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAI,MAAM,CACxD,CAAC,cACNxL,IAAA,QAAKsK,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAE7J,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2C,KAAK,CAAM,CAAC,EAChE,CAAC,EACH,CAAC,cAGNnD,KAAA,CAACV,IAAI,EACHgL,EAAE,CAAC,WAAW,CACdG,OAAO,CAAEA,CAAA,GAAMlK,SAAS,CAAC,KAAK,CAAE,CAChC6J,SAAS,CAAC,wKAAwK,CAAAC,QAAA,eAElLrK,KAAA,QAAKoK,SAAS,CAAC,4BAA4B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,eAC/FvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,qeAAqe,CAAE,CAAC,cAC/gBlL,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,kCAAkC,CAAE,CAAC,EACrI,CAAC,WAER,EAAM,CAAC,cAEPlL,IAAA,QAAKsK,SAAS,CAAC,+BAA+B,CAAM,CAAC,cAErDpK,KAAA,WACEyK,OAAO,CAAEA,CAAA,GAAM,CAAEjB,aAAa,CAAC,CAAC,CAAEjJ,SAAS,CAAC,KAAK,CAAC,CAAE,CAAE,CACtD6J,SAAS,CAAC,oKAAoK,CAAAC,QAAA,eAE9KvK,IAAA,QAAKsK,SAAS,CAAC,2BAA2B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC9FvK,IAAA,SAAM+K,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,2FAA2F,CAAE,CAAC,CAChK,CAAC,WAER,EAAQ,CAAC,EACT,CAAC,cAEHhL,KAAA,CAAAE,SAAA,EAAAmK,QAAA,eACEvK,IAAA,CAACR,IAAI,EAACgL,EAAE,CAAC,SAAS,CAACF,SAAS,CAAC,qJAAqJ,CAACK,OAAO,CAAEA,CAAA,GAAMlK,SAAS,CAAC,KAAK,CAAE,CAAA8J,QAAA,CAAC,SAEpN,CAAM,CAAC,cACPvK,IAAA,CAACR,IAAI,EAACgL,EAAE,CAAC,SAAS,CAACF,SAAS,CAAC,kKAAkK,CAACK,OAAO,CAAEA,CAAA,GAAMlK,SAAS,CAAC,KAAK,CAAE,CAAA8J,QAAA,CAAC,SAEjO,CAAM,CAAC,EACP,CACH,CACE,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlK,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}