{"ast":null,"code":"import React,{useState,useRef}from'react';import healthRecordService from'../services/healthRecordService';import{HealthIcon,UIIcon}from'./MinimalIcons';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddHealthRecordForm=_ref=>{let{petId,petName,onClose,onSuccess}=_ref;const[formData,setFormData]=useState({record_type:'checkup',title:'',description:'',vet_name:'',clinic_name:'',date_performed:new Date().toISOString().split('T')[0],next_due_date:'',cost:'',notes:''});const[documents,setDocuments]=useState([]);const[uploading,setUploading]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const fileInputRef=useRef(null);const recordTypes=[{value:'checkup',label:'Regular Checkup',icon:/*#__PURE__*/_jsx(HealthIcon,{type:\"check\",className:\"w-5 h-5\",color:\"currentColor\"})},{value:'vaccination',label:'Vaccination',icon:/*#__PURE__*/_jsx(HealthIcon,{type:\"vaccination\",className:\"w-5 h-5\",color:\"currentColor\"})},{value:'surgery',label:'Surgery',icon:/*#__PURE__*/_jsx(UIIcon,{type:\"surgery\",className:\"w-5 h-5\",color:\"currentColor\"})},{value:'emergency',label:'Emergency Visit',icon:/*#__PURE__*/_jsx(HealthIcon,{type:\"emergency\",className:\"w-5 h-5\",color:\"currentColor\"})},{value:'dental',label:'Dental Care',icon:/*#__PURE__*/_jsx(UIIcon,{type:\"dental\",className:\"w-5 h-5\",color:\"currentColor\"})},{value:'grooming',label:'Grooming',icon:/*#__PURE__*/_jsx(UIIcon,{type:\"scissors\",className:\"w-5 h-5\",color:\"currentColor\"})},{value:'lab_work',label:'Lab Work',icon:/*#__PURE__*/_jsx(UIIcon,{type:\"lab\",className:\"w-5 h-5\",color:\"currentColor\"})},{value:'other',label:'Other',icon:/*#__PURE__*/_jsx(HealthIcon,{type:\"records\",className:\"w-5 h-5\",color:\"currentColor\"})}];// Dynamic field configurations based on record type\nconst getFieldConfig=recordType=>{const configs={grooming:{professionalLabel:'Groomer Name',professionalPlaceholder:'e.g., Sarah Smith',businessLabel:'Salon/Shop Name',businessPlaceholder:'e.g., Pampered Paws Grooming',titlePlaceholder:'e.g., Full Grooming Service, Nail Trim',descriptionPlaceholder:'Describe the grooming services performed...',nextDueDateLabel:'Next Grooming Due',showNextDueDate:true},checkup:{professionalLabel:'Veterinarian Name',professionalPlaceholder:'e.g., Dr. Smith',businessLabel:'Clinic/Hospital Name',businessPlaceholder:'e.g., Pet Care Clinic',titlePlaceholder:'e.g., Annual Checkup, Wellness Exam',descriptionPlaceholder:'Describe the examination findings and recommendations...',nextDueDateLabel:'Next Checkup Due',showNextDueDate:true},vaccination:{professionalLabel:'Veterinarian Name',professionalPlaceholder:'e.g., Dr. Smith',businessLabel:'Clinic/Hospital Name',businessPlaceholder:'e.g., Pet Care Clinic',titlePlaceholder:'e.g., Rabies Vaccination, DHPP Booster',descriptionPlaceholder:'Specify vaccine type, batch number, and any reactions...',nextDueDateLabel:'Next Vaccination Due',showNextDueDate:true},surgery:{professionalLabel:'Surgeon/Veterinarian Name',professionalPlaceholder:'e.g., Dr. Johnson',businessLabel:'Hospital/Clinic Name',businessPlaceholder:'e.g., Animal Surgery Center',titlePlaceholder:'e.g., Spay Surgery, Tumor Removal',descriptionPlaceholder:'Describe the surgical procedure and post-op care...',nextDueDateLabel:'Follow-up Appointment',showNextDueDate:true},emergency:{professionalLabel:'Attending Veterinarian',professionalPlaceholder:'e.g., Dr. Emergency',businessLabel:'Emergency Clinic Name',businessPlaceholder:'e.g., 24/7 Animal Emergency',titlePlaceholder:'e.g., Emergency Visit - Injury, Poisoning',descriptionPlaceholder:'Describe the emergency situation and treatment...',nextDueDateLabel:'Follow-up Required',showNextDueDate:true},dental:{professionalLabel:'Veterinarian Name',professionalPlaceholder:'e.g., Dr. Smith',businessLabel:'Clinic/Hospital Name',businessPlaceholder:'e.g., Pet Dental Care',titlePlaceholder:'e.g., Dental Cleaning, Tooth Extraction',descriptionPlaceholder:'Describe the dental procedure and findings...',nextDueDateLabel:'Next Dental Care Due',showNextDueDate:true},lab_work:{professionalLabel:'Veterinarian/Technician Name',professionalPlaceholder:'e.g., Dr. Smith',businessLabel:'Lab/Clinic Name',businessPlaceholder:'e.g., Pet Diagnostics Lab',titlePlaceholder:'e.g., Blood Work, Urinalysis, X-Ray',descriptionPlaceholder:'Describe the tests performed and results...',nextDueDateLabel:'Next Lab Work Due',showNextDueDate:false},other:{professionalLabel:'Professional Name',professionalPlaceholder:'e.g., Professional Name',businessLabel:'Business/Facility Name',businessPlaceholder:'e.g., Business Name',titlePlaceholder:'e.g., Treatment or Service Name',descriptionPlaceholder:'Describe the service or treatment...',nextDueDateLabel:'Next Appointment/Service',showNextDueDate:false}};return configs[recordType]||configs.other;};const currentConfig=getFieldConfig(formData.record_type);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));setError('');};const handleFileUpload=async e=>{const files=Array.from(e.target.files);if(files.length===0)return;setUploading(true);setError('');try{const uploadPromises=files.map(async file=>{// Validate file type\nconst allowedTypes=['application/pdf','image/jpeg','image/png','image/jpg'];if(!allowedTypes.includes(file.type)){throw new Error(`File ${file.name} is not a supported type. Please upload PDF, JPEG, or PNG files.`);}// Validate file size (max 10MB)\nif(file.size>10*1024*1024){throw new Error(`File ${file.name} is too large. Maximum size is 10MB.`);}const result=await healthRecordService.uploadVetReport(petId,file,formData.record_type);if(!result.success){throw new Error(`Failed to upload ${file.name}: ${result.error}`);}return{name:file.name,url:result.publicUrl,filePath:result.filePath,type:file.type,size:file.size};});const uploadedFiles=await Promise.all(uploadPromises);setDocuments(prev=>[...prev,...uploadedFiles]);}catch(error){console.error('Error uploading files:',error);setError(error.message);}finally{setUploading(false);if(fileInputRef.current){fileInputRef.current.value='';}}};const removeDocument=async index=>{const document=documents[index];try{// Delete from storage\nconst result=await healthRecordService.deleteVetReport(document.filePath);if(!result.success){console.warn('Failed to delete file from storage:',result.error);}}catch(error){console.warn('Error deleting file:',error);}// Remove from local state\nsetDocuments(prev=>prev.filter((_,i)=>i!==index));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{// Validate required fields\nif(!formData.title.trim()){throw new Error('Title is required');}if(!formData.date_performed){throw new Error('Date performed is required');}// Prepare health record data\nconst recordData={...formData,documents:documents.map(doc=>({name:doc.name,url:doc.url,type:doc.type,size:doc.size}))};const result=await healthRecordService.addHealthRecord(petId,recordData);if(!result.success){throw new Error(result.error||'Failed to add health record');}onSuccess(result.data);onClose();}catch(error){console.error('Error adding health record:',error);setError(error.message);}finally{setLoading(false);}};const getFileIcon=type=>{if(type.startsWith('image/'))return/*#__PURE__*/_jsx(HealthIcon,{type:\"image\",className:\"w-4 h-4\",color:\"currentColor\"});if(type==='application/pdf')return/*#__PURE__*/_jsx(HealthIcon,{type:\"document\",className:\"w-4 h-4\",color:\"currentColor\"});return/*#__PURE__*/_jsx(HealthIcon,{type:\"attachment\",className:\"w-4 h-4\",color:\"currentColor\"});};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 font-montserrat\",children:\"Add Health Record\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[\"Add a new health record for \",petName]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center transition-colors\",disabled:loading,children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-red-400 mr-2 mt-0.5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:error})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Record Type *\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:recordTypes.map(type=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleInputChange({target:{name:'record_type',value:type.value}}),className:`p-3 rounded-lg border-2 transition-all text-center ${formData.record_type===type.value?'border-[#5EB47C] bg-[#E5F4F1] text-[#5EB47C]':'border-gray-200 hover:border-gray-300'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-1 flex justify-center\",children:type.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium\",children:type.label})]},type.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:formData.title,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\",placeholder:currentConfig.titlePlaceholder,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date_performed\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date Performed *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date_performed\",name:\"date_performed\",value:formData.date_performed,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vet_name\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:currentConfig.professionalLabel}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"vet_name\",name:\"vet_name\",value:formData.vet_name,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\",placeholder:currentConfig.professionalPlaceholder})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"clinic_name\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:currentConfig.businessLabel}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"clinic_name\",name:\"clinic_name\",value:formData.clinic_name,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\",placeholder:currentConfig.businessPlaceholder})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`grid grid-cols-1 ${currentConfig.showNextDueDate?'md:grid-cols-2':'md:grid-cols-1'} gap-4`,children:[currentConfig.showNextDueDate&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"next_due_date\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:currentConfig.nextDueDateLabel}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"next_due_date\",name:\"next_due_date\",value:formData.next_due_date,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cost\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Cost ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"cost\",name:\"cost\",value:formData.cost,onChange:handleInputChange,step:\"0.01\",min:\"0\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\",placeholder:\"0.00\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:formData.description,onChange:handleInputChange,rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\",placeholder:currentConfig.descriptionPlaceholder})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Vet Reports & Documents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12 text-gray-400\",stroke:\"currentColor\",fill:\"none\",viewBox:\"0 0 48 48\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\",strokeWidth:2,strokeLinecap:\"round\",strokeLinejoin:\"round\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload\",className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mt-2 block text-sm font-medium text-gray-900\",children:\"Upload vet reports, lab results, or images\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mt-1 block text-sm text-gray-500\",children:\"PDF, JPEG, PNG up to 10MB each\"})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,id:\"file-upload\",name:\"file-upload\",type:\"file\",multiple:true,accept:\".pdf,.jpg,.jpeg,.png\",onChange:handleFileUpload,className:\"sr-only\",disabled:uploading})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:uploading,className:\"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors disabled:opacity-50\",children:uploading?'Uploading...':'Choose Files'})})]})}),documents.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700\",children:\"Uploaded Documents:\"}),documents.map((doc,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg mr-2\",children:getFileIcon(doc.type)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:doc.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:formatFileSize(doc.size)})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeDocument(index),className:\"text-red-600 hover:text-red-800 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"notes\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Additional Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",name:\"notes\",value:formData.notes,onChange:handleInputChange,rows:2,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\",placeholder:\"Any additional notes or observations...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,disabled:loading||uploading,className:\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors font-medium disabled:opacity-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||uploading||!formData.title.trim()||!formData.date_performed,className:\"px-6 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Adding Record...\"]}):'Add Health Record'})]})]})]})});};export default AddHealthRecordForm;","map":{"version":3,"names":["React","useState","useRef","healthRecordService","HealthIcon","UIIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddHealthRecordForm","_ref","petId","petName","onClose","onSuccess","formData","setFormData","record_type","title","description","vet_name","clinic_name","date_performed","Date","toISOString","split","next_due_date","cost","notes","documents","setDocuments","uploading","setUploading","loading","setLoading","error","setError","fileInputRef","recordTypes","value","label","icon","type","className","color","getFieldConfig","recordType","configs","grooming","professionalLabel","professionalPlaceholder","businessLabel","businessPlaceholder","titlePlaceholder","descriptionPlaceholder","nextDueDateLabel","showNextDueDate","checkup","vaccination","surgery","emergency","dental","lab_work","other","currentConfig","handleInputChange","e","name","target","prev","handleFileUpload","files","Array","from","length","uploadPromises","map","file","allowedTypes","includes","Error","size","result","uploadVetReport","success","url","publicUrl","filePath","uploadedFiles","Promise","all","console","message","current","removeDocument","index","document","deleteVetReport","warn","filter","_","i","handleSubmit","preventDefault","trim","recordData","doc","addHealthRecord","data","getFileIcon","startsWith","formatFileSize","bytes","k","sizes","Math","floor","log","parseFloat","pow","toFixed","children","onClick","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","fillRule","clipRule","htmlFor","id","onChange","placeholder","required","step","min","rows","ref","multiple","accept","_fileInputRef$current","click"],"sources":["/workspace/src/components/AddHealthRecordForm.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport healthRecordService from '../services/healthRecordService';\nimport { HealthIcon, UIIcon } from './MinimalIcons';\n\nconst AddHealthRecordForm = ({ petId, petName, onClose, onSuccess }) => {\n  const [formData, setFormData] = useState({\n    record_type: 'checkup',\n    title: '',\n    description: '',\n    vet_name: '',\n    clinic_name: '',\n    date_performed: new Date().toISOString().split('T')[0],\n    next_due_date: '',\n    cost: '',\n    notes: ''\n  });\n  \n  const [documents, setDocuments] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const fileInputRef = useRef(null);\n\n  const recordTypes = [\n    { value: 'checkup', label: 'Regular Checkup', icon: <HealthIcon type=\"check\" className=\"w-5 h-5\" color=\"currentColor\" /> },\n    { value: 'vaccination', label: 'Vaccination', icon: <HealthIcon type=\"vaccination\" className=\"w-5 h-5\" color=\"currentColor\" /> },\n    { value: 'surgery', label: 'Surgery', icon: <UIIcon type=\"surgery\" className=\"w-5 h-5\" color=\"currentColor\" /> },\n    { value: 'emergency', label: 'Emergency Visit', icon: <HealthIcon type=\"emergency\" className=\"w-5 h-5\" color=\"currentColor\" /> },\n    { value: 'dental', label: 'Dental Care', icon: <UIIcon type=\"dental\" className=\"w-5 h-5\" color=\"currentColor\" /> },\n    { value: 'grooming', label: 'Grooming', icon: <UIIcon type=\"scissors\" className=\"w-5 h-5\" color=\"currentColor\" /> },\n    { value: 'lab_work', label: 'Lab Work', icon: <UIIcon type=\"lab\" className=\"w-5 h-5\" color=\"currentColor\" /> },\n    { value: 'other', label: 'Other', icon: <HealthIcon type=\"records\" className=\"w-5 h-5\" color=\"currentColor\" /> }\n  ];\n\n  // Dynamic field configurations based on record type\n  const getFieldConfig = (recordType) => {\n    const configs = {\n      grooming: {\n        professionalLabel: 'Groomer Name',\n        professionalPlaceholder: 'e.g., Sarah Smith',\n        businessLabel: 'Salon/Shop Name',\n        businessPlaceholder: 'e.g., Pampered Paws Grooming',\n        titlePlaceholder: 'e.g., Full Grooming Service, Nail Trim',\n        descriptionPlaceholder: 'Describe the grooming services performed...',\n        nextDueDateLabel: 'Next Grooming Due',\n        showNextDueDate: true\n      },\n      checkup: {\n        professionalLabel: 'Veterinarian Name',\n        professionalPlaceholder: 'e.g., Dr. Smith',\n        businessLabel: 'Clinic/Hospital Name',\n        businessPlaceholder: 'e.g., Pet Care Clinic',\n        titlePlaceholder: 'e.g., Annual Checkup, Wellness Exam',\n        descriptionPlaceholder: 'Describe the examination findings and recommendations...',\n        nextDueDateLabel: 'Next Checkup Due',\n        showNextDueDate: true\n      },\n      vaccination: {\n        professionalLabel: 'Veterinarian Name',\n        professionalPlaceholder: 'e.g., Dr. Smith',\n        businessLabel: 'Clinic/Hospital Name',\n        businessPlaceholder: 'e.g., Pet Care Clinic',\n        titlePlaceholder: 'e.g., Rabies Vaccination, DHPP Booster',\n        descriptionPlaceholder: 'Specify vaccine type, batch number, and any reactions...',\n        nextDueDateLabel: 'Next Vaccination Due',\n        showNextDueDate: true\n      },\n      surgery: {\n        professionalLabel: 'Surgeon/Veterinarian Name',\n        professionalPlaceholder: 'e.g., Dr. Johnson',\n        businessLabel: 'Hospital/Clinic Name',\n        businessPlaceholder: 'e.g., Animal Surgery Center',\n        titlePlaceholder: 'e.g., Spay Surgery, Tumor Removal',\n        descriptionPlaceholder: 'Describe the surgical procedure and post-op care...',\n        nextDueDateLabel: 'Follow-up Appointment',\n        showNextDueDate: true\n      },\n      emergency: {\n        professionalLabel: 'Attending Veterinarian',\n        professionalPlaceholder: 'e.g., Dr. Emergency',\n        businessLabel: 'Emergency Clinic Name',\n        businessPlaceholder: 'e.g., 24/7 Animal Emergency',\n        titlePlaceholder: 'e.g., Emergency Visit - Injury, Poisoning',\n        descriptionPlaceholder: 'Describe the emergency situation and treatment...',\n        nextDueDateLabel: 'Follow-up Required',\n        showNextDueDate: true\n      },\n      dental: {\n        professionalLabel: 'Veterinarian Name',\n        professionalPlaceholder: 'e.g., Dr. Smith',\n        businessLabel: 'Clinic/Hospital Name',\n        businessPlaceholder: 'e.g., Pet Dental Care',\n        titlePlaceholder: 'e.g., Dental Cleaning, Tooth Extraction',\n        descriptionPlaceholder: 'Describe the dental procedure and findings...',\n        nextDueDateLabel: 'Next Dental Care Due',\n        showNextDueDate: true\n      },\n      lab_work: {\n        professionalLabel: 'Veterinarian/Technician Name',\n        professionalPlaceholder: 'e.g., Dr. Smith',\n        businessLabel: 'Lab/Clinic Name',\n        businessPlaceholder: 'e.g., Pet Diagnostics Lab',\n        titlePlaceholder: 'e.g., Blood Work, Urinalysis, X-Ray',\n        descriptionPlaceholder: 'Describe the tests performed and results...',\n        nextDueDateLabel: 'Next Lab Work Due',\n        showNextDueDate: false\n      },\n      other: {\n        professionalLabel: 'Professional Name',\n        professionalPlaceholder: 'e.g., Professional Name',\n        businessLabel: 'Business/Facility Name',\n        businessPlaceholder: 'e.g., Business Name',\n        titlePlaceholder: 'e.g., Treatment or Service Name',\n        descriptionPlaceholder: 'Describe the service or treatment...',\n        nextDueDateLabel: 'Next Appointment/Service',\n        showNextDueDate: false\n      }\n    };\n\n    return configs[recordType] || configs.other;\n  };\n\n  const currentConfig = getFieldConfig(formData.record_type);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    setError('');\n  };\n\n  const handleFileUpload = async (e) => {\n    const files = Array.from(e.target.files);\n    if (files.length === 0) return;\n\n    setUploading(true);\n    setError('');\n\n    try {\n      const uploadPromises = files.map(async (file) => {\n        // Validate file type\n        const allowedTypes = ['application/pdf', 'image/jpeg', 'image/png', 'image/jpg'];\n        if (!allowedTypes.includes(file.type)) {\n          throw new Error(`File ${file.name} is not a supported type. Please upload PDF, JPEG, or PNG files.`);\n        }\n\n        // Validate file size (max 10MB)\n        if (file.size > 10 * 1024 * 1024) {\n          throw new Error(`File ${file.name} is too large. Maximum size is 10MB.`);\n        }\n\n        const result = await healthRecordService.uploadVetReport(petId, file, formData.record_type);\n        if (!result.success) {\n          throw new Error(`Failed to upload ${file.name}: ${result.error}`);\n        }\n\n        return {\n          name: file.name,\n          url: result.publicUrl,\n          filePath: result.filePath,\n          type: file.type,\n          size: file.size\n        };\n      });\n\n      const uploadedFiles = await Promise.all(uploadPromises);\n      setDocuments(prev => [...prev, ...uploadedFiles]);\n    } catch (error) {\n      console.error('Error uploading files:', error);\n      setError(error.message);\n    } finally {\n      setUploading(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const removeDocument = async (index) => {\n    const document = documents[index];\n    \n    try {\n      // Delete from storage\n      const result = await healthRecordService.deleteVetReport(document.filePath);\n      if (!result.success) {\n        console.warn('Failed to delete file from storage:', result.error);\n      }\n    } catch (error) {\n      console.warn('Error deleting file:', error);\n    }\n\n    // Remove from local state\n    setDocuments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      // Validate required fields\n      if (!formData.title.trim()) {\n        throw new Error('Title is required');\n      }\n      if (!formData.date_performed) {\n        throw new Error('Date performed is required');\n      }\n\n      // Prepare health record data\n      const recordData = {\n        ...formData,\n        documents: documents.map(doc => ({\n          name: doc.name,\n          url: doc.url,\n          type: doc.type,\n          size: doc.size\n        }))\n      };\n\n      const result = await healthRecordService.addHealthRecord(petId, recordData);\n      \n      if (!result.success) {\n        throw new Error(result.error || 'Failed to add health record');\n      }\n\n      onSuccess(result.data);\n      onClose();\n    } catch (error) {\n      console.error('Error adding health record:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getFileIcon = (type) => {\n    if (type.startsWith('image/')) return <HealthIcon type=\"image\" className=\"w-4 h-4\" color=\"currentColor\" />;\n    if (type === 'application/pdf') return <HealthIcon type=\"document\" className=\"w-4 h-4\" color=\"currentColor\" />;\n    return <HealthIcon type=\"attachment\" className=\"w-4 h-4\" color=\"currentColor\" />;\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-xl\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className=\"text-xl font-semibold text-gray-900 font-montserrat\">Add Health Record</h2>\n              <p className=\"text-sm text-gray-600 mt-1\">Add a new health record for {petName}</p>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center transition-colors\"\n              disabled={loading}\n            >\n              <svg className=\"w-4 h-4 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Error Message */}\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n              <div className=\"flex\">\n                <svg className=\"w-5 h-5 text-red-400 mr-2 mt-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n                <p className=\"text-sm text-red-700\">{error}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Record Type */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Record Type *</label>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n              {recordTypes.map(type => (\n                <button\n                  key={type.value}\n                  type=\"button\"\n                  onClick={() => handleInputChange({ target: { name: 'record_type', value: type.value } })}\n                  className={`p-3 rounded-lg border-2 transition-all text-center ${\n                    formData.record_type === type.value\n                      ? 'border-[#5EB47C] bg-[#E5F4F1] text-[#5EB47C]'\n                      : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                >\n                  <div className=\"mb-1 flex justify-center\">{type.icon}</div>\n                  <div className=\"text-xs font-medium\">{type.label}</div>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Basic Information */}\n          <div className=\"space-y-4\">\n            {/* Title and Date - Always in a row */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Title *\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleInputChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n                  placeholder={currentConfig.titlePlaceholder}\n                  required\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"date_performed\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Date Performed *\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"date_performed\"\n                  name=\"date_performed\"\n                  value={formData.date_performed}\n                  onChange={handleInputChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Professional and Business Info - Always in a row */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label htmlFor=\"vet_name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {currentConfig.professionalLabel}\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"vet_name\"\n                  name=\"vet_name\"\n                  value={formData.vet_name}\n                  onChange={handleInputChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n                  placeholder={currentConfig.professionalPlaceholder}\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"clinic_name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {currentConfig.businessLabel}\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"clinic_name\"\n                  name=\"clinic_name\"\n                  value={formData.clinic_name}\n                  onChange={handleInputChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n                  placeholder={currentConfig.businessPlaceholder}\n                />\n              </div>\n            </div>\n\n            {/* Next Due Date and Cost - Conditional layout */}\n            <div className={`grid grid-cols-1 ${currentConfig.showNextDueDate ? 'md:grid-cols-2' : 'md:grid-cols-1'} gap-4`}>\n              {currentConfig.showNextDueDate && (\n                <div>\n                  <label htmlFor=\"next_due_date\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {currentConfig.nextDueDateLabel}\n                  </label>\n                  <input\n                    type=\"date\"\n                    id=\"next_due_date\"\n                    name=\"next_due_date\"\n                    value={formData.next_due_date}\n                    onChange={handleInputChange}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n                  />\n                </div>\n              )}\n\n              <div>\n                <label htmlFor=\"cost\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Cost ($)\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"cost\"\n                  name=\"cost\"\n                  value={formData.cost}\n                  onChange={handleInputChange}\n                  step=\"0.01\"\n                  min=\"0\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n                  placeholder=\"0.00\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Description */}\n          <div>\n            <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Description\n            </label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              value={formData.description}\n              onChange={handleInputChange}\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n              placeholder={currentConfig.descriptionPlaceholder}\n            />\n          </div>\n\n          {/* Document Upload */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Vet Reports & Documents\n            </label>\n            \n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6\">\n              <div className=\"text-center\">\n                <svg className=\"mx-auto h-12 w-12 text-gray-400\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 48 48\">\n                  <path d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                </svg>\n                <div className=\"mt-4\">\n                  <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                    <span className=\"mt-2 block text-sm font-medium text-gray-900\">\n                      Upload vet reports, lab results, or images\n                    </span>\n                    <span className=\"mt-1 block text-sm text-gray-500\">\n                      PDF, JPEG, PNG up to 10MB each\n                    </span>\n                  </label>\n                  <input\n                    ref={fileInputRef}\n                    id=\"file-upload\"\n                    name=\"file-upload\"\n                    type=\"file\"\n                    multiple\n                    accept=\".pdf,.jpg,.jpeg,.png\"\n                    onChange={handleFileUpload}\n                    className=\"sr-only\"\n                    disabled={uploading}\n                  />\n                </div>\n                <div className=\"mt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => fileInputRef.current?.click()}\n                    disabled={uploading}\n                    className=\"bg-[#5EB47C] text-white px-4 py-2 rounded-lg hover:bg-[#4A9A64] transition-colors disabled:opacity-50\"\n                  >\n                    {uploading ? 'Uploading...' : 'Choose Files'}\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Uploaded Documents */}\n            {documents.length > 0 && (\n              <div className=\"mt-4 space-y-2\">\n                <h4 className=\"text-sm font-medium text-gray-700\">Uploaded Documents:</h4>\n                {documents.map((doc, index) => (\n                  <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-lg mr-2\">{getFileIcon(doc.type)}</span>\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">{doc.name}</p>\n                        <p className=\"text-xs text-gray-500\">{formatFileSize(doc.size)}</p>\n                      </div>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={() => removeDocument(index)}\n                      className=\"text-red-600 hover:text-red-800 transition-colors\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Notes */}\n          <div>\n            <label htmlFor=\"notes\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Additional Notes\n            </label>\n            <textarea\n              id=\"notes\"\n              name=\"notes\"\n              value={formData.notes}\n              onChange={handleInputChange}\n              rows={2}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5EB47C] focus:border-transparent\"\n              placeholder=\"Any additional notes or observations...\"\n            />\n          </div>\n\n          {/* Form Actions */}\n          <div className=\"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              disabled={loading || uploading}\n              className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors font-medium disabled:opacity-50\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading || uploading || !formData.title.trim() || !formData.date_performed}\n              className=\"px-6 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\n            >\n              {loading ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Adding Record...\n                </>\n              ) : (\n                'Add Health Record'\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AddHealthRecordForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}