{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{supabase}from'../lib/supabase.js';import ConsultationBooking from'./ConsultationBooking';import FavoriteButton from'./FavoriteButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProviderDetail=()=>{const{providerId}=useParams();const[provider,setProvider]=useState(null);const[services,setServices]=useState([]);const[products,setProducts]=useState([]);const[packages,setPackages]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('services');const[showBookingModal,setShowBookingModal]=useState(false);const[selectedService,setSelectedService]=useState(null);const[selectedServices,setSelectedServices]=useState([]);const[showCustomBuilder,setShowCustomBuilder]=useState(false);useEffect(()=>{const loadProviderData=async()=>{try{const decodedProviderId=decodeURIComponent(providerId);// Load provider's listings from marketplace_listings first\nlet providerEmail=decodedProviderId;// If it's not an email, try to find by provider_id\nif(!decodedProviderId.includes('@')){const{data:sampleListing}=await supabase.from('marketplace_listings').select('provider_email').eq('provider_id',decodedProviderId).limit(1).single();if(sampleListing!==null&&sampleListing!==void 0&&sampleListing.provider_email){providerEmail=sampleListing.provider_email;}else{console.error('Provider not found with ID:',decodedProviderId);setLoading(false);return;}}// Load all provider's listings from marketplace_listings\nconst{data:allListingsData,error:listingsError}=await supabase.from('marketplace_listings').select('*').eq('provider_email',providerEmail).eq('active',true);if(listingsError||!allListingsData||allListingsData.length===0){console.error('No listings found for provider:',providerEmail,listingsError);setLoading(false);return;}// Create provider data from the first listing\nconst firstListing=allListingsData[0];let rating=firstListing.rating||0;let reviews_count=firstListing.reviews_count||0;// Add default ratings for specific providers if they don't have ratings\nif(rating===0||!rating){const defaultRatings={'Emily Summer':{rating:4.8,reviews:23},'Sara Lee':{rating:4.6,reviews:15},'Sarah Smith':{rating:4.9,reviews:127},'Luna Groomer':{rating:4.9,reviews:31}};const providerRating=defaultRatings[firstListing.provider_name];if(providerRating){rating=providerRating.rating;reviews_count=providerRating.reviews;}else if(firstListing.provider_type==='vet_nurse'||firstListing.provider_type==='Vet Nurse'){// Default rating for other vet nurses\nrating=4.7;reviews_count=18;}}const providerData={id:firstListing.provider_id||providerEmail,email:firstListing.provider_email,name:firstListing.provider_name,provider_type:firstListing.provider_type,phone:firstListing.provider_phone,address:firstListing.provider_address,city:firstListing.provider_city||firstListing.city,verified:firstListing.verified||true,// Default to verified for better UX\nrating:rating,reviews_count:reviews_count,profile_image_url:firstListing.profile_image_url,offers_services:true,offers_products:true};setProvider(providerData);if(!listingsError&&allListingsData){// Separate services, packages, and products\nconst servicesData=allListingsData.filter(listing=>listing.listing_type==='service'||listing.listing_type!=='product'&&listing.listing_type!=='package'&&listing.service_types!=='product'&&listing.service_types!=='package');const packagesData=allListingsData.filter(listing=>listing.listing_type==='package'||listing.service_types==='package');const productsData=allListingsData.filter(listing=>listing.listing_type==='product'||listing.service_types==='product');// Map services to the expected format\nconst mappedServices=servicesData.map(listing=>({id:listing.listing_id,title:listing.name,description:listing.description,price:listing.price,duration_minutes:30,// Default duration\nservice_type:listing.service_types||listing.service_type,location_type:'mobile'}));// Map packages to the expected format\nconst mappedPackages=packagesData.map(listing=>({id:listing.listing_id,name:listing.name,description:listing.description,package_price:listing.price,original_price:listing.price*1.2,// Assume 20% discount\nsavings:listing.price*0.2,is_active:listing.active}));// Map products to the expected format\nconst mappedProducts=productsData.map(listing=>({id:listing.listing_id,name:listing.name,description:listing.description,price:listing.price,category:listing.category,brand:listing.brand,stock_quantity:listing.stock_quantity,image_url:listing.image_url}));setServices(mappedServices);setPackages(mappedPackages);setProducts(mappedProducts);}else if(listingsError){console.error('Error loading listings:',listingsError);}// All data (services, packages, products) is now loaded from marketplace_listings above\nsetLoading(false);}catch(error){setLoading(false);}};if(providerId){loadProviderData();}},[providerId]);// Booking handlers\nconst handleBookConsultation=service=>{setSelectedService(service);setShowBookingModal(true);};// Package system logic - now uses actual packages from provider dashboard\nconst handleServiceToggle=serviceId=>{setSelectedServices(prev=>prev.includes(serviceId)?prev.filter(id=>id!==serviceId):[...prev,serviceId]);};const handlePackageSelect=packageData=>{// Use service_ids from the actual package data\nsetSelectedServices(packageData.service_ids||[]);};const getSelectedTotal=()=>{return services.filter(service=>selectedServices.includes(service.id)).reduce((total,service)=>total+parseFloat(service.price||0),0);};const getSelectedDuration=()=>{return services.filter(service=>selectedServices.includes(service.id)).reduce((total,service)=>total+(service.duration_minutes||30),0);};const closeBookingModal=()=>{setShowBookingModal(false);setSelectedService(null);};const getProviderTypeIcon=type=>{const icons={'Veterinary':'üè•','Vet Nurse':'üë©‚Äç‚öïÔ∏è','Groomer':'‚úÇÔ∏è','Trainer':'üéì','Breeder':'üêï','Nutritionist':'ü•ó','Pet Business':'üè™','Holistic Care':'üåø','Expert':'üéØ'};return icons[type]||'üêæ';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C] mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-montserrat\",children:\"Loading provider details...\"})]})});}if(!provider){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2 font-montserrat\",children:\"Provider not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-montserrat mb-4\",children:\"The provider you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",className:\"inline-flex items-center px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-montserrat\",children:\"Back to Marketplace\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 sm:gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 self-center sm:self-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center\",children:provider.profile_image_url?/*#__PURE__*/_jsx(\"img\",{src:provider.profile_image_url,alt:provider.name,className:\"w-full h-full object-cover rounded-2xl\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-base\",children:getProviderTypeIcon(provider.provider_type)})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 font-montserrat\",children:provider.business_name||provider.name}),provider.verified&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 font-montserrat\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})}),\"Verified\"]})]}),provider.business_name&&provider.name!==provider.business_name&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-base sm:text-lg text-gray-600 font-montserrat mb-2\",children:[\"by \",provider.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-600 font-montserrat\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:getProviderTypeIcon(provider.provider_type)}),provider.provider_type]}),provider.city&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),provider.city,\", \",provider.country]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex text-yellow-400 mr-2\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"})},i))}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold text-gray-900 mr-2 font-montserrat\",children:provider.rating||4.8}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600 font-montserrat\",children:[\"(\",provider.reviews_count||23,\" review\",(provider.reviews_count||23)!==1?'s':'',\")\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3\",children:[/*#__PURE__*/_jsx(FavoriteButton,{listingId:provider.id,listingType:\"service\",size:\"md\",className:\"self-center sm:self-start\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full sm:w-auto px-4 sm:px-6 py-3 bg-[#5EB47C] text-white rounded-xl hover:bg-[#4A9A64] transition-colors font-montserrat font-medium\",children:\"Contact Provider\"})]})]}),provider.bio&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 font-montserrat leading-relaxed\",children:provider.bio}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 sm:gap-4 mt-4\",children:[provider.offers_services&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[#E5F4F1] text-[#4A9A64] font-montserrat\",children:\"\\uD83D\\uDEE0\\uFE0F Services\"}),provider.offers_products&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 font-montserrat\",children:\"\\uD83D\\uDECD\\uFE0F Products\"})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 mb-6 sm:mb-8\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto scrollbar-hide\",children:[provider.offers_services&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('services'),className:`py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap ${activeTab==='services'?'text-[#5EB47C]':'text-gray-500 hover:text-gray-700'}`,children:[\"Services (\",services.length,\")\"]}),provider.offers_products&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('products'),className:`py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap ${activeTab==='products'?'text-[#5EB47C]':'text-gray-500 hover:text-gray-700'}`,children:[\"Products (\",products.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('about'),className:`py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap ${activeTab==='about'?'text-[#5EB47C]':'text-gray-500 hover:text-gray-700'}`,children:\"About\"})]})}),activeTab==='services'&&provider.offers_services&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\",children:\"Book Services\"}),services.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-montserrat\",children:\"No services available at the moment.\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[packages.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 font-montserrat\",children:\"\\uD83D\\uDCE6 Popular Packages\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:packages.map(pkg=>{var _pkg$service_ids;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl border-2 border-green-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-gray-900 font-montserrat\",children:pkg.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-montserrat\",children:pkg.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-green-600 font-montserrat\",children:[\"$\",pkg.package_price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 line-through font-montserrat\",children:[\"$\",pkg.original_price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-green-600 font-bold font-montserrat\",children:[\"Save $\",pkg.savings,\"!\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700 mb-2 font-montserrat\",children:\"Includes:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-gray-600 space-y-1 font-montserrat\",children:(_pkg$service_ids=pkg.service_ids)===null||_pkg$service_ids===void 0?void 0:_pkg$service_ids.map((serviceId,index)=>{const service=services.find(s=>s.id===serviceId);return service?/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mr-2\",children:\"\\u2713\"}),service.title]},index):null;})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handlePackageSelect(pkg);setShowCustomBuilder(true);},className:\"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-montserrat font-medium\",children:\"Select Package\"})]},pkg.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 font-montserrat\",children:\"\\uD83D\\uDD27 Build Custom Package\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCustomBuilder(!showCustomBuilder),className:\"text-blue-600 hover:text-blue-700 font-medium font-montserrat\",children:showCustomBuilder?'Hide Builder':'Show Builder'})]}),showCustomBuilder&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-4 mb-6\",children:services.map(service=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:`service-${service.id}`,checked:selectedServices.includes(service.id),onChange:()=>handleServiceToggle(service.id),className:\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:`service-${service.id}`,className:\"ml-3 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 font-montserrat\",children:service.title}),service.description&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 font-montserrat\",children:service.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-gray-900 font-montserrat\",children:[\"$\",service.price]}),service.duration_minutes&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 font-montserrat\",children:[service.duration_minutes,\" min\"]})]})]},service.id))}),selectedServices.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900 font-montserrat\",children:[selectedServices.length,\" service\",selectedServices.length!==1?'s':'',\" selected\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 font-montserrat\",children:[\"Estimated time: \",getSelectedDuration(),\" minutes\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900 font-montserrat\",children:[\"$\",getSelectedTotal().toFixed(2)]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Handle booking multiple services\nconst selectedServiceObjects=services.filter(s=>selectedServices.includes(s.id));setSelectedService({title:`${selectedServices.length} Services Package`,price:getSelectedTotal(),duration_minutes:getSelectedDuration(),services:selectedServiceObjects});setShowBookingModal(true);},className:\"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-montserrat font-medium\",children:\"Book Selected Services\"})]})]})]})]})]}),activeTab==='products'&&provider.offers_products&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\",children:\"Products Available\"}),products.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-montserrat\",children:\"No products available at the moment.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\",children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-100 to-primary-200 h-48 rounded-t-2xl overflow-hidden\",children:product.image_url?/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:product.name,className:\"w-full h-full object-cover border-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center text-base\",children:\"\\uD83D\\uDCE6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 font-montserrat flex-1\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-gray-900 font-montserrat ml-2\",children:[\"$\",product.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 font-montserrat\",children:product.category}),product.brand&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 font-montserrat\",children:product.brand})]}),product.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4 font-montserrat line-clamp-2\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium font-montserrat ${product.stock_quantity>10?'bg-green-100 text-green-800':product.stock_quantity>0?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'}`,children:product.stock_quantity>10?'In Stock':product.stock_quantity>0?`${product.stock_quantity} left`:'Out of Stock'}),/*#__PURE__*/_jsx(\"button\",{disabled:product.stock_quantity===0,className:`px-4 py-2 rounded-lg font-montserrat font-medium transition-colors ${product.stock_quantity>0?'bg-[#5EB47C] text-white hover:bg-[#4A9A64]':'bg-gray-300 text-gray-500 cursor-not-allowed'}`,children:\"Add to Cart\"})]})]})]},product.id))})]}),activeTab==='about'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\",children:[\"About \",provider.business_name||provider.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-3 font-montserrat\",children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-600 font-montserrat\",children:[provider.email&&/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"})}),provider.email]}),provider.phone&&/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"})}),provider.phone]}),provider.address&&/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-4 h-4 mr-2 mt-0.5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),provider.address]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-3 font-montserrat\",children:\"Business Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-600 font-montserrat\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Type:\"}),\" \",provider.provider_type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Verified:\"}),\" \",provider.verified?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Member since:\"}),\" \",new Date(provider.created_at).toLocaleDateString()]})]})]})]}),provider.bio&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-3 font-montserrat\",children:\"About\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 font-montserrat leading-relaxed\",children:provider.bio})]})]})]})]}),showBookingModal&&selectedService&&provider&&/*#__PURE__*/_jsx(ConsultationBooking,{service:selectedService,provider:provider,onClose:closeBookingModal})]});};export default ProviderDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","supabase","ConsultationBooking","FavoriteButton","jsx","_jsx","jsxs","_jsxs","ProviderDetail","providerId","provider","setProvider","services","setServices","products","setProducts","packages","setPackages","loading","setLoading","activeTab","setActiveTab","showBookingModal","setShowBookingModal","selectedService","setSelectedService","selectedServices","setSelectedServices","showCustomBuilder","setShowCustomBuilder","loadProviderData","decodedProviderId","decodeURIComponent","providerEmail","includes","data","sampleListing","from","select","eq","limit","single","provider_email","console","error","allListingsData","listingsError","length","firstListing","rating","reviews_count","defaultRatings","reviews","providerRating","provider_name","provider_type","providerData","id","provider_id","email","name","phone","provider_phone","address","provider_address","city","provider_city","verified","profile_image_url","offers_services","offers_products","servicesData","filter","listing","listing_type","service_types","packagesData","productsData","mappedServices","map","listing_id","title","description","price","duration_minutes","service_type","location_type","mappedPackages","package_price","original_price","savings","is_active","active","mappedProducts","category","brand","stock_quantity","image_url","handleBookConsultation","service","handleServiceToggle","serviceId","prev","handlePackageSelect","packageData","service_ids","getSelectedTotal","reduce","total","parseFloat","getSelectedDuration","closeBookingModal","getProviderTypeIcon","type","icons","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","to","src","alt","business_name","fillRule","clipRule","country","Array","_","i","listingId","listingType","size","bio","onClick","pkg","_pkg$service_ids","index","find","s","checked","onChange","htmlFor","toFixed","selectedServiceObjects","product","disabled","Date","created_at","toLocaleDateString","onClose"],"sources":["/workspace/src/components/ProviderDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { supabase } from '../lib/supabase.js';\nimport ConsultationBooking from './ConsultationBooking';\nimport FavoriteButton from './FavoriteButton';\n\nconst ProviderDetail = () => {\n  const { providerId } = useParams();\n  const [provider, setProvider] = useState(null);\n  const [services, setServices] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [packages, setPackages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('services');\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [selectedService, setSelectedService] = useState(null);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showCustomBuilder, setShowCustomBuilder] = useState(false);\n\n  useEffect(() => {\n    const loadProviderData = async () => {\n      try {\n        const decodedProviderId = decodeURIComponent(providerId);\n        \n        // Load provider's listings from marketplace_listings first\n        let providerEmail = decodedProviderId;\n        \n        // If it's not an email, try to find by provider_id\n        if (!decodedProviderId.includes('@')) {\n          const { data: sampleListing } = await supabase\n            .from('marketplace_listings')\n            .select('provider_email')\n            .eq('provider_id', decodedProviderId)\n            .limit(1)\n            .single();\n          \n          if (sampleListing?.provider_email) {\n            providerEmail = sampleListing.provider_email;\n          } else {\n            console.error('Provider not found with ID:', decodedProviderId);\n            setLoading(false);\n            return;\n          }\n        }\n\n        // Load all provider's listings from marketplace_listings\n        const { data: allListingsData, error: listingsError } = await supabase\n          .from('marketplace_listings')\n          .select('*')\n          .eq('provider_email', providerEmail)\n          .eq('active', true);\n\n        if (listingsError || !allListingsData || allListingsData.length === 0) {\n          console.error('No listings found for provider:', providerEmail, listingsError);\n          setLoading(false);\n          return;\n        }\n\n        // Create provider data from the first listing\n        const firstListing = allListingsData[0];\n        let rating = firstListing.rating || 0;\n        let reviews_count = firstListing.reviews_count || 0;\n        \n        // Add default ratings for specific providers if they don't have ratings\n        if (rating === 0 || !rating) {\n          const defaultRatings = {\n            'Emily Summer': { rating: 4.8, reviews: 23 },\n            'Sara Lee': { rating: 4.6, reviews: 15 },\n            'Sarah Smith': { rating: 4.9, reviews: 127 },\n            'Luna Groomer': { rating: 4.9, reviews: 31 }\n          };\n          \n          const providerRating = defaultRatings[firstListing.provider_name];\n          if (providerRating) {\n            rating = providerRating.rating;\n            reviews_count = providerRating.reviews;\n          } else if (firstListing.provider_type === 'vet_nurse' || firstListing.provider_type === 'Vet Nurse') {\n            // Default rating for other vet nurses\n            rating = 4.7;\n            reviews_count = 18;\n          }\n        }\n        \n        const providerData = {\n          id: firstListing.provider_id || providerEmail,\n          email: firstListing.provider_email,\n          name: firstListing.provider_name,\n          provider_type: firstListing.provider_type,\n          phone: firstListing.provider_phone,\n          address: firstListing.provider_address,\n          city: firstListing.provider_city || firstListing.city,\n          verified: firstListing.verified || true, // Default to verified for better UX\n          rating: rating,\n          reviews_count: reviews_count,\n          profile_image_url: firstListing.profile_image_url,\n          offers_services: true,\n          offers_products: true\n        };\n\n        setProvider(providerData);\n\n        if (!listingsError && allListingsData) {\n          // Separate services, packages, and products\n          const servicesData = allListingsData.filter(listing => \n            listing.listing_type === 'service' || \n            (listing.listing_type !== 'product' && listing.listing_type !== 'package' && \n             listing.service_types !== 'product' && listing.service_types !== 'package')\n          );\n          \n          const packagesData = allListingsData.filter(listing => \n            listing.listing_type === 'package' || listing.service_types === 'package'\n          );\n          \n          const productsData = allListingsData.filter(listing => \n            listing.listing_type === 'product' || listing.service_types === 'product'\n          );\n\n          // Map services to the expected format\n          const mappedServices = servicesData.map(listing => ({\n            id: listing.listing_id,\n            title: listing.name,\n            description: listing.description,\n            price: listing.price,\n            duration_minutes: 30, // Default duration\n            service_type: listing.service_types || listing.service_type,\n            location_type: 'mobile'\n          }));\n\n          // Map packages to the expected format\n          const mappedPackages = packagesData.map(listing => ({\n            id: listing.listing_id,\n            name: listing.name,\n            description: listing.description,\n            package_price: listing.price,\n            original_price: listing.price * 1.2, // Assume 20% discount\n            savings: listing.price * 0.2,\n            is_active: listing.active\n          }));\n\n          // Map products to the expected format\n          const mappedProducts = productsData.map(listing => ({\n            id: listing.listing_id,\n            name: listing.name,\n            description: listing.description,\n            price: listing.price,\n            category: listing.category,\n            brand: listing.brand,\n            stock_quantity: listing.stock_quantity,\n            image_url: listing.image_url\n          }));\n            \n          setServices(mappedServices);\n          setPackages(mappedPackages);\n          setProducts(mappedProducts);\n        } else if (listingsError) {\n          console.error('Error loading listings:', listingsError);\n        }\n\n        // All data (services, packages, products) is now loaded from marketplace_listings above\n\n        setLoading(false);\n      } catch (error) {\n        \n        setLoading(false);\n      }\n    };\n\n    if (providerId) {\n      loadProviderData();\n    }\n  }, [providerId]);\n\n  // Booking handlers\n  const handleBookConsultation = (service) => {\n    setSelectedService(service);\n    setShowBookingModal(true);\n  };\n\n  // Package system logic - now uses actual packages from provider dashboard\n\n  const handleServiceToggle = (serviceId) => {\n    setSelectedServices(prev => \n      prev.includes(serviceId) \n        ? prev.filter(id => id !== serviceId)\n        : [...prev, serviceId]\n    );\n  };\n\n  const handlePackageSelect = (packageData) => {\n    // Use service_ids from the actual package data\n    setSelectedServices(packageData.service_ids || []);\n  };\n\n  const getSelectedTotal = () => {\n    return services\n      .filter(service => selectedServices.includes(service.id))\n      .reduce((total, service) => total + parseFloat(service.price || 0), 0);\n  };\n\n  const getSelectedDuration = () => {\n    return services\n      .filter(service => selectedServices.includes(service.id))\n      .reduce((total, service) => total + (service.duration_minutes || 30), 0);\n  };\n\n  const closeBookingModal = () => {\n    setShowBookingModal(false);\n    setSelectedService(null);\n  };\n\n  const getProviderTypeIcon = (type) => {\n    const icons = {\n      'Veterinary': 'üè•',\n      'Vet Nurse': 'üë©‚Äç‚öïÔ∏è',\n      'Groomer': '‚úÇÔ∏è',\n      'Trainer': 'üéì',\n      'Breeder': 'üêï',\n      'Nutritionist': 'ü•ó',\n      'Pet Business': 'üè™',\n      'Holistic Care': 'üåø',\n      'Expert': 'üéØ'\n    };\n    return icons[type] || 'üêæ';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5EB47C] mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 font-montserrat\">Loading provider details...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!provider) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\n            <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          </div>\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2 font-montserrat\">Provider not found</h3>\n          <p className=\"text-gray-500 font-montserrat mb-4\">The provider you're looking for doesn't exist.</p>\n          <Link\n            to=\"/marketplace\"\n            className=\"inline-flex items-center px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-montserrat\"\n          >\n            Back to Marketplace\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Provider Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8\">\n          <div className=\"flex flex-col sm:flex-row gap-4 sm:gap-6\">\n            {/* Provider Avatar */}\n            <div className=\"flex-shrink-0 self-center sm:self-start\">\n              <div className=\"w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center\">\n                {provider.profile_image_url ? (\n                  <img\n                    src={provider.profile_image_url}\n                    alt={provider.name}\n                    className=\"w-full h-full object-cover rounded-2xl\"\n                  />\n                ) : (\n                  <span className=\"text-base\">\n                    {getProviderTypeIcon(provider.provider_type)}\n                  </span>\n                )}\n              </div>\n            </div>\n\n            {/* Provider Info */}\n            <div className=\"flex-1\">\n              <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 gap-4\">\n                <div className=\"flex-1\">\n                  <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2\">\n                    <h1 className=\"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 font-montserrat\">\n                      {provider.business_name || provider.name}\n                    </h1>\n                    {provider.verified && (\n                      <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 font-montserrat\">\n                        <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                        </svg>\n                        Verified\n                      </span>\n                    )}\n                  </div>\n                  {provider.business_name && provider.name !== provider.business_name && (\n                    <p className=\"text-base sm:text-lg text-gray-600 font-montserrat mb-2\">by {provider.name}</p>\n                  )}\n                  <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-600 font-montserrat\">\n                    <span className=\"flex items-center\">\n                      <span className=\"mr-2\">{getProviderTypeIcon(provider.provider_type)}</span>\n                      {provider.provider_type}\n                    </span>\n                    {provider.city && (\n                      <span className=\"flex items-center\">\n                        <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                        </svg>\n                        {provider.city}, {provider.country}\n                      </span>\n                    )}\n                  </div>\n                  \n                  {/* Rating Display */}\n                  <div className=\"flex items-center mt-3\">\n                    <div className=\"flex text-yellow-400 mr-2\">\n                      {[...Array(5)].map((_, i) => (\n                        <svg key={i} className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                        </svg>\n                      ))}\n                    </div>\n                    <span className=\"text-lg font-semibold text-gray-900 mr-2 font-montserrat\">\n                      {provider.rating || 4.8}\n                    </span>\n                    <span className=\"text-gray-600 font-montserrat\">\n                      ({provider.reviews_count || 23} review{(provider.reviews_count || 23) !== 1 ? 's' : ''})\n                    </span>\n                  </div>\n                </div>\n\n                {/* Contact Button and Favorite */}\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                  <FavoriteButton\n                    listingId={provider.id}\n                    listingType=\"service\"\n                    size=\"md\"\n                    className=\"self-center sm:self-start\"\n                  />\n                  <button className=\"w-full sm:w-auto px-4 sm:px-6 py-3 bg-[#5EB47C] text-white rounded-xl hover:bg-[#4A9A64] transition-colors font-montserrat font-medium\">\n                    Contact Provider\n                  </button>\n                </div>\n              </div>\n\n\n\n              {/* Bio */}\n              {provider.bio && (\n                <p className=\"text-gray-700 font-montserrat leading-relaxed\">\n                  {provider.bio}\n                </p>\n              )}\n\n              {/* Offerings */}\n              <div className=\"flex flex-wrap gap-2 sm:gap-4 mt-4\">\n                {provider.offers_services && (\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[#E5F4F1] text-[#4A9A64] font-montserrat\">\n                    üõ†Ô∏è Services\n                  </span>\n                )}\n                {provider.offers_products && (\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 font-montserrat\">\n                    üõçÔ∏è Products\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content Tabs */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8\">\n        {/* Tab Navigation */}\n        <div className=\"border-b border-gray-200 mb-6 sm:mb-8\">\n          <nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto scrollbar-hide\">\n            {provider.offers_services && (\n              <button\n                onClick={() => setActiveTab('services')}\n                className={`py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap ${\n                  activeTab === 'services'\n                    ? 'text-[#5EB47C]'\n                    : 'text-gray-500 hover:text-gray-700'\n                }`}\n              >\n                Services ({services.length})\n              </button>\n            )}\n            {provider.offers_products && (\n              <button\n                onClick={() => setActiveTab('products')}\n                className={`py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap ${\n                  activeTab === 'products'\n                    ? 'text-[#5EB47C]'\n                    : 'text-gray-500 hover:text-gray-700'\n                }`}\n              >\n                Products ({products.length})\n              </button>\n            )}\n            <button\n              onClick={() => setActiveTab('about')}\n              className={`py-2 px-1 font-medium text-sm font-montserrat whitespace-nowrap ${\n                activeTab === 'about'\n                  ? 'text-[#5EB47C]'\n                  : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              About\n            </button>\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === 'services' && provider.offers_services && (\n          <div>\n            <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\">\n              Book Services\n            </h2>\n            {services.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\n                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                  </svg>\n                </div>\n                <p className=\"text-gray-500 font-montserrat\">No services available at the moment.</p>\n              </div>\n            ) : (\n              <div className=\"space-y-6\">\n                {/* Popular Packages */}\n                {packages.length > 0 && (\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4 font-montserrat\">\n                      üì¶ Popular Packages\n                    </h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {packages.map((pkg) => (\n                      <div key={pkg.id} className=\"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl border-2 border-green-200 p-6\">\n                        <div className=\"flex items-start justify-between mb-3\">\n                          <div>\n                            <h4 className=\"font-bold text-gray-900 font-montserrat\">{pkg.name}</h4>\n                            <p className=\"text-sm text-gray-600 font-montserrat\">{pkg.description}</p>\n                          </div>\n                                                      <div className=\"text-right\">\n                            <p className=\"text-xl font-bold text-green-600 font-montserrat\">${pkg.package_price}</p>\n                            <p className=\"text-xs text-gray-500 line-through font-montserrat\">${pkg.original_price}</p>\n                            <p className=\"text-xs text-green-600 font-bold font-montserrat\">Save ${pkg.savings}!</p>\n                          </div>\n                        </div>\n                        \n                        <div className=\"mb-4\">\n                          <p className=\"text-sm font-medium text-gray-700 mb-2 font-montserrat\">Includes:</p>\n                          <ul className=\"text-sm text-gray-600 space-y-1 font-montserrat\">\n                            {pkg.service_ids?.map((serviceId, index) => {\n                              const service = services.find(s => s.id === serviceId);\n                              return service ? (\n                                <li key={index} className=\"flex items-center\">\n                                  <span className=\"text-green-500 mr-2\">‚úì</span>\n                                  {service.title}\n                                </li>\n                              ) : null;\n                            })}\n                          </ul>\n                        </div>\n                        \n                        <button \n                          onClick={() => {\n                            handlePackageSelect(pkg);\n                            setShowCustomBuilder(true);\n                          }}\n                          className=\"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-montserrat font-medium\"\n                        >\n                          Select Package\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                )}\n\n                {/* Custom Package Builder */}\n                <div>\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 font-montserrat\">\n                      üîß Build Custom Package\n                    </h3>\n                    <button\n                      onClick={() => setShowCustomBuilder(!showCustomBuilder)}\n                      className=\"text-blue-600 hover:text-blue-700 font-medium font-montserrat\"\n                    >\n                      {showCustomBuilder ? 'Hide Builder' : 'Show Builder'}\n                    </button>\n                  </div>\n                  \n                  {showCustomBuilder && (\n                    <div className=\"bg-white rounded-2xl border border-gray-200 p-6\">\n                      <div className=\"grid grid-cols-1 gap-4 mb-6\">\n                        {services.map((service) => (\n                          <div key={service.id} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50\">\n                            <div className=\"flex items-center\">\n                              <input\n                                type=\"checkbox\"\n                                id={`service-${service.id}`}\n                                checked={selectedServices.includes(service.id)}\n                                onChange={() => handleServiceToggle(service.id)}\n                                className=\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"\n                              />\n                              <label htmlFor={`service-${service.id}`} className=\"ml-3 flex-1\">\n                                <div className=\"font-medium text-gray-900 font-montserrat\">{service.title}</div>\n                                {service.description && (\n                                  <div className=\"text-sm text-gray-500 font-montserrat\">{service.description}</div>\n                                )}\n                              </label>\n                            </div>\n                            <div className=\"text-right\">\n                              <div className=\"font-bold text-gray-900 font-montserrat\">${service.price}</div>\n                              {service.duration_minutes && (\n                                <div className=\"text-xs text-gray-500 font-montserrat\">{service.duration_minutes} min</div>\n                              )}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                      \n                      {selectedServices.length > 0 && (\n                        <div className=\"border-t border-gray-200 pt-4\">\n                          <div className=\"flex items-center justify-between mb-4\">\n                            <div>\n                              <p className=\"font-medium text-gray-900 font-montserrat\">\n                                {selectedServices.length} service{selectedServices.length !== 1 ? 's' : ''} selected\n                              </p>\n                              <p className=\"text-sm text-gray-500 font-montserrat\">\n                                Estimated time: {getSelectedDuration()} minutes\n                              </p>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-2xl font-bold text-gray-900 font-montserrat\">\n                                ${getSelectedTotal().toFixed(2)}\n                              </p>\n                            </div>\n                          </div>\n                          \n                          <button \n                            onClick={() => {\n                              // Handle booking multiple services\n                              const selectedServiceObjects = services.filter(s => selectedServices.includes(s.id));\n                              setSelectedService({ \n                                title: `${selectedServices.length} Services Package`,\n                                price: getSelectedTotal(),\n                                duration_minutes: getSelectedDuration(),\n                                services: selectedServiceObjects\n                              });\n                              setShowBookingModal(true);\n                            }}\n                            className=\"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-montserrat font-medium\"\n                          >\n                            Book Selected Services\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'products' && provider.offers_products && (\n          <div>\n            <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\">\n              Products Available\n            </h2>\n            {products.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\n                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\n                  </svg>\n                </div>\n                <p className=\"text-gray-500 font-montserrat\">No products available at the moment.</p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n                {products.map((product) => (\n                  <div key={product.id} className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\">\n                    <div className=\"aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-100 to-primary-200 h-48 rounded-t-2xl overflow-hidden\">\n                      {product.image_url ? (\n                        <img\n                          src={product.image_url}\n                          alt={product.name}\n                          className=\"w-full h-full object-cover border-0\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center text-base\">\n                          üì¶\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"p-4 sm:p-6\">\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <h3 className=\"font-semibold text-gray-900 font-montserrat flex-1\">\n                          {product.name}\n                        </h3>\n                        <p className=\"text-lg font-bold text-gray-900 font-montserrat ml-2\">\n                          ${product.price}\n                        </p>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 font-montserrat\">\n                          {product.category}\n                        </span>\n                        {product.brand && (\n                          <span className=\"text-xs text-gray-500 font-montserrat\">\n                            {product.brand}\n                          </span>\n                        )}\n                      </div>\n\n                      {product.description && (\n                        <p className=\"text-sm text-gray-600 mb-4 font-montserrat line-clamp-2\">\n                          {product.description}\n                        </p>\n                      )}\n\n                      <div className=\"flex items-center justify-between\">\n                        <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium font-montserrat ${\n                          product.stock_quantity > 10 \n                            ? 'bg-green-100 text-green-800' \n                            : product.stock_quantity > 0 \n                            ? 'bg-yellow-100 text-yellow-800'\n                            : 'bg-red-100 text-red-800'\n                        }`}>\n                          {product.stock_quantity > 10 ? 'In Stock' : \n                           product.stock_quantity > 0 ? `${product.stock_quantity} left` : 'Out of Stock'}\n                        </span>\n                        \n                        <button \n                          disabled={product.stock_quantity === 0}\n                          className={`px-4 py-2 rounded-lg font-montserrat font-medium transition-colors ${\n                            product.stock_quantity > 0\n                              ? 'bg-[#5EB47C] text-white hover:bg-[#4A9A64]'\n                              : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                          }`}\n                        >\n                          Add to Cart\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'about' && (\n          <div>\n            <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\">\n              About {provider.business_name || provider.name}\n            </h2>\n            \n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6\">\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\">\n                <div>\n                  <h3 className=\"font-medium text-gray-900 mb-3 font-montserrat\">Contact Information</h3>\n                  <div className=\"space-y-2 text-sm text-gray-600 font-montserrat\">\n                    {provider.email && (\n                      <p className=\"flex items-center\">\n                        <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                        </svg>\n                        {provider.email}\n                      </p>\n                    )}\n                    {provider.phone && (\n                      <p className=\"flex items-center\">\n                        <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                        </svg>\n                        {provider.phone}\n                      </p>\n                    )}\n                    {provider.address && (\n                      <p className=\"flex items-start\">\n                        <svg className=\"w-4 h-4 mr-2 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                        </svg>\n                        {provider.address}\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                <div>\n                  <h3 className=\"font-medium text-gray-900 mb-3 font-montserrat\">Business Details</h3>\n                  <div className=\"space-y-2 text-sm text-gray-600 font-montserrat\">\n                    <p><span className=\"font-medium\">Type:</span> {provider.provider_type}</p>\n                    <p><span className=\"font-medium\">Verified:</span> {provider.verified ? 'Yes' : 'No'}</p>\n                    <p><span className=\"font-medium\">Member since:</span> {new Date(provider.created_at).toLocaleDateString()}</p>\n\n                  </div>\n                </div>\n              </div>\n\n              {provider.bio && (\n                <div className=\"mt-6 pt-6 border-t border-gray-200\">\n                  <h3 className=\"font-medium text-gray-900 mb-3 font-montserrat\">About</h3>\n                  <p className=\"text-gray-700 font-montserrat leading-relaxed\">\n                    {provider.bio}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Consultation Booking Modal */}\n      {showBookingModal && selectedService && provider && (\n        <ConsultationBooking\n          service={selectedService}\n          provider={provider}\n          onClose={closeBookingModal}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ProviderDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}