{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useParams,Link}from'react-router-dom';import{supabase}from'../lib/supabase.js';import FavoriteButton from'./FavoriteButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetail=()=>{var _provider$name;const{productId}=useParams();const[product,setProduct]=useState(null);const[provider,setProvider]=useState(null);const[relatedProducts,setRelatedProducts]=useState([]);const[loading,setLoading]=useState(true);const[quantity,setQuantity]=useState(1);const[quantityDropdownOpen,setQuantityDropdownOpen]=useState(false);const quantityDropdownRef=useRef(null);useEffect(()=>{const loadProductData=async()=>{try{// Load product details\nconst{data:productData,error:productError}=await supabase.from('products').select('*').eq('id',productId).single();if(productError){// Product loading error - handled by UI state\nsetLoading(false);return;}setProduct(productData);// Load provider details\nconst{data:providerData,error:providerError}=await supabase.from('providers').select('*').eq('id',productData.provider_id).single();if(!providerError){setProvider(providerData);}// Load related products from the same provider\nconst{data:relatedData,error:relatedError}=await supabase.from('products').select('*').eq('provider_id',productData.provider_id).eq('is_active',true).gt('stock_quantity',0).neq('id',productId).limit(3);if(!relatedError){setRelatedProducts(relatedData||[]);}setLoading(false);}catch(error){// Error loading product data - handled by UI state\nsetLoading(false);}};if(productId){loadProductData();}},[productId]);// Close quantity dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(quantityDropdownRef.current&&!quantityDropdownRef.current.contains(event.target)){setQuantityDropdownOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-montserrat\",children:\"Loading product details...\"})]})});}if(!product){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2 font-montserrat\",children:\"Product not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-montserrat mb-4\",children:\"The product you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",className:\"inline-flex items-center px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-montserrat\",children:\"Back to Marketplace\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex overflow-x-auto scrollbar-hide\",\"aria-label\":\"Breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"flex items-center space-x-2 sm:space-x-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",className:\"text-gray-500 hover:text-gray-700 font-montserrat\",children:\"Marketplace\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"svg\",{className:\"flex-shrink-0 h-5 w-5 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 font-montserrat\",children:product.category})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"svg\",{className:\"flex-shrink-0 h-5 w-5 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 font-montserrat font-medium\",children:product.name})})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mb-8 lg:mb-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-w-1 aspect-h-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl h-64 sm:h-80 lg:h-96 overflow-hidden\",children:product.image_url?/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:product.name,className:\"w-full h-full object-cover border-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center text-6xl\",children:\"\\uD83D\\uDCE6\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-2 font-montserrat\",children:product.name})}),/*#__PURE__*/_jsx(FavoriteButton,{listingId:product.id,listingType:\"product\",size:\"md\",className:\"ml-4 flex-shrink-0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 font-montserrat\",children:product.category}),product.subcategory&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 font-montserrat\",children:product.subcategory}),product.brand&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 font-montserrat\",children:[\"by \",product.brand]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-gray-900 font-montserrat\",children:[\"$\",product.price]})})]}),provider&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-xl p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-600 font-medium text-base font-montserrat\",children:((_provider$name=provider.name)===null||_provider$name===void 0?void 0:_provider$name.charAt(0))||'P'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900 font-montserrat\",children:[\"Sold by \",provider.business_name||provider.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[provider.verified&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 font-montserrat\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 mr-1\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})}),\"Verified\"]}),provider.rating>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex text-yellow-400 mr-1\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"})},i))}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 font-montserrat\",children:[provider.rating,\" (\",provider.reviews_count,\")\"]})]})]})]}),/*#__PURE__*/_jsx(Link,{to:`/provider/${provider.id}`,className:\"text-primary-600 hover:text-primary-700 text-sm font-medium font-montserrat\",children:\"View Store\"})]})}),product.description&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-3 font-montserrat\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 font-montserrat leading-relaxed\",children:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-3 font-montserrat\",children:\"Product Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[product.sku&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 font-montserrat\",children:\"SKU:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-900 font-montserrat\",children:product.sku})]}),product.weight_kg&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 font-montserrat\",children:\"Weight:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-gray-900 font-montserrat\",children:[product.weight_kg,\" kg\"]})]}),product.dimensions&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 font-montserrat\",children:\"Dimensions:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-900 font-montserrat\",children:product.dimensions})]}),product.age_group&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 font-montserrat\",children:\"Age Group:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-900 font-montserrat\",children:product.age_group})]}),product.pet_type&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 font-montserrat\",children:\"Pet Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-900 font-montserrat\",children:product.pet_type})]}),product.is_prescription&&/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 font-montserrat\",children:\"\\u26A0\\uFE0F Prescription Required\"})})]})]}),product.tags&&product.tags.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-3 font-montserrat\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:product.tags.map((tag,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 font-montserrat\",children:[\"#\",tag]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium font-montserrat ${product.stock_quantity>10?'bg-green-100 text-green-800':product.stock_quantity>0?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'}`,children:product.stock_quantity>10?'In Stock':product.stock_quantity>0?`${product.stock_quantity} left`:'Out of Stock'})}),product.stock_quantity>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",ref:quantityDropdownRef,children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700 font-montserrat\",children:\"Quantity:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setQuantityDropdownOpen(!quantityDropdownOpen),className:\"border border-gray-300 rounded-lg px-3 py-2 text-sm font-montserrat bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent min-w-[60px]\",children:[/*#__PURE__*/_jsx(\"span\",{children:quantity}),/*#__PURE__*/_jsx(\"svg\",{className:`w-4 h-4 ml-2 transition-transform ${quantityDropdownOpen?'rotate-180':''}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),quantityDropdownOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto min-w-[60px]\",children:[...Array(Math.min(product.stock_quantity,10))].map((_,i)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setQuantity(i+1);setQuantityDropdownOpen(false);},className:`w-full px-3 py-2 text-sm text-left hover:bg-gray-50 flex items-center font-montserrat ${quantity===i+1?'bg-[#E5F4F1] text-[#4A9A64]':'text-gray-900'} ${i>0?'border-t border-gray-200':''}`,children:i+1},i+1))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3 sm:gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:product.stock_quantity===0,className:`flex-1 py-3 px-4 sm:px-6 rounded-xl font-medium font-montserrat transition-colors ${product.stock_quantity>0?'bg-[#5EB47C] text-white hover:bg-[#4A9A64]':'bg-gray-300 text-gray-500 cursor-not-allowed'}`,children:product.stock_quantity>0?'Add to Cart':'Out of Stock'}),/*#__PURE__*/_jsx(\"button\",{disabled:product.stock_quantity===0,className:`flex-1 sm:flex-none px-4 sm:px-6 py-3 rounded-xl font-medium font-montserrat border transition-colors ${product.stock_quantity>0?'border-[#5EB47C] text-[#5EB47C] hover:bg-[#E5F4F1]':'border-gray-300 text-gray-500 cursor-not-allowed'}`,children:\"Buy Now\"})]})]})]})]}),relatedProducts.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\",children:[\"More from \",(provider===null||provider===void 0?void 0:provider.business_name)||(provider===null||provider===void 0?void 0:provider.name)]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\",children:relatedProducts.map(relatedProduct=>/*#__PURE__*/_jsx(Link,{to:`/product/${relatedProduct.id}`,className:\"group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-100 to-primary-200 h-28 sm:h-32 rounded-t-2xl overflow-hidden\",children:relatedProduct.image_url?/*#__PURE__*/_jsx(\"img\",{src:relatedProduct.image_url,alt:relatedProduct.name,className:\"w-full h-full object-cover border-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center text-base\",children:\"\\uD83D\\uDCE6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 sm:p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-2 font-montserrat group-hover:text-primary-600 transition-colors\",children:relatedProduct.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-gray-900 font-montserrat\",children:[\"$\",relatedProduct.price]}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 font-montserrat\",children:relatedProduct.category})]})]})]})},relatedProduct.id))})]})]})]});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","Link","supabase","FavoriteButton","jsx","_jsx","jsxs","_jsxs","ProductDetail","_provider$name","productId","product","setProduct","provider","setProvider","relatedProducts","setRelatedProducts","loading","setLoading","quantity","setQuantity","quantityDropdownOpen","setQuantityDropdownOpen","quantityDropdownRef","loadProductData","data","productData","error","productError","from","select","eq","single","providerData","providerError","provider_id","relatedData","relatedError","gt","neq","limit","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","to","fillRule","clipRule","category","name","image_url","src","alt","listingId","id","listingType","size","subcategory","brand","price","charAt","business_name","verified","rating","Array","map","_","i","reviews_count","description","sku","weight_kg","dimensions","age_group","pet_type","is_prescription","tags","length","tag","index","stock_quantity","ref","type","onClick","Math","min","disabled","relatedProduct"],"sources":["/workspace/src/components/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { supabase } from '../lib/supabase.js';\nimport FavoriteButton from './FavoriteButton';\n\nconst ProductDetail = () => {\n  const { productId } = useParams();\n  const [product, setProduct] = useState(null);\n  const [provider, setProvider] = useState(null);\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [quantity, setQuantity] = useState(1);\n  const [quantityDropdownOpen, setQuantityDropdownOpen] = useState(false);\n  const quantityDropdownRef = useRef(null);\n\n  useEffect(() => {\n    const loadProductData = async () => {\n      try {\n        // Load product details\n        const { data: productData, error: productError } = await supabase\n          .from('products')\n          .select('*')\n          .eq('id', productId)\n          .single();\n\n        if (productError) {\n          // Product loading error - handled by UI state\n          setLoading(false);\n          return;\n        }\n\n        setProduct(productData);\n\n        // Load provider details\n        const { data: providerData, error: providerError } = await supabase\n          .from('providers')\n          .select('*')\n          .eq('id', productData.provider_id)\n          .single();\n\n        if (!providerError) {\n          setProvider(providerData);\n        }\n\n        // Load related products from the same provider\n        const { data: relatedData, error: relatedError } = await supabase\n          .from('products')\n          .select('*')\n          .eq('provider_id', productData.provider_id)\n          .eq('is_active', true)\n          .gt('stock_quantity', 0)\n          .neq('id', productId)\n          .limit(3);\n\n        if (!relatedError) {\n          setRelatedProducts(relatedData || []);\n        }\n\n        setLoading(false);\n      } catch (error) {\n        // Error loading product data - handled by UI state\n        setLoading(false);\n      }\n    };\n\n    if (productId) {\n      loadProductData();\n    }\n  }, [productId]);\n\n  // Close quantity dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (quantityDropdownRef.current && !quantityDropdownRef.current.contains(event.target)) {\n        setQuantityDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 font-montserrat\">Loading product details...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\n            <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\n            </svg>\n          </div>\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2 font-montserrat\">Product not found</h3>\n          <p className=\"text-gray-500 font-montserrat mb-4\">The product you're looking for doesn't exist.</p>\n          <Link\n            to=\"/marketplace\"\n            className=\"inline-flex items-center px-4 py-2 bg-[#5EB47C] text-white rounded-lg hover:bg-[#4A9A64] transition-colors font-montserrat\"\n          >\n            Back to Marketplace\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Breadcrumb */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4\">\n          <nav className=\"flex overflow-x-auto scrollbar-hide\" aria-label=\"Breadcrumb\">\n            <ol className=\"flex items-center space-x-2 sm:space-x-4 whitespace-nowrap\">\n              <li>\n                <Link to=\"/marketplace\" className=\"text-gray-500 hover:text-gray-700 font-montserrat\">\n                  Marketplace\n                </Link>\n              </li>\n              <li>\n                <svg className=\"flex-shrink-0 h-5 w-5 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\n                </svg>\n              </li>\n              <li>\n                <span className=\"text-gray-500 font-montserrat\">{product.category}</span>\n              </li>\n              <li>\n                <svg className=\"flex-shrink-0 h-5 w-5 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\n                </svg>\n              </li>\n              <li>\n                <span className=\"text-gray-900 font-montserrat font-medium\">{product.name}</span>\n              </li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n\n      {/* Product Details */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mb-8 lg:mb-12\">\n          {/* Product Image */}\n          <div className=\"aspect-w-1 aspect-h-1\">\n            <div className=\"bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl h-64 sm:h-80 lg:h-96 overflow-hidden\">\n              {product.image_url ? (\n                <img\n                  src={product.image_url}\n                  alt={product.name}\n                  className=\"w-full h-full object-cover border-0\"\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center text-6xl\">📦</div>\n              )}\n            </div>\n          </div>\n\n          {/* Product Information */}\n          <div className=\"flex flex-col\">\n            <div className=\"flex items-start justify-between mb-4\">\n              <div className=\"flex-1\">\n                <h1 className=\"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-2 font-montserrat\">\n                  {product.name}\n                </h1>\n              </div>\n              <FavoriteButton\n                listingId={product.id}\n                listingType=\"product\"\n                size=\"md\"\n                className=\"ml-4 flex-shrink-0\"\n              />\n            </div>\n            <div className=\"mb-4\">\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-3 mb-4\">\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 font-montserrat\">\n                    {product.category}\n                  </span>\n                  {product.subcategory && (\n                    <span className=\"text-sm text-gray-500 font-montserrat\">\n                      {product.subcategory}\n                    </span>\n                  )}\n                  {product.brand && (\n                    <span className=\"text-sm text-gray-500 font-montserrat\">\n                      by {product.brand}\n                    </span>\n                  )}\n                </div>\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-lg font-bold text-gray-900 font-montserrat\">\n                  ${product.price}\n                </p>\n              </div>\n            </div>\n\n            {/* Provider Info */}\n            {provider && (\n              <div className=\"bg-gray-50 rounded-xl p-4 mb-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-4\">\n                    <span className=\"text-primary-600 font-medium text-base font-montserrat\">\n                      {provider.name?.charAt(0) || 'P'}\n                    </span>\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-gray-900 font-montserrat\">\n                      Sold by {provider.business_name || provider.name}\n                    </p>\n                    <div className=\"flex items-center gap-2\">\n                      {provider.verified && (\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 font-montserrat\">\n                          <svg className=\"w-3 h-3 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                          </svg>\n                          Verified\n                        </span>\n                      )}\n                      {provider.rating > 0 && (\n                        <div className=\"flex items-center\">\n                          <div className=\"flex text-yellow-400 mr-1\">\n                            {[...Array(5)].map((_, i) => (\n                              <svg key={i} className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                              </svg>\n                            ))}\n                          </div>\n                          <span className=\"text-xs text-gray-500 font-montserrat\">\n                            {provider.rating} ({provider.reviews_count})\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <Link\n                    to={`/provider/${provider.id}`}\n                    className=\"text-primary-600 hover:text-primary-700 text-sm font-medium font-montserrat\"\n                  >\n                    View Store\n                  </Link>\n                </div>\n              </div>\n            )}\n\n            {/* Product Description */}\n            {product.description && (\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-3 font-montserrat\">\n                  Description\n                </h3>\n                <p className=\"text-gray-700 font-montserrat leading-relaxed\">\n                  {product.description}\n                </p>\n              </div>\n            )}\n\n            {/* Product Details */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3 font-montserrat\">\n                Product Details\n              </h3>\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                {product.sku && (\n                  <div>\n                    <span className=\"text-gray-500 font-montserrat\">SKU:</span>\n                    <span className=\"ml-2 text-gray-900 font-montserrat\">{product.sku}</span>\n                  </div>\n                )}\n                {product.weight_kg && (\n                  <div>\n                    <span className=\"text-gray-500 font-montserrat\">Weight:</span>\n                    <span className=\"ml-2 text-gray-900 font-montserrat\">{product.weight_kg} kg</span>\n                  </div>\n                )}\n                {product.dimensions && (\n                  <div>\n                    <span className=\"text-gray-500 font-montserrat\">Dimensions:</span>\n                    <span className=\"ml-2 text-gray-900 font-montserrat\">{product.dimensions}</span>\n                  </div>\n                )}\n                {product.age_group && (\n                  <div>\n                    <span className=\"text-gray-500 font-montserrat\">Age Group:</span>\n                    <span className=\"ml-2 text-gray-900 font-montserrat\">{product.age_group}</span>\n                  </div>\n                )}\n                {product.pet_type && (\n                  <div>\n                    <span className=\"text-gray-500 font-montserrat\">Pet Type:</span>\n                    <span className=\"ml-2 text-gray-900 font-montserrat\">{product.pet_type}</span>\n                  </div>\n                )}\n                {product.is_prescription && (\n                  <div className=\"col-span-2\">\n                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 font-montserrat\">\n                      ⚠️ Prescription Required\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Tags */}\n            {product.tags && product.tags.length > 0 && (\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-3 font-montserrat\">\n                  Tags\n                </h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {product.tags.map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 font-montserrat\"\n                    >\n                      #{tag}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Stock and Purchase */}\n            <div className=\"mt-auto\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div>\n                  <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium font-montserrat ${\n                    product.stock_quantity > 10 \n                      ? 'bg-green-100 text-green-800' \n                      : product.stock_quantity > 0 \n                      ? 'bg-yellow-100 text-yellow-800'\n                      : 'bg-red-100 text-red-800'\n                  }`}>\n                    {product.stock_quantity > 10 ? 'In Stock' : \n                     product.stock_quantity > 0 ? `${product.stock_quantity} left` : 'Out of Stock'}\n                  </span>\n                </div>\n                \n                {product.stock_quantity > 0 && (\n                  <div className=\"flex items-center gap-3\" ref={quantityDropdownRef}>\n                    <label className=\"text-sm font-medium text-gray-700 font-montserrat\">\n                      Quantity:\n                    </label>\n                    <div className=\"relative\">\n                      <button\n                        type=\"button\"\n                        onClick={() => setQuantityDropdownOpen(!quantityDropdownOpen)}\n                        className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm font-montserrat bg-white text-left flex items-center justify-between hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent min-w-[60px]\"\n                      >\n                        <span>{quantity}</span>\n                        <svg\n                          className={`w-4 h-4 ml-2 transition-transform ${quantityDropdownOpen ? 'rotate-180' : ''}`}\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                        </svg>\n                      </button>\n                      \n                      {quantityDropdownOpen && (\n                        <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-xl ring-1 ring-black ring-opacity-5 z-50 overflow-hidden max-h-60 overflow-y-auto min-w-[60px]\">\n                          {[...Array(Math.min(product.stock_quantity, 10))].map((_, i) => (\n                            <button\n                              key={i + 1}\n                              type=\"button\"\n                              onClick={() => {\n                                setQuantity(i + 1);\n                                setQuantityDropdownOpen(false);\n                              }}\n                              className={`w-full px-3 py-2 text-sm text-left hover:bg-gray-50 flex items-center font-montserrat ${\n                                quantity === i + 1 ? 'bg-[#E5F4F1] text-[#4A9A64]' : 'text-gray-900'\n                              } ${i > 0 ? 'border-t border-gray-200' : ''}`}\n                            >\n                              {i + 1}\n                            </button>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4\">\n                <button\n                  disabled={product.stock_quantity === 0}\n                  className={`flex-1 py-3 px-4 sm:px-6 rounded-xl font-medium font-montserrat transition-colors ${\n                    product.stock_quantity > 0\n                      ? 'bg-[#5EB47C] text-white hover:bg-[#4A9A64]'\n                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                >\n                  {product.stock_quantity > 0 ? 'Add to Cart' : 'Out of Stock'}\n                </button>\n                <button\n                  disabled={product.stock_quantity === 0}\n                  className={`flex-1 sm:flex-none px-4 sm:px-6 py-3 rounded-xl font-medium font-montserrat border transition-colors ${\n                    product.stock_quantity > 0\n                      ? 'border-[#5EB47C] text-[#5EB47C] hover:bg-[#E5F4F1]'\n                      : 'border-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                >\n                  Buy Now\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Related Products */}\n        {relatedProducts.length > 0 && (\n          <div>\n            <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6 font-montserrat\">\n              More from {provider?.business_name || provider?.name}\n            </h2>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n              {relatedProducts.map((relatedProduct) => (\n                <Link\n                  key={relatedProduct.id}\n                  to={`/product/${relatedProduct.id}`}\n                  className=\"group\"\n                >\n                  <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300\">\n                    <div className=\"aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-100 to-primary-200 h-28 sm:h-32 rounded-t-2xl overflow-hidden\">\n                      {relatedProduct.image_url ? (\n                        <img\n                          src={relatedProduct.image_url}\n                          alt={relatedProduct.name}\n                          className=\"w-full h-full object-cover border-0\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center text-base\">\n                          📦\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"p-3 sm:p-4\">\n                      <h3 className=\"font-semibold text-gray-900 mb-2 font-montserrat group-hover:text-primary-600 transition-colors\">\n                        {relatedProduct.name}\n                      </h3>\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-lg font-bold text-gray-900 font-montserrat\">\n                          ${relatedProduct.price}\n                        </span>\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 font-montserrat\">\n                          {relatedProduct.category}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}