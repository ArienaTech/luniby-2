{"ast":null,"code":"// Product/service management service\nimport{supabase}from'../lib/supabase';import{handleSupabaseError}from'../lib/supabase-utils';export const productService={// Get all products/services\nasync getProducts(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{let query=supabase.from('products').select('*').order('created_at',{ascending:false});if(filters.category){query=query.eq('category',filters.category);}if(filters.providerId){query=query.eq('provider_id',filters.providerId);}const{data,error}=await query;if(error){return{success:false,error:handleSupabaseError(error),data:[]};}return{success:true,data:data||[]};}catch(error){return{success:false,error:handleSupabaseError(error),data:[]};}},// Get a single product\nasync getProduct(productId){try{const{data,error}=await supabase.from('products').select('*').eq('id',productId).single();if(error){return{success:false,error:handleSupabaseError(error),data:null};}return{success:true,data};}catch(error){return{success:false,error:handleSupabaseError(error),data:null};}},// Create a new product\nasync createProduct(productData){try{const{data,error}=await supabase.from('products').insert([productData]).select().single();if(error){return{success:false,error:handleSupabaseError(error),data:null};}return{success:true,data};}catch(error){return{success:false,error:handleSupabaseError(error),data:null};}},// Update a product\nasync updateProduct(productId,updates){try{const{data,error}=await supabase.from('products').update(updates).eq('id',productId).select().single();if(error){return{success:false,error:handleSupabaseError(error),data:null};}return{success:true,data};}catch(error){return{success:false,error:handleSupabaseError(error),data:null};}},// Delete a product\nasync deleteProduct(productId){try{const{error}=await supabase.from('products').delete().eq('id',productId);if(error){return{success:false,error:handleSupabaseError(error)};}return{success:true};}catch(error){return{success:false,error:handleSupabaseError(error)};}}};export default productService;","map":{"version":3,"names":["supabase","handleSupabaseError","productService","getProducts","filters","arguments","length","undefined","query","from","select","order","ascending","category","eq","providerId","data","error","success","getProduct","productId","single","createProduct","productData","insert","updateProduct","updates","update","deleteProduct","delete"],"sources":["/workspace/src/services/productService.js"],"sourcesContent":["// Product/service management service\nimport { supabase } from '../lib/supabase';\nimport { handleSupabaseError } from '../lib/supabase-utils';\n\nexport const productService = {\n  // Get all products/services\n  async getProducts(filters = {}) {\n    try {\n      let query = supabase\n        .from('products')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (filters.category) {\n        query = query.eq('category', filters.category);\n      }\n\n      if (filters.providerId) {\n        query = query.eq('provider_id', filters.providerId);\n      }\n\n      const { data, error } = await query;\n\n      if (error) {\n        return { success: false, error: handleSupabaseError(error), data: [] };\n      }\n\n      return { success: true, data: data || [] };\n    } catch (error) {\n      return { success: false, error: handleSupabaseError(error), data: [] };\n    }\n  },\n\n  // Get a single product\n  async getProduct(productId) {\n    try {\n      const { data, error } = await supabase\n        .from('products')\n        .select('*')\n        .eq('id', productId)\n        .single();\n\n      if (error) {\n        return { success: false, error: handleSupabaseError(error), data: null };\n      }\n\n      return { success: true, data };\n    } catch (error) {\n      return { success: false, error: handleSupabaseError(error), data: null };\n    }\n  },\n\n  // Create a new product\n  async createProduct(productData) {\n    try {\n      const { data, error } = await supabase\n        .from('products')\n        .insert([productData])\n        .select()\n        .single();\n\n      if (error) {\n        return { success: false, error: handleSupabaseError(error), data: null };\n      }\n\n      return { success: true, data };\n    } catch (error) {\n      return { success: false, error: handleSupabaseError(error), data: null };\n    }\n  },\n\n  // Update a product\n  async updateProduct(productId, updates) {\n    try {\n      const { data, error } = await supabase\n        .from('products')\n        .update(updates)\n        .eq('id', productId)\n        .select()\n        .single();\n\n      if (error) {\n        return { success: false, error: handleSupabaseError(error), data: null };\n      }\n\n      return { success: true, data };\n    } catch (error) {\n      return { success: false, error: handleSupabaseError(error), data: null };\n    }\n  },\n\n  // Delete a product\n  async deleteProduct(productId) {\n    try {\n      const { error } = await supabase\n        .from('products')\n        .delete()\n        .eq('id', productId);\n\n      if (error) {\n        return { success: false, error: handleSupabaseError(error) };\n      }\n\n      return { success: true };\n    } catch (error) {\n      return { success: false, error: handleSupabaseError(error) };\n    }\n  }\n};\n\nexport default productService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}