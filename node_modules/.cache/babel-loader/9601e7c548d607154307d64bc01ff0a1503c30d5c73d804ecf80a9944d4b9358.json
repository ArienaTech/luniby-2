{"ast":null,"code":"// Sentry initialization and configuration\nimport*as Sentry from\"@sentry/react\";// Initialize Sentry with environment-specific configuration for v10+\nSentry.init({dsn:process.env.REACT_APP_SENTRY_DSN,// Set tracesSampleRate based on environment\n// Production: 10% of transactions\n// Development: 100% of transactions\ntracesSampleRate:process.env.NODE_ENV==='production'?0.1:1.0,// Set environment\nenvironment:process.env.NODE_ENV||'development',// Before send hook to filter out sensitive data\nbeforeSend(event,hint){// Don't send events in development unless explicitly enabled\nif(process.env.NODE_ENV==='development'&&!process.env.REACT_APP_SENTRY_DEBUG){return null;}// Filter out sensitive information from URLs\nif(event.request&&event.request.url){event.request.url=event.request.url.replace(/([?&])(token|key|password|secret)=[^&]*/gi,'$1$2=REDACTED');}return event;},// Ignore common non-critical errors\nignoreErrors:['ResizeObserver loop limit exceeded','Non-Error promise rejection captured','Network request failed','Failed to fetch']});// Set user context helper\nexport const setSentryUser=user=>{if(user){Sentry.setUser({id:user.id,email:user.email,username:user.username||user.email});}else{Sentry.setUser(null);}};// Custom error logging helper\nexport const logError=function(error){let context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};console.error('Error:',error,context);Sentry.captureException(error,{extra:context});};// Performance monitoring helper - compatible with Sentry v10+\nexport const startTransaction=function(name){let op=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'navigation';// In Sentry v10+, use startSpan or just return a no-op\n// Manual transaction tracking is often not needed with auto-instrumentation\nreturn{finish:()=>{},setStatus:()=>{},setTag:()=>{},setData:()=>{}};};export default Sentry;","map":{"version":3,"names":["Sentry","init","dsn","process","env","REACT_APP_SENTRY_DSN","tracesSampleRate","NODE_ENV","environment","beforeSend","event","hint","REACT_APP_SENTRY_DEBUG","request","url","replace","ignoreErrors","setSentryUser","user","setUser","id","email","username","logError","error","context","arguments","length","undefined","console","captureException","extra","startTransaction","name","op","finish","setStatus","setTag","setData"],"sources":["/workspace/src/lib/sentry.js"],"sourcesContent":["// Sentry initialization and configuration\nimport * as Sentry from \"@sentry/react\";\n\n// Initialize Sentry with environment-specific configuration for v10+\nSentry.init({\n  dsn: process.env.REACT_APP_SENTRY_DSN,\n  \n  // Set tracesSampleRate based on environment\n  // Production: 10% of transactions\n  // Development: 100% of transactions\n  tracesSampleRate: process.env.NODE_ENV === 'production' ? 0.1 : 1.0,\n  \n  // Set environment\n  environment: process.env.NODE_ENV || 'development',\n  \n  // Before send hook to filter out sensitive data\n  beforeSend(event, hint) {\n    // Don't send events in development unless explicitly enabled\n    if (process.env.NODE_ENV === 'development' && !process.env.REACT_APP_SENTRY_DEBUG) {\n      return null;\n    }\n    \n    // Filter out sensitive information from URLs\n    if (event.request && event.request.url) {\n      event.request.url = event.request.url.replace(/([?&])(token|key|password|secret)=[^&]*/gi, '$1$2=REDACTED');\n    }\n    \n    return event;\n  },\n  \n  // Ignore common non-critical errors\n  ignoreErrors: [\n    'ResizeObserver loop limit exceeded',\n    'Non-Error promise rejection captured',\n    'Network request failed',\n    'Failed to fetch',\n  ],\n});\n\n// Set user context helper\nexport const setSentryUser = (user) => {\n  if (user) {\n    Sentry.setUser({\n      id: user.id,\n      email: user.email,\n      username: user.username || user.email,\n    });\n  } else {\n    Sentry.setUser(null);\n  }\n};\n\n// Custom error logging helper\nexport const logError = (error, context = {}) => {\n  console.error('Error:', error, context);\n  Sentry.captureException(error, {\n    extra: context,\n  });\n};\n\n// Performance monitoring helper - compatible with Sentry v10+\nexport const startTransaction = (name, op = 'navigation') => {\n  // In Sentry v10+, use startSpan or just return a no-op\n  // Manual transaction tracking is often not needed with auto-instrumentation\n  return {\n    finish: () => {},\n    setStatus: () => {},\n    setTag: () => {},\n    setData: () => {}\n  };\n};\n\nexport default Sentry;\n"],"mappings":"AAAA;AACA,MAAO,GAAK,CAAAA,MAAM,KAAM,eAAe,CAEvC;AACAA,MAAM,CAACC,IAAI,CAAC,CACVC,GAAG,CAAEC,OAAO,CAACC,GAAG,CAACC,oBAAoB,CAErC;AACA;AACA;AACAC,gBAAgB,CAAEH,OAAO,CAACC,GAAG,CAACG,QAAQ,GAAK,YAAY,CAAG,GAAG,CAAG,GAAG,CAEnE;AACAC,WAAW,CAAEL,OAAO,CAACC,GAAG,CAACG,QAAQ,EAAI,aAAa,CAElD;AACAE,UAAUA,CAACC,KAAK,CAAEC,IAAI,CAAE,CACtB;AACA,GAAIR,OAAO,CAACC,GAAG,CAACG,QAAQ,GAAK,aAAa,EAAI,CAACJ,OAAO,CAACC,GAAG,CAACQ,sBAAsB,CAAE,CACjF,MAAO,KAAI,CACb,CAEA;AACA,GAAIF,KAAK,CAACG,OAAO,EAAIH,KAAK,CAACG,OAAO,CAACC,GAAG,CAAE,CACtCJ,KAAK,CAACG,OAAO,CAACC,GAAG,CAAGJ,KAAK,CAACG,OAAO,CAACC,GAAG,CAACC,OAAO,CAAC,2CAA2C,CAAE,eAAe,CAAC,CAC7G,CAEA,MAAO,CAAAL,KAAK,CACd,CAAC,CAED;AACAM,YAAY,CAAE,CACZ,oCAAoC,CACpC,sCAAsC,CACtC,wBAAwB,CACxB,iBAAiB,CAErB,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAAC,aAAa,CAAIC,IAAI,EAAK,CACrC,GAAIA,IAAI,CAAE,CACRlB,MAAM,CAACmB,OAAO,CAAC,CACbC,EAAE,CAAEF,IAAI,CAACE,EAAE,CACXC,KAAK,CAAEH,IAAI,CAACG,KAAK,CACjBC,QAAQ,CAAEJ,IAAI,CAACI,QAAQ,EAAIJ,IAAI,CAACG,KAClC,CAAC,CAAC,CACJ,CAAC,IAAM,CACLrB,MAAM,CAACmB,OAAO,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAI,QAAQ,CAAG,QAAAA,CAACC,KAAK,CAAmB,IAAjB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC1CG,OAAO,CAACL,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAEC,OAAO,CAAC,CACvCzB,MAAM,CAAC8B,gBAAgB,CAACN,KAAK,CAAE,CAC7BO,KAAK,CAAEN,OACT,CAAC,CAAC,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAO,gBAAgB,CAAG,QAAAA,CAACC,IAAI,CAAwB,IAAtB,CAAAC,EAAE,CAAAR,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,YAAY,CACtD;AACA;AACA,MAAO,CACLS,MAAM,CAAEA,CAAA,GAAM,CAAC,CAAC,CAChBC,SAAS,CAAEA,CAAA,GAAM,CAAC,CAAC,CACnBC,MAAM,CAAEA,CAAA,GAAM,CAAC,CAAC,CAChBC,OAAO,CAAEA,CAAA,GAAM,CAAC,CAClB,CAAC,CACH,CAAC,CAED,cAAe,CAAAtC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}