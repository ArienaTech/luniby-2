{"ast":null,"code":"// Initialize favorites system\nimport{supabase}from'../lib/supabase';export const initializeFavorites=async()=>{try{// Check if the user_favorites table exists by trying to query it\nconst{data,error}=await supabase.from('user_favorites').select('id').limit(1);if(error){// If table doesn't exist, return that setup is needed\nif(error.message.includes('relation \"user_favorites\" does not exist')){console.warn('⚠️ user_favorites table does not exist');return{success:false,needsSetup:true,message:'Favorites table needs to be created in database'};}// Other errors\nconsole.error('Error checking favorites table:',error);return{success:false,needsSetup:false,error:error.message};}// Table exists and is accessible\nreturn{success:true,needsSetup:false,message:'Favorites system ready'};}catch(error){console.error('Error initializing favorites:',error);return{success:false,needsSetup:false,error:error.message};}};export default initializeFavorites;","map":{"version":3,"names":["supabase","initializeFavorites","data","error","from","select","limit","message","includes","console","warn","success","needsSetup"],"sources":["/workspace/src/utils/initializeFavorites.js"],"sourcesContent":["// Initialize favorites system\nimport { supabase } from '../lib/supabase';\n\nexport const initializeFavorites = async () => {\n  try {\n    // Check if the user_favorites table exists by trying to query it\n    const { data, error } = await supabase\n      .from('user_favorites')\n      .select('id')\n      .limit(1);\n\n    if (error) {\n      // If table doesn't exist, return that setup is needed\n      if (error.message.includes('relation \"user_favorites\" does not exist')) {\n        console.warn('⚠️ user_favorites table does not exist');\n        return {\n          success: false,\n          needsSetup: true,\n          message: 'Favorites table needs to be created in database'\n        };\n      }\n      \n      // Other errors\n      console.error('Error checking favorites table:', error);\n      return {\n        success: false,\n        needsSetup: false,\n        error: error.message\n      };\n    }\n\n    // Table exists and is accessible\n    return {\n      success: true,\n      needsSetup: false,\n      message: 'Favorites system ready'\n    };\n  } catch (error) {\n    console.error('Error initializing favorites:', error);\n    return {\n      success: false,\n      needsSetup: false,\n      error: error.message\n    };\n  }\n};\n\nexport default initializeFavorites;\n"],"mappings":"AAAA;AACA,OAASA,QAAQ,KAAQ,iBAAiB,CAE1C,MAAO,MAAM,CAAAC,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CAC7C,GAAI,CACF;AACA,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAG,KAAM,CAAAH,QAAQ,CACnCI,IAAI,CAAC,gBAAgB,CAAC,CACtBC,MAAM,CAAC,IAAI,CAAC,CACZC,KAAK,CAAC,CAAC,CAAC,CAEX,GAAIH,KAAK,CAAE,CACT;AACA,GAAIA,KAAK,CAACI,OAAO,CAACC,QAAQ,CAAC,0CAA0C,CAAC,CAAE,CACtEC,OAAO,CAACC,IAAI,CAAC,wCAAwC,CAAC,CACtD,MAAO,CACLC,OAAO,CAAE,KAAK,CACdC,UAAU,CAAE,IAAI,CAChBL,OAAO,CAAE,iDACX,CAAC,CACH,CAEA;AACAE,OAAO,CAACN,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvD,MAAO,CACLQ,OAAO,CAAE,KAAK,CACdC,UAAU,CAAE,KAAK,CACjBT,KAAK,CAAEA,KAAK,CAACI,OACf,CAAC,CACH,CAEA;AACA,MAAO,CACLI,OAAO,CAAE,IAAI,CACbC,UAAU,CAAE,KAAK,CACjBL,OAAO,CAAE,wBACX,CAAC,CACH,CAAE,MAAOJ,KAAK,CAAE,CACdM,OAAO,CAACN,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrD,MAAO,CACLQ,OAAO,CAAE,KAAK,CACdC,UAAU,CAAE,KAAK,CACjBT,KAAK,CAAEA,KAAK,CAACI,OACf,CAAC,CACH,CACF,CAAC,CAED,cAAe,CAAAN,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}